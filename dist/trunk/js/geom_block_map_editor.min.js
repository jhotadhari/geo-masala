!function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){function d(a,b){var c,d=[];if("object"==typeof a)c=a;else{if("string"!=typeof a)return[{message:"Expected string or object as input",line:0}];try{c=e.parse(a)}catch(a){var g=a.message.match(/line (\d+)/),h=parseInt(g[1],10);return[{line:h-1,message:a.message,error:a}]}}return d=d.concat(f.hint(c,b))}var e=a("jsonlint-lines"),f=a("./object");b.exports.hint=d},{"./object":2,"jsonlint-lines":99}],2:[function(a,b,c){function d(a,b){function c(a){if(b&&!1===b.noDuplicateMembers||!a.__duplicateProperties__||u.push({message:"An object contained duplicate members, making parsing ambigous: "+a.__duplicateProperties__.join(", "),line:a.__line__}),!f(a,"type","string"))if(y[a.type])a&&y[a.type](a);else{var c=z[a.type.toLowerCase()];void 0!==c?u.push({message:"Expected "+c+" but got "+a.type+" (case sensitive)",line:a.__line__}):u.push({message:"The type "+a.type+" is unknown",line:a.__line__})}}function d(a,b){return a.every(function(a){return null!==a&&typeof a===b})}function f(a,b,c){if(void 0===a[b])return u.push({message:'"'+b+'" member required',line:a.__line__});if("array"===c){if(!Array.isArray(a[b]))return u.push({message:'"'+b+'" member should be an array, but is an '+typeof a[b]+" instead",line:a.__line__})}else{if("object"===c&&a[b]&&"Object"!==a[b].constructor.name)return u.push({message:'"'+b+'" member should be '+c+", but is an "+a[b].constructor.name+" instead",line:a.__line__});if(c&&typeof a[b]!==c)return u.push({message:'"'+b+'" member should be '+c+", but is an "+typeof a[b]+" instead",line:a.__line__})}}function g(a){if(j(a),k(a),void 0!==a.properties&&u.push({message:'FeatureCollection object cannot contain a "properties" member',line:a.__line__}),void 0!==a.coordinates&&u.push({message:'FeatureCollection object cannot contain a "coordinates" member',line:a.__line__}),!f(a,"features","array")){if(!d(a.features,"object"))return u.push({message:"Every feature must be an object",line:a.__line__});a.features.forEach(t)}}function h(a,c){if(!Array.isArray(a))return u.push({message:"position should be an array, is a "+typeof a+" instead",line:a.__line__||c});if(a.length<2)return u.push({message:"position must have 2 or more elements",line:a.__line__||c});if(a.length>3)return u.push({message:"position should not have more than 3 elements",level:"message",line:a.__line__||c});if(!d(a,"number"))return u.push({message:"each element in a position must be a number",line:a.__line__||c});if(b&&b.precisionWarning){if(v===w)return v+=1,u.push({message:"truncated warnings: we've encountered coordinate precision warning "+w+" times, no more warnings will be reported",level:"message",line:a.__line__||c});v<w&&a.forEach(function(b){var d=0,e=String(b).split(".")[1];if(void 0!==e&&(d=e.length),d>x)return v+=1,u.push({message:"precision of coordinates should be reduced",level:"message",line:a.__line__||c})})}}function i(a,b,c,d){if(void 0===d&&void 0!==a.__line__&&(d=a.__line__),0===c)return h(a,d);if(1===c&&b)if("LinearRing"===b){if(!Array.isArray(a[a.length-1]))return u.push({message:"a number was found where a coordinate array should have been found: this needs to be nested more deeply",line:d}),!0;if(a.length<4&&u.push({message:"a LinearRing of coordinates needs to have four or more positions",line:d}),a.length&&(a[a.length-1].length!==a[0].length||!a[a.length-1].every(function(b,c){return a[0][c]===b})))return u.push({message:"the first and last positions in a LinearRing of coordinates must be the same",line:d}),!0}else if("Line"===b&&a.length<2)return u.push({message:"a line needs to have two or more coordinates to be valid",line:d});if(Array.isArray(a)){return a.map(function(a){return i(a,b,c-1,a.__line__||d)}).some(function(a){return a})}u.push({message:"a number was found where a coordinate array should have been found: this needs to be nested more deeply",line:d})}function j(a){if(a.crs){"object"==typeof a.crs&&a.crs.properties&&"urn:ogc:def:crs:OGC:1.3:CRS84"===a.crs.properties.name?u.push({message:"old-style crs member is not recommended, this object is equivalent to the default and should be removed",line:a.__line__}):u.push({message:"old-style crs member is not recommended",line:a.__line__})}}function k(a){if(a.bbox)return Array.isArray(a.bbox)?(d(a.bbox,"number")||u.push({message:"each element in a bbox member must be a number",line:a.bbox.__line__}),4!==a.bbox.length&&6!==a.bbox.length&&u.push({message:"bbox must contain 4 elements (for 2D) or 6 elements (for 3D)",line:a.bbox.__line__}),u.length):void u.push({message:"bbox member must be an array of numbers, but is a "+typeof a.bbox,line:a.__line__})}function l(a){void 0!==a.properties&&u.push({message:'geometry object cannot contain a "properties" member',line:a.__line__}),void 0!==a.geometry&&u.push({message:'geometry object cannot contain a "geometry" member',line:a.__line__}),void 0!==a.features&&u.push({message:'geometry object cannot contain a "features" member',line:a.__line__})}function m(a){j(a),k(a),l(a),f(a,"coordinates","array")||h(a.coordinates)}function n(a){j(a),k(a),f(a,"coordinates","array")||i(a.coordinates,"LinearRing",2)||e(a,u)}function o(a){j(a),k(a),f(a,"coordinates","array")||i(a.coordinates,"LinearRing",3)||e(a,u)}function p(a){j(a),k(a),f(a,"coordinates","array")||i(a.coordinates,"Line",1)}function q(a){j(a),k(a),f(a,"coordinates","array")||i(a.coordinates,"Line",2)}function r(a){j(a),k(a),f(a,"coordinates","array")||i(a.coordinates,"",1)}function s(a){j(a),k(a),f(a,"geometries","array")||(d(a.geometries,"object")||u.push({message:"The geometries array in a GeometryCollection must contain only geometry objects",line:a.__line__}),1===a.geometries.length&&u.push({message:"GeometryCollection with a single geometry should be avoided in favor of single part or a single object of multi-part type",line:a.geometries.__line__}),a.geometries.forEach(function(b){b&&("GeometryCollection"===b.type&&u.push({message:"GeometryCollection should avoid nested geometry collections",line:a.geometries.__line__}),c(b))}))}function t(a){j(a),k(a),void 0!==a.id&&"string"!=typeof a.id&&"number"!=typeof a.id&&u.push({message:'Feature "id" member must have a string or number value',line:a.__line__}),void 0!==a.features&&u.push({message:'Feature object cannot contain a "features" member',line:a.__line__}),void 0!==a.coordinates&&u.push({message:'Feature object cannot contain a "coordinates" member',line:a.__line__}),"Feature"!==a.type&&u.push({message:"GeoJSON features must have a type=feature member",line:a.__line__}),f(a,"properties","object"),f(a,"geometry","object")||a.geometry&&c(a.geometry)}var u=[],v=0,w=10,x=6,y={Point:m,Feature:t,MultiPoint:r,LineString:p,MultiLineString:q,FeatureCollection:g,GeometryCollection:s,Polygon:n,MultiPolygon:o},z=Object.keys(y).reduce(function(a,b){return a[b.toLowerCase()]=b,a},{});return"object"!=typeof a||null===a||void 0===a?(u.push({message:"The root of a GeoJSON object must be an object.",line:0}),u):(c(a),u.forEach(function(a){({}).hasOwnProperty.call(a,"line")&&void 0===a.line&&delete a.line}),u)}var e=a("./rhr");b.exports.hint=d},{"./rhr":3}],3:[function(a,b,c){function d(a){return a*Math.PI/180}function e(a){var b=0;if(a.length>2)for(var c,e,f=0;f<a.length-1;f++)c=a[f],e=a[f+1],b+=d(e[0]-c[0])*(2+Math.sin(d(c[1]))+Math.sin(d(e[1])));return b>=0}function f(a){if(a&&a.length>0){if(e(a[0]))return!1;if(!a.slice(1,a.length).every(e))return!1}return!0}function g(a){return"Polygon"===a.type?f(a.coordinates):"MultiPolygon"===a.type?a.coordinates.every(f):void 0}b.exports=function(a,b){g(a)||b.push({message:"Polygons and MultiPolygons should follow the right-hand rule",level:"message",line:a.__line__})}},{}],4:[function(a,b,c){b.exports={default:a("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":19}],5:[function(a,b,c){b.exports={default:a("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":20}],6:[function(a,b,c){b.exports={default:a("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":21}],7:[function(a,b,c){b.exports={default:a("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":22}],8:[function(a,b,c){b.exports={default:a("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":23}],9:[function(a,b,c){b.exports={default:a("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":24}],10:[function(a,b,c){"use strict";c.__esModule=!0,c.default=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}},{}],11:[function(a,b,c){"use strict";c.__esModule=!0;var d=a("../core-js/object/assign"),e=function(a){return a&&a.__esModule?a:{default:a}}(d);c.default=e.default||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}},{"../core-js/object/assign":4}],12:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0;var e=a("../core-js/object/set-prototype-of"),f=d(e),g=a("../core-js/object/create"),h=d(g),i=a("../helpers/typeof"),j=d(i);c.default=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":(0,j.default)(b)));a.prototype=(0,h.default)(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(f.default?(0,f.default)(a,b):a.__proto__=b)}},{"../core-js/object/create":5,"../core-js/object/set-prototype-of":7,"../helpers/typeof":14}],13:[function(a,b,c){"use strict";c.__esModule=!0;var d=a("../helpers/typeof"),e=function(a){return a&&a.__esModule?a:{default:a}}(d);c.default=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":(0,e.default)(b))&&"function"!=typeof b?a:b}},{"../helpers/typeof":14}],14:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0;var e=a("../core-js/symbol/iterator"),f=d(e),g=a("../core-js/symbol"),h=d(g),i="function"==typeof h.default&&"symbol"==typeof f.default?function(a){return typeof a}:function(a){return a&&"function"==typeof h.default&&a.constructor===h.default&&a!==h.default.prototype?"symbol":typeof a};c.default="function"==typeof h.default&&"symbol"===i(f.default)?function(a){return void 0===a?"undefined":i(a)}:function(a){return a&&"function"==typeof h.default&&a.constructor===h.default&&a!==h.default.prototype?"symbol":void 0===a?"undefined":i(a)}},{"../core-js/symbol":8,"../core-js/symbol/iterator":9}],15:[function(a,b,c){(function(){var a,b,c,d,e,f,g=[].slice;c=function(a){var b,d;return!_.isObject(a)||_.isFunction(a)?a:a instanceof Backbone.Collection||a instanceof Backbone.Model?a:_.isDate(a)?new Date(a.getTime()):_.isRegExp(a)?new RegExp(a.source,a.toString().replace(/.*\//,"")):(d=_.isArray(a||_.isArguments(a)),b=function(a,b,e){return d?a.push(c(b)):a[e]=c(b),a},_.reduce(a,b,d?[]:{}))},f=function(a){return null!=a&&((a.prototype==={}.prototype||a.prototype===Object.prototype)&&_.isObject(a)&&!_.isArray(a)&&!_.isFunction(a)&&!_.isDate(a)&&!_.isRegExp(a)&&!_.isArguments(a))},b=function(a){return _.filter(_.keys(a),function(b){return f(a[b])})},a=function(a){return _.filter(_.keys(a),function(b){return _.isArray(a[b])})},e=function(c,d,f){var g,h,i,j,k,l,m,n,o,p;if(null==f&&(f=20),f<=0)return console.warn("_.deepExtend(): Maximum depth of recursion hit."),_.extend(c,d);for(l=_.intersection(b(c),b(d)),h=function(a){return d[a]=e(c[a],d[a],f-1)},m=0,o=l.length;m<o;m++)k=l[m],h(k);for(j=_.intersection(a(c),a(d)),g=function(a){return d[a]=_.union(c[a],d[a])},n=0,p=j.length;n<p;n++)i=j[n],g(i);return _.extend(c,d)},d=function(){var a,b,d,f;if(d=2<=arguments.length?g.call(arguments,0,f=arguments.length-1):(f=0,[]),b=arguments[f++],_.isNumber(b)||(d.push(b),b=20),d.length<=1)return d[0];if(b<=0)return _.extend.apply(this,d);for(a=d.shift();d.length>0;)a=e(a,c(d.shift()),b);return a},_.mixin({deepClone:c,isBasicObject:f,basicObjects:b,arrays:a,deepExtend:d})}).call(this),function(a){"function"==typeof define&&define.amd?define(["underscore","backbone"],a):a(_,Backbone)}(function(a,c){function d(b){var c={},e=h.keyPathSeparator;for(var f in b){var g=b[f];if(g&&g.constructor===Object&&!a.isEmpty(g)){var i=d(g);for(var j in i){var k=i[j];c[f+e+j]=k}}else c[f]=g}return c}function e(b,c,d){for(var e=h.keyPathSeparator,f=c.split(e),g=b,i=0,j=f.length;i<j;i++){if(d&&!a.has(g,f[i]))return!1;if(g=g[f[i]],null==g&&i<j-1&&(g={}),void 0===g)return!!d||g}return!!d||g}function f(b,c,d,e){e=e||{};for(var f=h.keyPathSeparator,g=c.split(f),i=b,j=0,k=g.length;j<k&&void 0!==i;j++){var l=g[j];j===k-1?e.unset?delete i[l]:i[l]=d:(void 0!==i[l]&&a.isObject(i[l])||(i[l]={}),i=i[l])}}function g(a,b){f(a,b,null,{unset:!0})}var h=c.Model.extend({constructor:function(b,c){var d,e=b||{};this.cid=a.uniqueId("c"),this.attributes={},c&&c.collection&&(this.collection=c.collection),c&&c.parse&&(e=this.parse(e,c)||{}),(d=a.result(this,"defaults"))&&(e=a.deepExtend({},d,e)),this.set(e,c),this.changed={},this.initialize.apply(this,arguments)},toJSON:function(b){return a.deepClone(this.attributes)},get:function(a){return e(this.attributes,a)},set:function(b,c,i){var j,k,l,m,n,o,p,q;if(null==b)return this;if("object"==typeof b?(k=b,i=c||{}):(k={})[b]=c,i||(i={}),!this._validate(k,i))return!1;l=i.unset,n=i.silent,m=[],o=this._changing,this._changing=!0,o||(this._previousAttributes=a.deepClone(this.attributes),this.changed={}),q=this.attributes,p=this._previousAttributes,this.idAttribute in k&&(this.id=k[this.idAttribute]),k=d(k);for(j in k)c=k[j],a.isEqual(e(q,j),c)||m.push(j),a.isEqual(e(p,j),c)?g(this.changed,j):f(this.changed,j,c),l?g(q,j):f(q,j,c);if(!n){m.length&&(this._pending=!0);for(var r=h.keyPathSeparator,s=0,t=m.length;s<t;s++){var b=m[s];this.trigger("change:"+b,this,e(q,b),i);for(var u=b.split(r),v=u.length-1;v>0;v--){var w=a.first(u,v).join(r),x=w+r+"*";this.trigger("change:"+x,this,e(q,w),i)}}}if(o)return this;if(!n)for(;this._pending;)this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},clear:function(b){var c={},e=d(this.attributes);for(var f in e)c[f]=void 0;return this.set(c,a.extend({},b,{unset:!0}))},hasChanged:function(b){return null==b?!a.isEmpty(this.changed):void 0!==e(this.changed,b)},changedAttributes:function(b){if(!b)return!!this.hasChanged()&&d(this.changed);var c=this._changing?this._previousAttributes:this.attributes;b=d(b),c=d(c);var e,f=!1;for(var g in b)a.isEqual(c[g],e=b[g])||((f||(f={}))[g]=e);return f},previous:function(a){return null!=a&&this._previousAttributes?e(this._previousAttributes,a):null},previousAttributes:function(){return a.deepClone(this._previousAttributes)}});return h.keyPathSeparator=".",c.DeepModel=h,void 0!==b&&(b.exports=h),c})},{}],16:[function(a,b,c){(function(c){!function(d){"function"==typeof a&&void 0!==b&&b.exports?b.exports=d("undefined"!=typeof window?window._:void 0!==c?c._:null):"function"==typeof define?define(["underscore"],d):this.Cocktail=d(_)}(function(a){var b={};b.mixins={},b.mixin=function(c){var d=a.chain(arguments).toArray().slice(1).flatten().value(),e=c.prototype||c,f={};return a.each(d,function(c){a.isString(c)&&(c=b.mixins[c]),a.each(c,function(b,c){if(a.isFunction(b)){if(e[c]===b)return;e[c]&&(f[c]=f.hasOwnProperty(c)?f[c]:[e[c]],f[c].push(b)),e[c]=b}else a.isArray(b)?e[c]=a.union(b,e[c]||[]):a.isObject(b)?e[c]=a.extend({},b,e[c]||{}):c in e||(e[c]=b)})}),a.each(f,function(b,c){e[c]=function(){var c,d=this,e=arguments;return a.each(b,function(b){var f=a.isFunction(b)?b.apply(d,e):b;c=void 0===f?c:f}),c}}),c};var c;return b.patch=function(d,e){var f=[d.Model,d.Collection,d.Router,d.View].concat(e||[]);c=d.Model.extend;var g=function(a,d){var e=c.call(this,a,d),f=e.prototype.mixins;return f&&e.prototype.hasOwnProperty("mixins")&&b.mixin(e,f),e};a.each(f,function(c){c.mixin=function(){b.mixin(this,a.toArray(arguments))},c.extend=g})},b.unpatch=function(b){a.each([b.Model,b.Collection,b.Router,b.View],function(a){a.mixin=void 0,a.extend=c})},b})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(a,b,c){},{}],18:[function(a,b,c){!function(){"use strict";function a(){for(var b=[],d=0;d<arguments.length;d++){var e=arguments[d];if(e){var f=typeof e;if("string"===f||"number"===f)b.push(e);else if(Array.isArray(e)&&e.length){var g=a.apply(null,e);g&&b.push(g)}else if("object"===f)for(var h in e)c.call(e,h)&&e[h]&&b.push(h)}}return b.join(" ")}var c={}.hasOwnProperty;void 0!==b&&b.exports?(a.default=a,b.exports=a):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return a}):window.classNames=a}()},{}],19:[function(a,b,c){a("../../modules/es6.object.assign"),b.exports=a("../../modules/_core").Object.assign},{"../../modules/_core":30,"../../modules/es6.object.assign":84}],20:[function(a,b,c){a("../../modules/es6.object.create");var d=a("../../modules/_core").Object;b.exports=function(a,b){return d.create(a,b)}},{"../../modules/_core":30,"../../modules/es6.object.create":85}],21:[function(a,b,c){a("../../modules/es6.object.keys"),b.exports=a("../../modules/_core").Object.keys},{"../../modules/_core":30,"../../modules/es6.object.keys":86}],22:[function(a,b,c){a("../../modules/es6.object.set-prototype-of"),b.exports=a("../../modules/_core").Object.setPrototypeOf},{"../../modules/_core":30,"../../modules/es6.object.set-prototype-of":87}],23:[function(a,b,c){a("../../modules/es6.symbol"),a("../../modules/es6.object.to-string"),a("../../modules/es7.symbol.async-iterator"),a("../../modules/es7.symbol.observable"),b.exports=a("../../modules/_core").Symbol},{"../../modules/_core":30,"../../modules/es6.object.to-string":88,"../../modules/es6.symbol":90,"../../modules/es7.symbol.async-iterator":91,"../../modules/es7.symbol.observable":92}],24:[function(a,b,c){a("../../modules/es6.string.iterator"),a("../../modules/web.dom.iterable"),b.exports=a("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":81,"../../modules/es6.string.iterator":89,"../../modules/web.dom.iterable":93}],25:[function(a,b,c){b.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},{}],26:[function(a,b,c){b.exports=function(){}},{}],27:[function(a,b,c){var d=a("./_is-object");b.exports=function(a){if(!d(a))throw TypeError(a+" is not an object!");return a}},{"./_is-object":46}],28:[function(a,b,c){var d=a("./_to-iobject"),e=a("./_to-length"),f=a("./_to-absolute-index");b.exports=function(a){return function(b,c,g){var h,i=d(b),j=e(i.length),k=f(g,j);if(a&&c!=c){for(;j>k;)if((h=i[k++])!=h)return!0}else for(;j>k;k++)if((a||k in i)&&i[k]===c)return a||k||0;return!a&&-1}}},{"./_to-absolute-index":73,"./_to-iobject":75,"./_to-length":76}],29:[function(a,b,c){var d={}.toString;b.exports=function(a){return d.call(a).slice(8,-1)}},{}],30:[function(a,b,c){var d=b.exports={version:"2.5.3"};"number"==typeof __e&&(__e=d)},{}],31:[function(a,b,c){var d=a("./_a-function");b.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},{"./_a-function":25}],32:[function(a,b,c){b.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},{}],33:[function(a,b,c){b.exports=!a("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":38}],34:[function(a,b,c){var d=a("./_is-object"),e=a("./_global").document,f=d(e)&&d(e.createElement);b.exports=function(a){return f?e.createElement(a):{}}},{"./_global":39,"./_is-object":46}],35:[function(a,b,c){b.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],36:[function(a,b,c){var d=a("./_object-keys"),e=a("./_object-gops"),f=a("./_object-pie");b.exports=function(a){var b=d(a),c=e.f;if(c)for(var g,h=c(a),i=f.f,j=0;h.length>j;)i.call(a,g=h[j++])&&b.push(g);return b}},{"./_object-gops":60,"./_object-keys":63,"./_object-pie":64}],37:[function(a,b,c){var d=a("./_global"),e=a("./_core"),f=a("./_ctx"),g=a("./_hide"),h=function(a,b,c){var i,j,k,l=a&h.F,m=a&h.G,n=a&h.S,o=a&h.P,p=a&h.B,q=a&h.W,r=m?e:e[b]||(e[b]={}),s=r.prototype,t=m?d:n?d[b]:(d[b]||{}).prototype;m&&(c=b);for(i in c)(j=!l&&t&&void 0!==t[i])&&i in r||(k=j?t[i]:c[i],r[i]=m&&"function"!=typeof t[i]?c[i]:p&&j?f(k,d):q&&t[i]==k?function(a){var b=function(b,c,d){if(this instanceof a){switch(arguments.length){case 0:return new a;case 1:return new a(b);case 2:return new a(b,c)}return new a(b,c,d)}return a.apply(this,arguments)};return b.prototype=a.prototype,b}(k):o&&"function"==typeof k?f(Function.call,k):k,o&&((r.virtual||(r.virtual={}))[i]=k,a&h.R&&s&&!s[i]&&g(s,i,k)))};h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,b.exports=h},{"./_core":30,"./_ctx":31,"./_global":39,"./_hide":41}],38:[function(a,b,c){b.exports=function(a){try{return!!a()}catch(a){return!0}}},{}],39:[function(a,b,c){var d=b.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=d)},{}],40:[function(a,b,c){var d={}.hasOwnProperty;b.exports=function(a,b){return d.call(a,b)}},{}],41:[function(a,b,c){var d=a("./_object-dp"),e=a("./_property-desc");b.exports=a("./_descriptors")?function(a,b,c){return d.f(a,b,e(1,c))}:function(a,b,c){return a[b]=c,a}},{"./_descriptors":33,"./_object-dp":55,"./_property-desc":66}],42:[function(a,b,c){var d=a("./_global").document;b.exports=d&&d.documentElement},{"./_global":39}],43:[function(a,b,c){b.exports=!a("./_descriptors")&&!a("./_fails")(function(){return 7!=Object.defineProperty(a("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":33,"./_dom-create":34,"./_fails":38}],44:[function(a,b,c){var d=a("./_cof");b.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==d(a)?a.split(""):Object(a)}},{"./_cof":29}],45:[function(a,b,c){var d=a("./_cof");b.exports=Array.isArray||function(a){return"Array"==d(a)}},{"./_cof":29}],46:[function(a,b,c){b.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},{}],47:[function(a,b,c){"use strict";var d=a("./_object-create"),e=a("./_property-desc"),f=a("./_set-to-string-tag"),g={};a("./_hide")(g,a("./_wks")("iterator"),function(){return this}),b.exports=function(a,b,c){a.prototype=d(g,{next:e(1,c)}),f(a,b+" Iterator")}},{"./_hide":41,"./_object-create":54,"./_property-desc":66,"./_set-to-string-tag":69,"./_wks":82}],48:[function(a,b,c){"use strict";var d=a("./_library"),e=a("./_export"),f=a("./_redefine"),g=a("./_hide"),h=a("./_has"),i=a("./_iterators"),j=a("./_iter-create"),k=a("./_set-to-string-tag"),l=a("./_object-gpo"),m=a("./_wks")("iterator"),n=!([].keys&&"next"in[].keys()),o=function(){return this};b.exports=function(a,b,c,p,q,r,s){j(c,b,p);var t,u,v,w=function(a){if(!n&&a in A)return A[a];switch(a){case"keys":case"values":return function(){return new c(this,a)}}return function(){return new c(this,a)}},x=b+" Iterator",y="values"==q,z=!1,A=a.prototype,B=A[m]||A["@@iterator"]||q&&A[q],C=!n&&B||w(q),D=q?y?w("entries"):C:void 0,E="Array"==b?A.entries||B:B;if(E&&(v=l(E.call(new a)))!==Object.prototype&&v.next&&(k(v,x,!0),d||h(v,m)||g(v,m,o)),y&&B&&"values"!==B.name&&(z=!0,C=function(){return B.call(this)}),d&&!s||!n&&!z&&A[m]||g(A,m,C),i[b]=C,i[x]=o,q)if(t={values:y?C:w("values"),keys:r?C:w("keys"),entries:D},s)for(u in t)u in A||f(A,u,t[u]);else e(e.P+e.F*(n||z),b,t);return t}},{"./_export":37,"./_has":40,"./_hide":41,"./_iter-create":47,"./_iterators":50,"./_library":51,"./_object-gpo":61,"./_redefine":67,"./_set-to-string-tag":69,"./_wks":82}],49:[function(a,b,c){b.exports=function(a,b){return{value:b,done:!!a}}},{}],50:[function(a,b,c){b.exports={}},{}],51:[function(a,b,c){b.exports=!0},{}],52:[function(a,b,c){var d=a("./_uid")("meta"),e=a("./_is-object"),f=a("./_has"),g=a("./_object-dp").f,h=0,i=Object.isExtensible||function(){return!0},j=!a("./_fails")(function(){return i(Object.preventExtensions({}))}),k=function(a){g(a,d,{value:{i:"O"+ ++h,w:{}}})},l=function(a,b){if(!e(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!f(a,d)){if(!i(a))return"F";if(!b)return"E";k(a)}return a[d].i},m=function(a,b){if(!f(a,d)){if(!i(a))return!0;if(!b)return!1;k(a)}return a[d].w},n=function(a){return j&&o.NEED&&i(a)&&!f(a,d)&&k(a),a},o=b.exports={KEY:d,NEED:!1,fastKey:l,getWeak:m,onFreeze:n}},{"./_fails":38,"./_has":40,"./_is-object":46,"./_object-dp":55,"./_uid":79}],53:[function(a,b,c){"use strict";var d=a("./_object-keys"),e=a("./_object-gops"),f=a("./_object-pie"),g=a("./_to-object"),h=a("./_iobject"),i=Object.assign;b.exports=!i||a("./_fails")(function(){var a={},b={},c=Symbol(),d="abcdefghijklmnopqrst";return a[c]=7,d.split("").forEach(function(a){b[a]=a}),7!=i({},a)[c]||Object.keys(i({},b)).join("")!=d})?function(a,b){for(var c=g(a),i=arguments.length,j=1,k=e.f,l=f.f;i>j;)for(var m,n=h(arguments[j++]),o=k?d(n).concat(k(n)):d(n),p=o.length,q=0;p>q;)l.call(n,m=o[q++])&&(c[m]=n[m]);return c}:i},{"./_fails":38,"./_iobject":44,"./_object-gops":60,"./_object-keys":63,"./_object-pie":64,"./_to-object":77}],54:[function(a,b,c){var d=a("./_an-object"),e=a("./_object-dps"),f=a("./_enum-bug-keys"),g=a("./_shared-key")("IE_PROTO"),h=function(){},i=function(){var b,c=a("./_dom-create")("iframe"),d=f.length;for(c.style.display="none",a("./_html").appendChild(c),c.src="javascript:",b=c.contentWindow.document,b.open(),b.write("<script>document.F=Object<\/script>"),b.close(),i=b.F;d--;)delete i.prototype[f[d]];return i()};b.exports=Object.create||function(a,b){var c;return null!==a?(h.prototype=d(a),c=new h,h.prototype=null,c[g]=a):c=i(),void 0===b?c:e(c,b)}},{"./_an-object":27,"./_dom-create":34,"./_enum-bug-keys":35,"./_html":42,"./_object-dps":56,"./_shared-key":70}],55:[function(a,b,c){var d=a("./_an-object"),e=a("./_ie8-dom-define"),f=a("./_to-primitive"),g=Object.defineProperty;c.f=a("./_descriptors")?Object.defineProperty:function(a,b,c){if(d(a),b=f(b,!0),d(c),e)try{return g(a,b,c)}catch(a){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(a[b]=c.value),a}},{"./_an-object":27,"./_descriptors":33,"./_ie8-dom-define":43,"./_to-primitive":78}],56:[function(a,b,c){var d=a("./_object-dp"),e=a("./_an-object"),f=a("./_object-keys");b.exports=a("./_descriptors")?Object.defineProperties:function(a,b){e(a);for(var c,g=f(b),h=g.length,i=0;h>i;)d.f(a,c=g[i++],b[c]);return a}},{"./_an-object":27,"./_descriptors":33,"./_object-dp":55,"./_object-keys":63}],57:[function(a,b,c){var d=a("./_object-pie"),e=a("./_property-desc"),f=a("./_to-iobject"),g=a("./_to-primitive"),h=a("./_has"),i=a("./_ie8-dom-define"),j=Object.getOwnPropertyDescriptor;c.f=a("./_descriptors")?j:function(a,b){if(a=f(a),b=g(b,!0),i)try{return j(a,b)}catch(a){}if(h(a,b))return e(!d.f.call(a,b),a[b])}},{"./_descriptors":33,"./_has":40,"./_ie8-dom-define":43,"./_object-pie":64,"./_property-desc":66,"./_to-iobject":75,"./_to-primitive":78}],58:[function(a,b,c){var d=a("./_to-iobject"),e=a("./_object-gopn").f,f={}.toString,g="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],h=function(a){try{return e(a)}catch(a){return g.slice()}};b.exports.f=function(a){return g&&"[object Window]"==f.call(a)?h(a):e(d(a))}},{"./_object-gopn":59,"./_to-iobject":75}],59:[function(a,b,c){var d=a("./_object-keys-internal"),e=a("./_enum-bug-keys").concat("length","prototype");c.f=Object.getOwnPropertyNames||function(a){return d(a,e)}},{"./_enum-bug-keys":35,"./_object-keys-internal":62}],60:[function(a,b,c){c.f=Object.getOwnPropertySymbols},{}],61:[function(a,b,c){var d=a("./_has"),e=a("./_to-object"),f=a("./_shared-key")("IE_PROTO"),g=Object.prototype;b.exports=Object.getPrototypeOf||function(a){return a=e(a),d(a,f)?a[f]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?g:null}},{"./_has":40,"./_shared-key":70,"./_to-object":77}],62:[function(a,b,c){var d=a("./_has"),e=a("./_to-iobject"),f=a("./_array-includes")(!1),g=a("./_shared-key")("IE_PROTO");b.exports=function(a,b){var c,h=e(a),i=0,j=[];for(c in h)c!=g&&d(h,c)&&j.push(c);for(;b.length>i;)d(h,c=b[i++])&&(~f(j,c)||j.push(c));return j}},{"./_array-includes":28,"./_has":40,"./_shared-key":70,"./_to-iobject":75}],63:[function(a,b,c){var d=a("./_object-keys-internal"),e=a("./_enum-bug-keys");b.exports=Object.keys||function(a){return d(a,e)}},{"./_enum-bug-keys":35,"./_object-keys-internal":62}],64:[function(a,b,c){c.f={}.propertyIsEnumerable},{}],65:[function(a,b,c){var d=a("./_export"),e=a("./_core"),f=a("./_fails");b.exports=function(a,b){var c=(e.Object||{})[a]||Object[a],g={};g[a]=b(c),d(d.S+d.F*f(function(){c(1)}),"Object",g)}},{"./_core":30,"./_export":37,"./_fails":38}],66:[function(a,b,c){b.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},{}],67:[function(a,b,c){b.exports=a("./_hide")},{"./_hide":41}],68:[function(a,b,c){var d=a("./_is-object"),e=a("./_an-object"),f=function(a,b){if(e(a),!d(b)&&null!==b)throw TypeError(b+": can't set as prototype!")};b.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(b,c,d){try{d=a("./_ctx")(Function.call,a("./_object-gopd").f(Object.prototype,"__proto__").set,2),d(b,[]),c=!(b instanceof Array)}catch(a){c=!0}return function(a,b){return f(a,b),c?a.__proto__=b:d(a,b),a}}({},!1):void 0),check:f}},{"./_an-object":27,"./_ctx":31,"./_is-object":46,"./_object-gopd":57}],69:[function(a,b,c){var d=a("./_object-dp").f,e=a("./_has"),f=a("./_wks")("toStringTag");b.exports=function(a,b,c){a&&!e(a=c?a:a.prototype,f)&&d(a,f,{configurable:!0,value:b})}},{"./_has":40,"./_object-dp":55,"./_wks":82}],70:[function(a,b,c){var d=a("./_shared")("keys"),e=a("./_uid");b.exports=function(a){return d[a]||(d[a]=e(a))}},{"./_shared":71,"./_uid":79}],71:[function(a,b,c){var d=a("./_global"),e=d["__core-js_shared__"]||(d["__core-js_shared__"]={});b.exports=function(a){return e[a]||(e[a]={})}},{"./_global":39}],72:[function(a,b,c){var d=a("./_to-integer"),e=a("./_defined");b.exports=function(a){return function(b,c){var f,g,h=String(e(b)),i=d(c),j=h.length;return i<0||i>=j?a?"":void 0:(f=h.charCodeAt(i),f<55296||f>56319||i+1===j||(g=h.charCodeAt(i+1))<56320||g>57343?a?h.charAt(i):f:a?h.slice(i,i+2):g-56320+(f-55296<<10)+65536)}}},{"./_defined":32,"./_to-integer":74}],73:[function(a,b,c){var d=a("./_to-integer"),e=Math.max,f=Math.min;b.exports=function(a,b){return a=d(a),a<0?e(a+b,0):f(a,b)}},{"./_to-integer":74}],74:[function(a,b,c){var d=Math.ceil,e=Math.floor;b.exports=function(a){return isNaN(a=+a)?0:(a>0?e:d)(a)}},{}],75:[function(a,b,c){var d=a("./_iobject"),e=a("./_defined");b.exports=function(a){return d(e(a))}},{"./_defined":32,"./_iobject":44}],76:[function(a,b,c){var d=a("./_to-integer"),e=Math.min;b.exports=function(a){return a>0?e(d(a),9007199254740991):0}},{"./_to-integer":74}],77:[function(a,b,c){var d=a("./_defined");b.exports=function(a){return Object(d(a))}},{"./_defined":32}],78:[function(a,b,c){var d=a("./_is-object");b.exports=function(a,b){if(!d(a))return a;var c,e
;if(b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;if("function"==typeof(c=a.valueOf)&&!d(e=c.call(a)))return e;if(!b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":46}],79:[function(a,b,c){var d=0,e=Math.random();b.exports=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++d+e).toString(36))}},{}],80:[function(a,b,c){var d=a("./_global"),e=a("./_core"),f=a("./_library"),g=a("./_wks-ext"),h=a("./_object-dp").f;b.exports=function(a){var b=e.Symbol||(e.Symbol=f?{}:d.Symbol||{});"_"==a.charAt(0)||a in b||h(b,a,{value:g.f(a)})}},{"./_core":30,"./_global":39,"./_library":51,"./_object-dp":55,"./_wks-ext":81}],81:[function(a,b,c){c.f=a("./_wks")},{"./_wks":82}],82:[function(a,b,c){var d=a("./_shared")("wks"),e=a("./_uid"),f=a("./_global").Symbol,g="function"==typeof f;(b.exports=function(a){return d[a]||(d[a]=g&&f[a]||(g?f:e)("Symbol."+a))}).store=d},{"./_global":39,"./_shared":71,"./_uid":79}],83:[function(a,b,c){"use strict";var d=a("./_add-to-unscopables"),e=a("./_iter-step"),f=a("./_iterators"),g=a("./_to-iobject");b.exports=a("./_iter-define")(Array,"Array",function(a,b){this._t=g(a),this._i=0,this._k=b},function(){var a=this._t,b=this._k,c=this._i++;return!a||c>=a.length?(this._t=void 0,e(1)):"keys"==b?e(0,c):"values"==b?e(0,a[c]):e(0,[c,a[c]])},"values"),f.Arguments=f.Array,d("keys"),d("values"),d("entries")},{"./_add-to-unscopables":26,"./_iter-define":48,"./_iter-step":49,"./_iterators":50,"./_to-iobject":75}],84:[function(a,b,c){var d=a("./_export");d(d.S+d.F,"Object",{assign:a("./_object-assign")})},{"./_export":37,"./_object-assign":53}],85:[function(a,b,c){var d=a("./_export");d(d.S,"Object",{create:a("./_object-create")})},{"./_export":37,"./_object-create":54}],86:[function(a,b,c){var d=a("./_to-object"),e=a("./_object-keys");a("./_object-sap")("keys",function(){return function(a){return e(d(a))}})},{"./_object-keys":63,"./_object-sap":65,"./_to-object":77}],87:[function(a,b,c){var d=a("./_export");d(d.S,"Object",{setPrototypeOf:a("./_set-proto").set})},{"./_export":37,"./_set-proto":68}],88:[function(a,b,c){arguments[4][17][0].apply(c,arguments)},{dup:17}],89:[function(a,b,c){"use strict";var d=a("./_string-at")(!0);a("./_iter-define")(String,"String",function(a){this._t=String(a),this._i=0},function(){var a,b=this._t,c=this._i;return c>=b.length?{value:void 0,done:!0}:(a=d(b,c),this._i+=a.length,{value:a,done:!1})})},{"./_iter-define":48,"./_string-at":72}],90:[function(a,b,c){"use strict";var d=a("./_global"),e=a("./_has"),f=a("./_descriptors"),g=a("./_export"),h=a("./_redefine"),i=a("./_meta").KEY,j=a("./_fails"),k=a("./_shared"),l=a("./_set-to-string-tag"),m=a("./_uid"),n=a("./_wks"),o=a("./_wks-ext"),p=a("./_wks-define"),q=a("./_enum-keys"),r=a("./_is-array"),s=a("./_an-object"),t=a("./_is-object"),u=a("./_to-iobject"),v=a("./_to-primitive"),w=a("./_property-desc"),x=a("./_object-create"),y=a("./_object-gopn-ext"),z=a("./_object-gopd"),A=a("./_object-dp"),B=a("./_object-keys"),C=z.f,D=A.f,E=y.f,F=d.Symbol,G=d.JSON,H=G&&G.stringify,I=n("_hidden"),J=n("toPrimitive"),K={}.propertyIsEnumerable,L=k("symbol-registry"),M=k("symbols"),N=k("op-symbols"),O=Object.prototype,P="function"==typeof F,Q=d.QObject,R=!Q||!Q.prototype||!Q.prototype.findChild,S=f&&j(function(){return 7!=x(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(a,b,c){var d=C(O,b);d&&delete O[b],D(a,b,c),d&&a!==O&&D(O,b,d)}:D,T=function(a){var b=M[a]=x(F.prototype);return b._k=a,b},U=P&&"symbol"==typeof F.iterator?function(a){return"symbol"==typeof a}:function(a){return a instanceof F},V=function(a,b,c){return a===O&&V(N,b,c),s(a),b=v(b,!0),s(c),e(M,b)?(c.enumerable?(e(a,I)&&a[I][b]&&(a[I][b]=!1),c=x(c,{enumerable:w(0,!1)})):(e(a,I)||D(a,I,w(1,{})),a[I][b]=!0),S(a,b,c)):D(a,b,c)},W=function(a,b){s(a);for(var c,d=q(b=u(b)),e=0,f=d.length;f>e;)V(a,c=d[e++],b[c]);return a},X=function(a,b){return void 0===b?x(a):W(x(a),b)},Y=function(a){var b=K.call(this,a=v(a,!0));return!(this===O&&e(M,a)&&!e(N,a))&&(!(b||!e(this,a)||!e(M,a)||e(this,I)&&this[I][a])||b)},Z=function(a,b){if(a=u(a),b=v(b,!0),a!==O||!e(M,b)||e(N,b)){var c=C(a,b);return!c||!e(M,b)||e(a,I)&&a[I][b]||(c.enumerable=!0),c}},$=function(a){for(var b,c=E(u(a)),d=[],f=0;c.length>f;)e(M,b=c[f++])||b==I||b==i||d.push(b);return d},_=function(a){for(var b,c=a===O,d=E(c?N:u(a)),f=[],g=0;d.length>g;)!e(M,b=d[g++])||c&&!e(O,b)||f.push(M[b]);return f};P||(F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var a=m(arguments.length>0?arguments[0]:void 0),b=function(c){this===O&&b.call(N,c),e(this,I)&&e(this[I],a)&&(this[I][a]=!1),S(this,a,w(1,c))};return f&&R&&S(O,a,{configurable:!0,set:b}),T(a)},h(F.prototype,"toString",function(){return this._k}),z.f=Z,A.f=V,a("./_object-gopn").f=y.f=$,a("./_object-pie").f=Y,a("./_object-gops").f=_,f&&!a("./_library")&&h(O,"propertyIsEnumerable",Y,!0),o.f=function(a){return T(n(a))}),g(g.G+g.W+g.F*!P,{Symbol:F});for(var aa="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ba=0;aa.length>ba;)n(aa[ba++]);for(var ca=B(n.store),da=0;ca.length>da;)p(ca[da++]);g(g.S+g.F*!P,"Symbol",{for:function(a){return e(L,a+="")?L[a]:L[a]=F(a)},keyFor:function(a){if(!U(a))throw TypeError(a+" is not a symbol!");for(var b in L)if(L[b]===a)return b},useSetter:function(){R=!0},useSimple:function(){R=!1}}),g(g.S+g.F*!P,"Object",{create:X,defineProperty:V,defineProperties:W,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:_}),G&&g(g.S+g.F*(!P||j(function(){var a=F();return"[null]"!=H([a])||"{}"!=H({a:a})||"{}"!=H(Object(a))})),"JSON",{stringify:function(a){for(var b,c,d=[a],e=1;arguments.length>e;)d.push(arguments[e++]);if(c=b=d[1],(t(b)||void 0!==a)&&!U(a))return r(b)||(b=function(a,b){if("function"==typeof c&&(b=c.call(this,a,b)),!U(b))return b}),d[1]=b,H.apply(G,d)}}),F.prototype[J]||a("./_hide")(F.prototype,J,F.prototype.valueOf),l(F,"Symbol"),l(Math,"Math",!0),l(d.JSON,"JSON",!0)},{"./_an-object":27,"./_descriptors":33,"./_enum-keys":36,"./_export":37,"./_fails":38,"./_global":39,"./_has":40,"./_hide":41,"./_is-array":45,"./_is-object":46,"./_library":51,"./_meta":52,"./_object-create":54,"./_object-dp":55,"./_object-gopd":57,"./_object-gopn":59,"./_object-gopn-ext":58,"./_object-gops":60,"./_object-keys":63,"./_object-pie":64,"./_property-desc":66,"./_redefine":67,"./_set-to-string-tag":69,"./_shared":71,"./_to-iobject":75,"./_to-primitive":78,"./_uid":79,"./_wks":82,"./_wks-define":80,"./_wks-ext":81}],91:[function(a,b,c){a("./_wks-define")("asyncIterator")},{"./_wks-define":80}],92:[function(a,b,c){a("./_wks-define")("observable")},{"./_wks-define":80}],93:[function(a,b,c){a("./es6.array.iterator");for(var d=a("./_global"),e=a("./_hide"),f=a("./_iterators"),g=a("./_wks")("toStringTag"),h="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),i=0;i<h.length;i++){var j=h[i],k=d[j],l=k&&k.prototype;l&&!l[g]&&e(l,g,j),f[j]=f.Array}},{"./_global":39,"./_hide":41,"./_iterators":50,"./_wks":82,"./es6.array.iterator":83}],94:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=function(a){var b=a.top,c=a.right,d=a.bottom,e=a.left;return{top:b,right:c,bottom:d,left:e,width:c-e,height:d-b,x:e,y:b,center:{x:(c+e)/2,y:(d+b)/2}}},e=function(a,b){return{top:a.top-b.top,left:a.left-b.left,bottom:a.bottom+b.bottom,right:a.right+b.right}},f=function(a,b){return{top:a.top+b.top,left:a.left+b.left,bottom:a.bottom-b.bottom,right:a.right-b.right}},g=function(a,b){return{top:a.top+b.y,left:a.left+b.x,bottom:a.bottom+b.y,right:a.right+b.x}},h={top:0,right:0,bottom:0,left:0},i=function(a){var b=a.borderBox,c=a.margin,g=void 0===c?h:c,i=a.border,j=void 0===i?h:i,k=a.padding,l=void 0===k?h:k,m=d(e(b,g)),n=d(f(b,j)),o=d(f(n,l));return{marginBox:m,borderBox:d(b),paddingBox:n,contentBox:o,margin:g,border:j,padding:l}},j=function(a){return parseInt(a,10)},k=function(){return{x:window.pageXOffset,y:window.pageYOffset}},l=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k(),c=a.borderBox,d=a.border,e=a.margin,f=a.padding,h=g(c,b);return i({borderBox:h,border:d,margin:e,padding:f})},m=function(a,b){var c={top:j(b.marginTop),right:j(b.marginRight),bottom:j(b.marginBottom),left:j(b.marginLeft)},d={top:j(b.paddingTop),right:j(b.paddingRight),bottom:j(b.paddingBottom),left:j(b.paddingLeft)},e={top:j(b.borderTopWidth),right:j(b.borderRightWidth),bottom:j(b.borderBottomWidth),left:j(b.borderLeftWidth)};return i({borderBox:a,margin:c,padding:d,border:e})},n=function(a){var b=a.getBoundingClientRect(),c=window.getComputedStyle(a);return m(b,c)};c.getRect=d,c.createBox=i,c.withScroll=l,c.calculateBox=m,c.getBox=n},{}],95:[function(a,b,c){"use strict";function d(a){return function(){return a}}var e=function(){};e.thatReturns=d,e.thatReturnsFalse=d(!1),e.thatReturnsTrue=d(!0),e.thatReturnsNull=d(null),e.thatReturnsThis=function(){return this},e.thatReturnsArgument=function(a){return a},b.exports=e},{}],96:[function(a,b,c){(function(a){"use strict";function c(a,b,c,e,f,g,h,i){if(d(b),!a){var j;if(void 0===b)j=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var k=[c,e,f,g,h,i],l=0;j=new Error(b.replace(/%s/g,function(){return k[l++]})),j.name="Invariant Violation"}throw j.framesToPop=1,j}}var d=function(a){};"production"!==a.env.NODE_ENV&&(d=function(a){if(void 0===a)throw new Error("invariant requires an error message argument")}),b.exports=c}).call(this,a("_process"))},{_process:126}],97:[function(a,b,c){(function(c){"use strict";var d=a("./emptyFunction"),e=d;if("production"!==c.env.NODE_ENV){var f=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=0,f="Warning: "+a.replace(/%s/g,function(){return c[e++]});"undefined"!=typeof console&&console.error(f);try{throw new Error(f)}catch(a){}};e=function(a,b){if(void 0===b)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==b.indexOf("Failed Composite propType: ")&&!a){for(var c=arguments.length,d=Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];f.apply(void 0,[b].concat(d))}}}b.exports=e}).call(this,a("_process"))},{"./emptyFunction":95,_process:126}],98:[function(a,b,c){(function(a){"use strict";var c=function(b,c,d,e,f,g,h,i){if("production"!==a.env.NODE_ENV&&void 0===c)throw new Error("invariant requires an error message argument");if(!b){var j;if(void 0===c)j=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var k=[d,e,f,g,h,i],l=0;j=new Error(c.replace(/%s/g,function(){return k[l++]})),j.name="Invariant Violation"}throw j.framesToPop=1,j}};b.exports=c}).call(this,a("_process"))},{_process:126}],99:[function(a,b,c){(function(d){var e=function(){function a(){this.yy={}}var b=function(a,b,c,d){for(c=c||{},d=a.length;d--;c[a[d]]=b);return c},c=[1,12],d=[1,13],e=[1,9],f=[1,10],g=[1,11],h=[1,14],i=[1,15],j=[14,18,22,24],k=[18,22],l=[22,24],m={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:this.$=a.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(a);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=f[h-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=f[h-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[f[h-2],f[h]];break;case 16:this.$={},this.$[f[h][0]]=f[h][1];break;case 17:this.$=f[h-2],void 0!==f[h-2][f[h][0]]&&(this.$.__duplicateProperties__||Object.defineProperty(this.$,"__duplicateProperties__",{value:[],enumerable:!1}),this.$.__duplicateProperties__.push(f[h][0])),f[h-2][f[h][0]]=f[h][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[f[h]];break;case 21:this.$=f[h-2],f[h-2].push(f[h])}},table:[{3:5,4:c,5:6,6:d,7:3,8:e,9:4,10:f,11:g,12:1,13:2,15:7,16:8,17:h,23:i},{1:[3]},{14:[1,16]},b(j,[2,7]),b(j,[2,8]),b(j,[2,9]),b(j,[2,10]),b(j,[2,11]),b(j,[2,12]),b(j,[2,3]),b(j,[2,4]),b(j,[2,5]),b([14,18,21,22,24],[2,1]),b(j,[2,2]),{3:20,4:c,18:[1,17],19:18,20:19},{3:5,4:c,5:6,6:d,7:3,8:e,9:4,10:f,11:g,13:23,15:7,16:8,17:h,23:i,24:[1,21],25:22},{1:[2,6]},b(j,[2,13]),{18:[1,24],22:[1,25]},b(k,[2,16]),{21:[1,26]},b(j,[2,18]),{22:[1,28],24:[1,27]},b(l,[2,20]),b(j,[2,14]),{3:20,4:c,20:29},{3:5,4:c,5:6,6:d,7:3,8:e,9:4,10:f,11:g,13:30,15:7,16:8,17:h,23:i},b(j,[2,19]),{3:5,4:c,5:6,6:d,7:3,8:e,9:4,10:f,11:g,13:31,15:7,16:8,17:h,23:i},b(k,[2,17]),b(k,[2,15]),b(l,[2,21])],defaultActions:{16:[2,6]},parseError:function(a,b){function c(a,b){this.message=a,this.hash=b}if(!b.recoverable)throw c.prototype=Error,new c(a,b);this.trace(a)},parse:function(a){var b=this,c=[0],d=[null],e=[],f=this.table,g="",h=0,i=0,j=0,k=e.slice.call(arguments,1),l=Object.create(this.lexer),m={yy:{}};for(var n in this.yy)Object.prototype.hasOwnProperty.call(this.yy,n)&&(m.yy[n]=this.yy[n]);l.setInput(a,m.yy),m.yy.lexer=l,m.yy.parser=this,void 0===l.yylloc&&(l.yylloc={});var o=l.yylloc;e.push(o);var p=l.options&&l.options.ranges;"function"==typeof m.yy.parseError?this.parseError=m.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var q,r,s,t,u,v,w,x,y,z=function(){var a;return a=l.lex()||1,"number"!=typeof a&&(a=b.symbols_[a]||a),a},A={};;){if(s=c[c.length-1],this.defaultActions[s]?t=this.defaultActions[s]:(null!==q&&void 0!==q||(q=z()),t=f[s]&&f[s][q]),void 0===t||!t.length||!t[0]){var B="";y=[];for(v in f[s])this.terminals_[v]&&v>2&&y.push("'"+this.terminals_[v]+"'");B=l.showPosition?"Parse error on line "+(h+1)+":\n"+l.showPosition()+"\nExpecting "+y.join(", ")+", got '"+(this.terminals_[q]||q)+"'":"Parse error on line "+(h+1)+": Unexpected "+(1==q?"end of input":"'"+(this.terminals_[q]||q)+"'"),this.parseError(B,{text:l.match,token:this.terminals_[q]||q,line:l.yylineno,loc:o,expected:y})}if(t[0]instanceof Array&&t.length>1)throw new Error("Parse Error: multiple actions possible at state: "+s+", token: "+q);switch(t[0]){case 1:c.push(q),d.push(l.yytext),e.push(l.yylloc),c.push(t[1]),q=null,r?(q=r,r=null):(i=l.yyleng,g=l.yytext,h=l.yylineno,o=l.yylloc,j>0&&j--);break;case 2:if(w=this.productions_[t[1]][1],A.$=d[d.length-w],A._$={first_line:e[e.length-(w||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(w||1)].first_column,last_column:e[e.length-1].last_column},p&&(A._$.range=[e[e.length-(w||1)].range[0],e[e.length-1].range[1]]),void 0!==(u=this.performAction.apply(A,[g,i,h,m.yy,t[1],d,e].concat(k))))return u;w&&(c=c.slice(0,-1*w*2),d=d.slice(0,-1*w),e=e.slice(0,-1*w)),c.push(this.productions_[t[1]][0]),d.push(A.$),e.push(A._$),x=f[c[c.length-2]][c[c.length-1]],c.push(x);break;case 3:return!0}}return!0}},n=function(){return{EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a,b){return this.yy=b||this.yy||{},this._input=a,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];return this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a,a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,d,e;if(this.options.backtrack_lexer&&(e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(e.yylloc.range=this.yylloc.range.slice(0))),d=a[0].match(/(?:\r\n?|\n).*/g),d&&(this.yylineno+=d.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length},this.yytext+=a[0],this.match+=a[0],this.matches=a,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(a[0].length),this.matched+=a[0],c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),c)return c;if(this._backtrack){for(var f in e)this[f]=e[f];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d;this._more||(this.yytext="",this.match="");for(var e=this._currentRules(),f=0;f<e.length;f++)if((c=this._input.match(this.rules[e[f]]))&&(!b||c[0].length>b[0].length)){if(b=c,d=f,this.options.backtrack_lexer){if(!1!==(a=this.test_match(c,e[f])))return a;if(this._backtrack){b=!1;continue}return!1}if(!this.options.flex)break}return b?!1!==(a=this.test_match(b,e[d]))&&a:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a||this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){return a=this.conditionStack.length-1-Math.abs(a||0),a>=0?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,d){switch(c){case 0:break;case 1:return 6;case 2:return b.yytext=b.yytext.substr(1,b.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt\/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}}}();return m.lexer=n,a.prototype=m,m.Parser=a,new a}();void 0!==a&&void 0!==c&&(c.parser=e,c.Parser=e.Parser,c.parse=function(){return e.parse.apply(e,arguments)},c.main=function(b){b[1]||(console.log("Usage: "+b[0]+" FILE"),d.exit(1));var e=a("fs").readFileSync(a("path").normalize(b[1]),"utf8");return c.parser.parse(e)},void 0!==b&&a.main===b&&c.main(d.argv.slice(1)))}).call(this,a("_process"))},{_process:126,fs:17,path:124}],100:[function(a,b,c){!function(a,b,c){"use strict";L.Toolbar2.DrawAction={fromHandler:function(a,b,c){return L.Toolbar2.Action.extend({options:{toolbarIcon:L.extend({},L.Toolbar2.Action.prototype.options.toolbarIcon,b),subToolbar:c||L.Toolbar2.Action.prototype.options.subToolbar},initialize:function(b,c){var d=this;this._handler=new a(b,c),this._handler.on("disabled",function(){d.disable()}),L.Toolbar2.Action.prototype.initialize.call(this,c)},enable:function(a){this._handler.enable(),L.Toolbar2.Action.prototype.enable.call(this,a)},disable:function(){this._handler.disable(),L.Toolbar2.Action.prototype.disable.call(this)},setOptions:function(a){this._handler.setOptions(a),L.Toolbar2.Action.prototype.setOptions.call(this,a)}})}},L.Toolbar2.DrawAction.Cancel=L.Toolbar2.Action.extend({options:{toolbarIcon:{html:"Cancel"}},initialize:function(a,b){this.drawing=b,L.Toolbar2.Action.prototype.initialize.call(this)},addHooks:function(){this.drawing.disable(),this.disable()}}),L.Toolbar2.DrawAction.RemoveLastPoint=L.Toolbar2.Action.extend({options:{toolbarIcon:{html:L.drawLocal.draw.toolbar.undo.text}},initialize:function(a,b){this.drawing=b,L.Toolbar2.Action.prototype.initialize.call(this)},addHooks:function(){this.drawing.deleteLastVertex(),this.disable()}}),L.Toolbar2.DrawAction.Circle=L.Toolbar2.DrawAction.fromHandler(L.Draw.Circle,{className:"leaflet-draw-draw-circle",tooltip:L.drawLocal.draw.toolbar.buttons.circle},new L.Toolbar2({actions:[L.Toolbar2.DrawAction.Cancel]})),L.Toolbar2.DrawAction.Marker=L.Toolbar2.DrawAction.fromHandler(L.Draw.Marker,{className:"leaflet-draw-draw-marker",tooltip:L.drawLocal.draw.toolbar.buttons.marker},new L.Toolbar2({actions:[L.Toolbar2.DrawAction.Cancel]})),L.Toolbar2.DrawAction.Polygon=L.Toolbar2.DrawAction.fromHandler(L.Draw.Polygon,{className:"leaflet-draw-draw-polygon",tooltip:L.drawLocal.draw.toolbar.buttons.polygon},new L.Toolbar2({actions:[L.Toolbar2.DrawAction.Cancel,L.Toolbar2.DrawAction.RemoveLastPoint]})),L.Toolbar2.DrawAction.Polygon.prototype.deleteLastVertex=function(){this._handler.deleteLastVertex()},L.Toolbar2.DrawAction.Polyline=L.Toolbar2.DrawAction.fromHandler(L.Draw.Polyline,{className:"leaflet-draw-draw-polyline",tooltip:L.drawLocal.draw.toolbar.buttons.polyline},new L.Toolbar2({actions:[L.Toolbar2.DrawAction.Cancel,L.Toolbar2.DrawAction.RemoveLastPoint]})),L.Toolbar2.DrawAction.Polyline.prototype.deleteLastVertex=function(){this._handler.deleteLastVertex()},L.Toolbar2.DrawAction.Rectangle=L.Toolbar2.DrawAction.fromHandler(L.Draw.Rectangle,{className:"leaflet-draw-draw-rectangle",tooltip:L.drawLocal.draw.toolbar.buttons.rectangle},new L.Toolbar2({actions:[L.Toolbar2.DrawAction.Cancel]})),L.Toolbar2.DrawToolbar=L.Toolbar2.Control.extend({options:{actions:[L.Toolbar2.DrawAction.Polygon,L.Toolbar2.DrawAction.Polyline,L.Toolbar2.DrawAction.Marker,L.Toolbar2.DrawAction.Rectangle,L.Toolbar2.DrawAction.Circle],className:"leaflet-draw-toolbar"}}),L.Toolbar2.EditToolbar={},L.Toolbar2.EditAction={fromHandler:function(a,b,c){return L.Toolbar2.Action.extend({options:{toolbarIcon:L.extend({},L.Toolbar2.Action.prototype.options.toolbarIcon,b),subToolbar:c||L.Toolbar2.Action.prototype.options.subToolbar},initialize:function(b,c,d){var e=this;d=d||{},d.featureGroup=c,this._handler=new a(b,d),this._handler.on("disabled",function(){e.disable()}),L.Toolbar2.Action.prototype.initialize.call(this,d)},enable:function(a){this._handler.enable(),L.Toolbar2.Action.prototype.enable.call(this,a)},disable:function(){this._handler.disable(),L.Toolbar2.Action.prototype.disable.call(this)},setOptions:function(a){this._handler.setOptions(a),L.Toolbar2.Action.prototype.setOptions.call(this,a)},revertLayers:function(){this._handler.revertLayers()},save:function(){this._handler.save()}})}},L.Toolbar2.EditAction.Control={},L.Toolbar2.EditAction.Control.Save=L.Toolbar2.Action.extend({options:{toolbarIcon:{html:"Save"}},initialize:function(a,b,c){this.editing=c,L.Toolbar2.Action.prototype.initialize.call(this)},addHooks:function(){this.editing.save(),this.editing.disable()}}),L.Toolbar2.EditAction.Control.Undo=L.Toolbar2.Action.extend({options:{toolbarIcon:{html:"Undo"}},initialize:function(a,b,c){this.editing=c,L.Toolbar2.Action.prototype.initialize.call(this)},addHooks:function(){this.editing.revertLayers(),this.editing.disable()}}),L.Toolbar2.EditAction.Control.Edit=L.Toolbar2.EditAction.fromHandler(L.EditToolbar.Edit,{className:"leaflet-draw-edit-edit",tooltip:"Edit features"},new L.Toolbar2({actions:[L.Toolbar2.EditAction.Control.Save,L.Toolbar2.EditAction.Control.Undo]})),L.Toolbar2.EditAction.Control.Delete=L.Toolbar2.EditAction.fromHandler(L.EditToolbar.Delete,{className:"leaflet-draw-edit-remove",tooltip:"Remove features"},new L.Toolbar2({actions:[L.Toolbar2.EditAction.Control.Save,L.Toolbar2.EditAction.Control.Undo]})),L.Toolbar2.EditToolbar.Control=L.Toolbar2.Control.extend({options:{actions:[L.Toolbar2.EditAction.Control.Edit,L.Toolbar2.EditAction.Control.Delete],className:"leaflet-draw-toolbar"}}),L.Toolbar2.EditAction.Popup={},L.Toolbar2.EditAction.Popup.Edit=L.Toolbar2.Action.extend({options:{toolbarIcon:{className:"leaflet-draw-edit-edit"}},initialize:function(a,b,c){this._map=a,this._shape=b,this._shape.options.editing=this._shape.options.editing||{},L.Toolbar2.Action.prototype.initialize.call(this,a,c)},enable:function(){var a=this._map,b=this._shape;b.editing.enable(),a.removeLayer(this.toolbar),a.on("click",function(){this.save(),b.editing.disable()},this)},save:function(){var a=this._map,b=this._shape;b.edited&&a.fire(L.Draw.Event.EDITED,{layers:L.layerGroup([b])}),b.edited=!1}}),L.Toolbar2.EditAction.Popup.Delete=L.Toolbar2.Action.extend({options:{toolbarIcon:{className:"leaflet-draw-edit-remove"}},initialize:function(a,b,c){this._map=a,this._shape=b,L.Toolbar2.Action.prototype.initialize.call(this,a,c)},addHooks:function(){var a=this._map;a.removeLayer(this._shape),a.removeLayer(this.toolbar),console.log("firing draw:deleted"),a.fire(L.Draw.Event.DELETED,{layers:L.layerGroup([this._shape])})}}),L.Toolbar2.EditToolbar.Popup=L.Toolbar2.Popup.extend({options:{actions:[L.Toolbar2.EditAction.Popup.Edit,L.Toolbar2.EditAction.Popup.Delete],className:"leaflet-draw-toolbar"},onAdd:function(a){var b=this._arguments[1];b instanceof L.Marker&&(this.options.anchor=L.point(b.options.icon.options.popupAnchor)),L.Toolbar2.Popup.prototype.onAdd.call(this,a)}})}(window,document)},{}],101:[function(a,b,c){!function(a,b,c){function d(a,b){for(;(a=a.parentElement)&&!a.classList.contains(b););return a}L.drawVersion="1.0.2",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(a,b){this._map=a,this._container=a._container,this._overlayPane=a._panes.overlayPane,this._popupPane=a._panes.popupPane,b&&b.shapeOptions&&(b.shapeOptions=L.Util.extend({},this.options.shapeOptions,b.shapeOptions)),L.setOptions(this,b);var c=L.version.split(".");1===parseInt(c[0],10)&&parseInt(c[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var a=this._map;a&&(L.DomUtil.disableTextSelection(),a.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),
this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(a){L.setOptions(this,a)},_fireCreatedEvent:function(a){this._map.fire(L.Draw.Event.CREATED,{layer:a,layerType:this.type})},_cancelDrawing:function(a){27===a.keyCode&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(a,b){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,b&&b.drawError&&(b.drawError=L.Util.extend({},this.options.drawError,b.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,a,b)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var a=this._markers.pop(),b=this._poly,c=b.getLatLngs(),d=c.splice(-1,1)[0];this._poly.setLatLngs(c),this._markerGroup.removeLayer(a),b.getLatLngs().length<2&&this._map.removeLayer(b),this._vertexChanged(d,!1)}},addVertex:function(a){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(a))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(a)),this._poly.addLatLng(a),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),this._vertexChanged(a,!0)},completeShape:function(){this._markers.length<=1||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var a=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),b=this._poly.newLatLngIntersects(a[a.length-1]);if(!this.options.allowIntersection&&b||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(a){var b=this._map.mouseEventToLayerPoint(a.originalEvent),c=this._map.layerPointToLatLng(b);this._currentLatLng=c,this._updateTooltip(c),this._updateGuide(b),this._mouseMarker.setLatLng(c),L.DomEvent.preventDefault(a.originalEvent)},_vertexChanged:function(a,b){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(a,b),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(a){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(a),this._clickHandled=!0,this._disableNewMarkers();var b=a.originalEvent,c=b.clientX,d=b.clientY;this._startPoint.call(this,c,d)}},_startPoint:function(a,b){this._mouseDownOrigin=L.point(a,b)},_onMouseUp:function(a){var b=a.originalEvent,c=b.clientX,d=b.clientY;this._endPoint.call(this,c,d,a),this._clickHandled=null},_endPoint:function(b,c,d){if(this._mouseDownOrigin){var e=L.point(b,c).distanceTo(this._mouseDownOrigin),f=this._calculateFinishDistance(d.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(d.latlng),this._finishShape()):f<10&&L.Browser.touch?this._finishShape():Math.abs(e)<9*(a.devicePixelRatio||1)&&this.addVertex(d.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(a){var b,c,d=a.originalEvent;!d.touches||!d.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(b=d.touches[0].clientX,c=d.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,b,c),this._endPoint.call(this,b,c,a),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(a){var b;if(this._markers.length>0){var c;if(this.type===L.Draw.Polyline.TYPE)c=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;c=this._markers[0]}var d=this._map.latLngToContainerPoint(c.getLatLng()),e=new L.Marker(a,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),f=this._map.latLngToContainerPoint(e.getLatLng());b=d.distanceTo(f)}else b=1/0;return b},_updateFinishHandler:function(){var a=this._markers.length;a>1&&this._markers[a-1].on("click",this._finishShape,this),a>2&&this._markers[a-2].off("click",this._finishShape,this)},_createMarker:function(a){var b=new L.Marker(a,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(b),b},_updateGuide:function(a){var b=this._markers?this._markers.length:0;b>0&&(a=a||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[b-1].getLatLng()),a))},_updateTooltip:function(a){var b=this._getTooltipText();a&&this._tooltip.updatePosition(a),this._errorShown||this._tooltip.updateContent(b)},_drawGuide:function(a,b){var c,d,e,f=Math.floor(Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))),g=this.options.guidelineDistance,h=this.options.maxGuideLineLength,i=f>h?f-h:g;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));i<f;i+=this.options.guidelineDistance)c=i/f,d={x:Math.floor(a.x*(1-c)+c*b.x),y:Math.floor(a.y*(1-c)+c*b.y)},e=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),e.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(e,d)},_updateGuideColor:function(a){if(this._guidesContainer)for(var b=0,c=this._guidesContainer.childNodes.length;b<c;b++)this._guidesContainer.childNodes[b].style.backgroundColor=a},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var a,b,c=this.options.showLength;return 0===this._markers.length?a={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(b=c?this._getMeasurementString():"",a=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:b}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:b}),a},_updateRunningMeasure:function(a,b){var c,d,e=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(c=e-(b?2:1),d=L.GeometryUtil.isVersion07x()?a.distanceTo(this._markers[c].getLatLng())*(this.options.factor||1):this._map.distance(a,this._markers[c].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=d*(b?1:-1))},_getMeasurementString:function(){var a,b=this._currentLatLng,c=this._markers[this._markers.length-1].getLatLng();return a=L.GeometryUtil.isVersion07x()?c&&b&&b.distanceTo?this._measurementRunningTotal+b.distanceTo(c)*(this.options.factor||1):this._measurementRunningTotal||0:c&&b?this._measurementRunningTotal+this._map.distance(b,c)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(a,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=!1}.bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var a=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,a)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(a,b){L.Draw.Polyline.prototype.initialize.call(this,a,b),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var a=this._markers.length;1===a&&this._markers[0].on("click",this._finishShape,this),a>2&&(this._markers[a-1].on("dblclick",this._finishShape,this),a>3&&this._markers[a-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var a,b;return 0===this._markers.length?a=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(a=L.drawLocal.draw.handlers.polygon.tooltip.cont,b=this._getMeasurementString()):(a=L.drawLocal.draw.handlers.polygon.tooltip.end,b=this._getMeasurementString()),{text:a,subtext:b}},_getMeasurementString:function(){var a=this._area,b="";return a||this.options.showLength?(this.options.showLength&&(b=L.Draw.Polyline.prototype._getMeasurementString.call(this)),a&&(b+="<br>"+L.GeometryUtil.readableArea(a,this.options.metric,this.options.precision)),b):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(a,b){var c;!this.options.allowIntersection&&this.options.showArea&&(c=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(c)),L.Draw.Polyline.prototype._vertexChanged.call(this,a,b)},_cleanUpShape:function(){var a=this._markers.length;a>0&&(this._markers[0].off("click",this._finishShape,this),a>2&&this._markers[a-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(a,b){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,a,b)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),b.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(b,"mouseup",this._onMouseUp,this),L.DomEvent.off(b,"touchend",this._onMouseUp,this),b.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(a){this._isDrawing=!0,this._startLatLng=a.latlng,L.DomEvent.on(b,"mouseup",this._onMouseUp,this).on(b,"touchend",this._onMouseUp,this).preventDefault(a.originalEvent)},_onMouseMove:function(a){var b=a.latlng;this._tooltip.updatePosition(b),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(b))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,showArea:!0,clickable:!0},metric:!0},initialize:function(a,b){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,a,b)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(a){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!d(a.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(a){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,a)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,a),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var a=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,a)},_getTooltipText:function(){var a,b,c,d=L.Draw.SimpleShape.prototype._getTooltipText.call(this),e=this._shape,f=this.options.showArea;return e&&(a=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),b=L.GeometryUtil.geodesicArea(a),c=f?L.GeometryUtil.readableArea(b,this.options.metric):""),{text:d.text,subtext:c}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(a,b){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,a,b)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(a){var b=a.latlng;this._tooltip.updatePosition(b),this._mouseMarker.setLatLng(b),this._marker?(b=this._mouseMarker.getLatLng(),this._marker.setLatLng(b)):(this._marker=this._createMarker(b),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(a){return new L.Marker(a,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(a){this._onMouseMove(a),this._onClick()},_fireCreatedEvent:function(){var a=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,a)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(a,b){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,a,b)},_fireCreatedEvent:function(){var a=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,a)},_createMarker:function(a){return new L.CircleMarker(a,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(a,b){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,a,b)},_drawShape:function(a){if(L.GeometryUtil.isVersion07x())var b=this._startLatLng.distanceTo(a);else var b=this._map.distance(this._startLatLng,a);this._shape?this._shape.setRadius(b):(this._shape=new L.Circle(this._startLatLng,b,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var a=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,a)},_onMouseMove:function(a){var b,c=a.latlng,d=this.options.showRadius,e=this.options.metric;if(this._tooltip.updatePosition(c),this._isDrawing){this._drawShape(c),b=this._shape.getRadius().toFixed(1);var f="";d&&(f=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(b,e,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:f})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(a,b){this._marker=a,L.setOptions(this,b)},addHooks:function(){var a=this._marker;a.dragging.enable(),a.on("dragend",this._onDragEnd,a),this._toggleMarkerHighlight()},removeHooks:function(){var a=this._marker;a.dragging.disable(),a.off("dragend",this._onDragEnd,a),this._toggleMarkerHighlight()},_onDragEnd:function(a){var b=a.target;b.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:b})},_toggleMarkerHighlight:function(){var a=this._marker._icon;a&&(a.style.display="none",L.DomUtil.hasClass(a,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(a,"leaflet-edit-marker-selected"),this._offsetMarker(a,-4)):(L.DomUtil.addClass(a,"leaflet-edit-marker-selected"),this._offsetMarker(a,4)),a.style.display="")},_offsetMarker:function(a,b){var c=parseInt(a.style.marginTop,10)-b,d=parseInt(a.style.marginLeft,10)-b;a.style.marginTop=c+"px",a.style.marginLeft=d+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(a){this.latlngs=[a._latlngs],a._holes&&(this.latlngs=this.latlngs.concat(a._holes)),this._poly=a,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(a){for(var b=0;b<this._verticesHandlers.length;b++)a(this._verticesHandlers[b])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(a){a.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(a){a.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(a){a.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var a=0;a<this.latlngs.length;a++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[a],this._poly.options.poly))},_updateLatLngs:function(a){this.latlngs=[a.layer._latlngs],a.layer._holes&&(this.latlngs=this.latlngs.concat(a.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(a,b,c){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=a,c&&c.drawError&&(c.drawError=L.Util.extend({},this.options.drawError,c.drawError)),this._latlngs=b,L.setOptions(this,c)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var a=this._poly,b=a._path;a instanceof L.Polygon||(a.options.fill=!1,a.options.editing&&(a.options.editing.fill=!1)),b&&a.options.editing.className&&(a.options.original.className&&a.options.original.className.split(" ").forEach(function(a){L.DomUtil.removeClass(b,a)}),a.options.editing.className.split(" ").forEach(function(a){L.DomUtil.addClass(b,a)})),a.setStyle(a.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var a=this._poly,b=a._path;b&&a.options.editing.className&&(a.options.editing.className.split(" ").forEach(function(a){L.DomUtil.removeClass(b,a)}),a.options.original.className&&a.options.original.className.split(" ").forEach(function(a){L.DomUtil.addClass(b,a)})),a.setStyle(a.options.original),a._map&&(a._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var a,b,c,d,e=this._defaultShape();for(a=0,c=e.length;a<c;a++)d=this._createMarker(e[a],a),d.on("click",this._onMarkerClick,this),d.on("contextmenu",this._onContextMenu,this),this._markers.push(d);var f,g;for(a=0,b=c-1;a<c;b=a++)(0!==a||L.Polygon&&this._poly instanceof L.Polygon)&&(f=this._markers[b],g=this._markers[a],this._createMiddleMarker(f,g),this._updatePrevNext(f,g))},_createMarker:function(a,b){var c=new L.Marker.Touch(a,{draggable:!0,icon:this.options.icon});return c._origLatLng=a,c._index=b,c.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(c),c},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var a=this._defaultShape(),b=[].splice.apply(a,arguments);return this._poly._convertLatLngs(a,!0),this._poly.redraw(),b},_removeMarker:function(a){var b=a._index;this._markerGroup.removeLayer(a),this._markers.splice(b,1),this._spliceLatLngs(b,1),this._updateIndexes(b,-1),a.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(a){var b=a.target,c=this._poly;if(L.extend(b._origLatLng,b._latlng),b._middleLeft&&b._middleLeft.setLatLng(this._getMiddleLatLng(b._prev,b)),b._middleRight&&b._middleRight.setLatLng(this._getMiddleLatLng(b,b._next)),c.options.poly){var d=c._map._editTooltip;if(!c.options.poly.allowIntersection&&c.intersects()){var e=c.options.color;c.setStyle({color:this.options.drawError.color}),0!==L.version.indexOf("0.7")&&b.dragging._draggable._onUp(a),this._onMarkerClick(a),d&&d.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){c.setStyle({color:e}),d&&d.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var f=this._poly.getLatLngs();this._poly._convertLatLngs(f,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(a){var b=L.Polygon&&this._poly instanceof L.Polygon?4:3,c=a.target;this._defaultShape().length<b||(this._removeMarker(c),this._updatePrevNext(c._prev,c._next),c._middleLeft&&this._markerGroup.removeLayer(c._middleLeft),c._middleRight&&this._markerGroup.removeLayer(c._middleRight),c._prev&&c._next?this._createMiddleMarker(c._prev,c._next):c._prev?c._next||(c._prev._middleRight=null):c._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(a){var b=a.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:b,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(a){var b=this._map.mouseEventToLayerPoint(a.originalEvent.touches[0]),c=this._map.layerPointToLatLng(b),d=a.target;L.extend(d._origLatLng,c),d._middleLeft&&d._middleLeft.setLatLng(this._getMiddleLatLng(d._prev,d)),d._middleRight&&d._middleRight.setLatLng(this._getMiddleLatLng(d,d._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(a,b){this._markerGroup.eachLayer(function(c){c._index>a&&(c._index+=b)})},_createMiddleMarker:function(a,b){var c,d,e,f=this._getMiddleLatLng(a,b),g=this._createMarker(f);g.setOpacity(.6),a._middleRight=b._middleLeft=g,d=function(){g.off("touchmove",d,this);var e=b._index;g._index=e,g.off("click",c,this).on("click",this._onMarkerClick,this),f.lat=g.getLatLng().lat,f.lng=g.getLatLng().lng,this._spliceLatLngs(e,0,f),this._markers.splice(e,0,g),g.setOpacity(1),this._updateIndexes(e,1),b._index++,this._updatePrevNext(a,g),this._updatePrevNext(g,b),this._poly.fire("editstart")},e=function(){g.off("dragstart",d,this),g.off("dragend",e,this),g.off("touchmove",d,this),this._createMiddleMarker(a,g),this._createMiddleMarker(g,b)},c=function(){d.call(this),e.call(this),this._fireEdit()},g.on("click",c,this).on("dragstart",d,this).on("dragend",e,this).on("touchmove",d,this),this._markerGroup.addLayer(g)},_updatePrevNext:function(a,b){a&&(a._next=b),b&&(b._prev=a)},_getMiddleLatLng:function(a,b){var c=this._poly._map,d=c.project(a.getLatLng()),e=c.project(b.getLatLng());return c.unproject(d._add(e)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(a,b){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=a,L.Util.setOptions(this,b)},addHooks:function(){var a=this._shape;this._shape._map&&(this._map=this._shape._map,a.setStyle(a.options.editing),a._map&&(this._map=a._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var a=this._shape;if(a.setStyle(a.options.original),a._map){this._unbindMarker(this._moveMarker);for(var b=0,c=this._resizeMarkers.length;b<c;b++)this._unbindMarker(this._resizeMarkers[b]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(a,b){var c=new L.Marker.Touch(a,{draggable:!0,icon:b,zIndexOffset:10});return this._bindMarker(c),this._markerGroup.addLayer(c),c},_bindMarker:function(a){a.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(a){a.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(a){a.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(a){var b=a.target,c=b.getLatLng();b===this._moveMarker?this._move(c):this._resize(c),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(a){a.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(a){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,a),"function"==typeof this._getCorners){var b=this._getCorners(),c=a.target,d=c._cornerIndex;c.setOpacity(0),this._oppositeCorner=b[(d+2)%4],this._toggleCornerMarkers(0,d)}this._shape.fire("editstart")},_onTouchMove:function(a){var b=this._map.mouseEventToLayerPoint(a.originalEvent.touches[0]),c=this._map.layerPointToLatLng(b);return a.target===this._moveMarker?this._move(c):this._resize(c),this._shape.redraw(),!1},_onTouchEnd:function(a){a.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var a=this._shape.getBounds(),b=a.getCenter();this._moveMarker=this._createMarker(b,this.options.moveIcon)},_createResizeMarker:function(){var a=this._getCorners();this._resizeMarkers=[]
;for(var b=0,c=a.length;b<c;b++)this._resizeMarkers.push(this._createMarker(a[b],this.options.resizeIcon)),this._resizeMarkers[b]._cornerIndex=b},_onMarkerDragStart:function(a){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,a);var b=this._getCorners(),c=a.target,d=c._cornerIndex;this._oppositeCorner=b[(d+2)%4],this._toggleCornerMarkers(0,d)},_onMarkerDragEnd:function(a){var b,c,d=a.target;d===this._moveMarker&&(b=this._shape.getBounds(),c=b.getCenter(),d.setLatLng(c)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,a)},_move:function(a){for(var b,c=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),d=this._shape.getBounds(),e=d.getCenter(),f=[],g=0,h=c.length;g<h;g++)b=[c[g].lat-e.lat,c[g].lng-e.lng],f.push([a.lat+b[0],a.lng+b[1]]);this._shape.setLatLngs(f),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(a){var b;this._shape.setBounds(L.latLngBounds(a,this._oppositeCorner)),b=this._shape.getBounds(),this._moveMarker.setLatLng(b.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var a=this._shape.getBounds();return[a.getNorthWest(),a.getNorthEast(),a.getSouthEast(),a.getSouthWest()]},_toggleCornerMarkers:function(a){for(var b=0,c=this._resizeMarkers.length;b<c;b++)this._resizeMarkers[b].setOpacity(a)},_repositionCornerMarkers:function(){for(var a=this._getCorners(),b=0,c=this._resizeMarkers.length;b<c;b++)this._resizeMarkers[b].setLatLng(a[b])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var a=this._shape.getLatLng();this._moveMarker=this._createMarker(a,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(a){if(this._resizeMarkers.length){var b=this._getResizeMarkerPoint(a);this._resizeMarkers[0].setLatLng(b)}this._shape.setLatLng(a),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var a=this._shape.getLatLng(),b=this._getResizeMarkerPoint(a);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(b,this.options.resizeIcon))},_getResizeMarkerPoint:function(a){var b=this._shape._radius*Math.cos(Math.PI/4),c=this._map.project(a);return this._map.unproject([c.x+b,c.y-b])},_resize:function(a){var b=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=b.distanceTo(a):radius=this._map.distance(b,a),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart),L.DomEvent.off(this._container,"touchend",this._onTouchEnd),L.DomEvent.off(this._container,"touchmove",this._onTouchMove),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDowm",this._onTouchStart),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave))},_touchEvent:function(a,b){var c={};if(void 0!==a.touches){if(!a.touches.length)return;c=a.touches[0]}else{if("touch"!==a.pointerType)return;if(c=a,!this._filterClick(a))return}var d=this._map.mouseEventToContainerPoint(c),e=this._map.mouseEventToLayerPoint(c),f=this._map.layerPointToLatLng(e);this._map.fire(b,{latlng:f,layerPoint:e,containerPoint:d,pageX:c.pageX,pageY:c.pageY,originalEvent:a})},_filterClick:function(a){var b=a.timeStamp||a.originalEvent.timeStamp,c=L.DomEvent._lastClick&&b-L.DomEvent._lastClick;return c&&c>100&&c<500||a.target._simulatedClick&&!a._simulated?(L.DomEvent.stop(a),!1):(L.DomEvent._lastClick=b,!0)},_onTouchStart:function(a){this._map._loaded&&this._touchEvent(a,"touchstart")},_onTouchEnd:function(a){this._map._loaded&&this._touchEvent(a,"touchend")},_onTouchCancel:function(a){if(this._map._loaded){var b="touchcancel";this._detectIE()&&(b="pointercancel"),this._touchEvent(a,b)}},_onTouchLeave:function(a){this._map._loaded&&this._touchEvent(a,"touchleave")},_onTouchMove:function(a){this._map._loaded&&this._touchEvent(a,"touchmove")},_detectIE:function(){var b=a.navigator.userAgent,c=b.indexOf("MSIE ");if(c>0)return parseInt(b.substring(c+5,b.indexOf(".",c)),10);if(b.indexOf("Trident/")>0){var d=b.indexOf("rv:");return parseInt(b.substring(d+3,b.indexOf(".",d)),10)}var e=b.indexOf("Edge/");return e>0&&parseInt(b.substring(e+5,b.indexOf(".",e)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var a=this._icon,b=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?b.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):b.concat(["touchcancel"]),L.DomUtil.addClass(a,"leaflet-clickable"),L.DomEvent.on(a,"click",this._onMouseClick,this),L.DomEvent.on(a,"keypress",this._onKeyPress,this);for(var c=0;c<b.length;c++)L.DomEvent.on(a,b[c],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var b=a.navigator.userAgent,c=b.indexOf("MSIE ");if(c>0)return parseInt(b.substring(c+5,b.indexOf(".",c)),10);if(b.indexOf("Trident/")>0){var d=b.indexOf("rv:");return parseInt(b.substring(d+3,b.indexOf(".",d)),10)}var e=b.indexOf("Edge/");return e>0&&parseInt(b.substring(e+5,b.indexOf(".",e)),10)}}),L.LatLngUtil={cloneLatLngs:function(a){for(var b=[],c=0,d=a.length;c<d;c++)Array.isArray(a[c])?b.push(L.LatLngUtil.cloneLatLngs(a[c])):b.push(this.cloneLatLng(a[c]));return b},cloneLatLng:function(a){return L.latLng(a.lat,a.lng)}},function(){var a={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(a){var b,c,d=a.length,e=0,f=Math.PI/180;if(d>2){for(var g=0;g<d;g++)b=a[g],c=a[(g+1)%d],e+=(c.lng-b.lng)*f*(2+Math.sin(b.lat*f)+Math.sin(c.lat*f));e=6378137*e*6378137/2}return Math.abs(e)},formattedNumber:function(a,b){var c=parseFloat(a).toFixed(b),d=L.drawLocal.format&&L.drawLocal.format.numeric,e=d&&d.delimiters,f=e&&e.thousands,g=e&&e.decimal;if(f||g){var h=c.split(".");c=f?h[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+f):h[0],g=g||".",h.length>1&&(c=c+g+h[1])}return c},readableArea:function(b,c,d){var e,f,d=L.Util.extend({},a,d);return c?(f=["ha","m"],type=typeof c,"string"===type?f=[c]:"boolean"!==type&&(f=c),e=b>=1e6&&-1!==f.indexOf("km")?L.GeometryUtil.formattedNumber(1e-6*b,d.km)+" km":b>=1e4&&-1!==f.indexOf("ha")?L.GeometryUtil.formattedNumber(1e-4*b,d.ha)+" ha":L.GeometryUtil.formattedNumber(b,d.m)+" m"):(b/=.836127,e=b>=3097600?L.GeometryUtil.formattedNumber(b/3097600,d.mi)+" mi":b>=4840?L.GeometryUtil.formattedNumber(b/4840,d.ac)+" acres":L.GeometryUtil.formattedNumber(b,d.yd)+" yd"),e},readableDistance:function(b,c,d,e,f){var g,f=L.Util.extend({},a,f);switch(c?"string"==typeof c?c:"metric":d?"feet":e?"nauticalMile":"yards"){case"metric":g=b>1e3?L.GeometryUtil.formattedNumber(b/1e3,f.km)+" km":L.GeometryUtil.formattedNumber(b,f.m)+" m";break;case"feet":b*=3.28083,g=L.GeometryUtil.formattedNumber(b,f.ft)+" ft";break;case"nauticalMile":b*=.53996,g=L.GeometryUtil.formattedNumber(b/1e3,f.nm)+" nm";break;case"yards":default:b*=1.09361,g=b>1760?L.GeometryUtil.formattedNumber(b/1760,f.mi)+" miles":L.GeometryUtil.formattedNumber(b,f.yd)+" yd"}return g},isVersion07x:function(){var a=L.version.split(".");return 0===parseInt(a[0],10)&&7===parseInt(a[1],10)}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(a,b,c,d){return this._checkCounterclockwise(a,c,d)!==this._checkCounterclockwise(b,c,d)&&this._checkCounterclockwise(a,b,c)!==this._checkCounterclockwise(a,b,d)},_checkCounterclockwise:function(a,b,c){return(c.y-a.y)*(b.x-a.x)>(b.y-a.y)*(c.x-a.x)}}),L.Polyline.include({intersects:function(){var a,b,c,d=this._getProjectedPoints(),e=d?d.length:0;if(this._tooFewPointsForIntersection())return!1;for(a=e-1;a>=3;a--)if(b=d[a-1],c=d[a],this._lineSegmentsIntersectsRange(b,c,a-2))return!0;return!1},newLatLngIntersects:function(a,b){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(a),b)},newPointIntersects:function(a,b){var c=this._getProjectedPoints(),d=c?c.length:0,e=c?c[d-1]:null,f=d-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(e,a,f,b?1:0)},_tooFewPointsForIntersection:function(a){var b=this._getProjectedPoints(),c=b?b.length:0;return c+=a||0,!b||c<=3},_lineSegmentsIntersectsRange:function(a,b,c,d){var e,f,g=this._getProjectedPoints();d=d||0;for(var h=c;h>d;h--)if(e=g[h-1],f=g[h],L.LineUtil.segmentsIntersect(a,b,e,f))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var a=[],b=this._defaultShape(),c=0;c<b.length;c++)a.push(this._map.latLngToLayerPoint(b[c]));return a}}),L.Polygon.include({intersects:function(){var a,b,c,d,e=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(a=e.length,b=e[0],c=e[a-1],d=a-2,this._lineSegmentsIntersectsRange(c,b,d,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(a){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,a);var b;this._toolbars={},L.DrawToolbar&&this.options.draw&&(b=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=b,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(b=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=b,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(a){var b,c=L.DomUtil.create("div","leaflet-draw"),d=!1;for(var e in this._toolbars)this._toolbars.hasOwnProperty(e)&&(b=this._toolbars[e].addToolbar(a))&&(d||(L.DomUtil.hasClass(b,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(b.childNodes[0],"leaflet-draw-toolbar-top"),d=!0),c.appendChild(b));return c},onRemove:function(){for(var a in this._toolbars)this._toolbars.hasOwnProperty(a)&&this._toolbars[a].removeToolbar()},setDrawingOptions:function(a){for(var b in this._toolbars)this._toolbars[b]instanceof L.DrawToolbar&&this._toolbars[b].setOptions(a)},_toolbarEnabled:function(a){var b=a.target;for(var c in this._toolbars)this._toolbars[c]!==b&&this._toolbars[c].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(a){L.setOptions(this,a),this._modes={},this._actionButtons=[],this._activeMode=null;var b=L.version.split(".");1===parseInt(b[0],10)&&parseInt(b[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(a){var b,c=L.DomUtil.create("div","leaflet-draw-section"),d=0,e=this._toolbarClass||"",f=this.getModeHandlers(a);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=a,b=0;b<f.length;b++)f[b].enabled&&this._initModeHandler(f[b].handler,this._toolbarContainer,d++,e,f[b].title);if(d)return this._lastButtonIndex=--d,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),c.appendChild(this._toolbarContainer),c.appendChild(this._actionsContainer),c},removeToolbar:function(){for(var a in this._modes)this._modes.hasOwnProperty(a)&&(this._disposeButton(this._modes[a].button,this._modes[a].handler.enable,this._modes[a].handler),this._modes[a].handler.disable(),this._modes[a].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var b=0,c=this._actionButtons.length;b<c;b++)this._disposeButton(this._actionButtons[b].button,this._actionButtons[b].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(a,b,c,d,e){var f=a.type;this._modes[f]={},this._modes[f].handler=a,this._modes[f].button=this._createButton({type:f,title:e,className:d+"-"+f,container:b,callback:this._modes[f].handler.enable,context:this._modes[f].handler}),this._modes[f].buttonIndex=c,this._modes[f].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!a.MSStream},_createButton:function(a){var b=L.DomUtil.create("a",a.className||"",a.container),c=L.DomUtil.create("span","sr-only",a.container);b.href="#",b.appendChild(c),a.title&&(b.title=a.title,c.innerHTML=a.title),a.text&&(b.innerHTML=a.text,c.innerHTML=a.text);var d=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(b,"click",L.DomEvent.stopPropagation).on(b,"mousedown",L.DomEvent.stopPropagation).on(b,"dblclick",L.DomEvent.stopPropagation).on(b,"touchstart",L.DomEvent.stopPropagation).on(b,"click",L.DomEvent.preventDefault).on(b,d,a.callback,a.context),b},_disposeButton:function(a,b){var c=this._detectIOS()?"touchstart":"click";L.DomEvent.off(a,"click",L.DomEvent.stopPropagation).off(a,"mousedown",L.DomEvent.stopPropagation).off(a,"dblclick",L.DomEvent.stopPropagation).off(a,"touchstart",L.DomEvent.stopPropagation).off(a,"click",L.DomEvent.preventDefault).off(a,c,b)},_handlerActivated:function(a){this.disable(),this._activeMode=this._modes[a.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(a){var b,c,d,e,f=this._actionsContainer,g=this.getActions(a),h=g.length;for(c=0,d=this._actionButtons.length;c<d;c++)this._disposeButton(this._actionButtons[c].button,this._actionButtons[c].callback);for(this._actionButtons=[];f.firstChild;)f.removeChild(f.firstChild);for(var i=0;i<h;i++)"enabled"in g[i]&&!g[i].enabled||(b=L.DomUtil.create("li","",f),e=this._createButton({title:g[i].title,text:g[i].text,container:b,callback:g[i].callback,context:g[i].context}),this._actionButtons.push({button:e,callback:g[i].callback}))},_showActionsToolbar:function(){var a=this._activeMode.buttonIndex,b=this._lastButtonIndex,c=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=c+"px",0===a&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),a===b&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(a){this._map=a,this._popupPane=a._panes.popupPane,this._visible=!1,this._container=a.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(a){return this._container?(a.subtext=a.subtext||"",0!==a.subtext.length||this._singleLineLabel?a.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(a.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+a.subtext+"</span><br />":"")+"<span>"+a.text+"</span>",a.text||a.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(a){var b=this._map.latLngToLayerPoint(a),c=this._container;return this._container&&(this._visible&&(c.style.visibility="inherit"),L.DomUtil.setPosition(c,b)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(a){for(var b in this.options)this.options.hasOwnProperty(b)&&a[b]&&(a[b]=L.extend({},this.options[b],a[b]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,a)},getModeHandlers:function(a){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(a,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(a,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(a,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(a,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(a,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(a,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(a){return[{enabled:a.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:a.completeShape,context:a},{enabled:a.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:a.deleteLastVertex,context:a},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(a){L.setOptions(this,a);for(var b in this._modes)this._modes.hasOwnProperty(b)&&a.hasOwnProperty(b)&&this._modes[b].handler.setOptions(a[b])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(a){a.edit&&(void 0===a.edit.selectedPathOptions&&(a.edit.selectedPathOptions=this.options.edit.selectedPathOptions),a.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,a.edit.selectedPathOptions)),a.remove&&(a.remove=L.extend({},this.options.remove,a.remove)),a.poly&&(a.poly=L.extend({},this.options.poly,a.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,a),this._selectedFeatureCount=0},getModeHandlers:function(a){var b=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(a,{featureGroup:b,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(a,{featureGroup:b}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(a){var b=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return a.removeAllLayers&&b.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),b},addToolbar:function(a){var b=L.Toolbar.prototype.addToolbar.call(this,a);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),b},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var a,b=this.options.featureGroup,c=0!==b.getLayers().length;this.options.edit&&(a=this._modes[L.EditToolbar.Edit.TYPE].button,c?L.DomUtil.removeClass(a,"leaflet-disabled"):L.DomUtil.addClass(a,"leaflet-disabled"),a.setAttribute("title",c?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(a=this._modes[L.EditToolbar.Delete.TYPE].button,c?L.DomUtil.removeClass(a,"leaflet-disabled"):L.DomUtil.addClass(a,"leaflet-disabled"),a.setAttribute("title",c?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(a,b){if(L.Handler.prototype.initialize.call(this,a),L.setOptions(this,b),this._featureGroup=b.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var c=L.version.split(".");1===parseInt(c[0],10)&&parseInt(c[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var a=this._map;a&&(a.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),a._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(a){this._revertLayer(a)},this)},save:function(){var a=new L.LayerGroup;this._featureGroup.eachLayer(function(b){b.edited&&(a.addLayer(b),b.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:a})},_backupLayer:function(a){var b=L.Util.stamp(a);this._uneditedLayerProps[b]||(a instanceof L.Polyline||a instanceof L.Polygon||a instanceof L.Rectangle?this._uneditedLayerProps[b]={latlngs:L.LatLngUtil.cloneLatLngs(a.getLatLngs())}:a instanceof L.Circle?this._uneditedLayerProps[b]={latlng:L.LatLngUtil.cloneLatLng(a.getLatLng()),radius:a.getRadius()}:(a instanceof L.Marker||a instanceof L.CircleMarker)&&(this._uneditedLayerProps[b]={latlng:L.LatLngUtil.cloneLatLng(a.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(a){var b=L.Util.stamp(a);a.edited=!1,this._uneditedLayerProps.hasOwnProperty(b)&&(a instanceof L.Polyline||a instanceof L.Polygon||a instanceof L.Rectangle?a.setLatLngs(this._uneditedLayerProps[b].latlngs):a instanceof L.Circle?(a.setLatLng(this._uneditedLayerProps[b].latlng),a.setRadius(this._uneditedLayerProps[b].radius)):(a instanceof L.Marker||a instanceof L.CircleMarker)&&a.setLatLng(this._uneditedLayerProps[b].latlng),a.fire("revert-edited",{layer:a}))},_enableLayerEdit:function(a){var b,c,d=a.layer||a.target||a;this._backupLayer(d),this.options.poly&&(c=L.Util.extend({},this.options.poly),d.options.poly=c),this.options.selectedPathOptions&&(b=L.Util.extend({},this.options.selectedPathOptions),b.maintainColor&&(b.color=d.options.color,b.fillColor=d.options.fillColor),d.options.original=L.extend({},d.options),d.options.editing=b),d instanceof L.Marker?(d.editing&&d.editing.enable(),d.dragging.enable(),d.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):d.editing.enable()},_disableLayerEdit:function(a){var b=a.layer||a.target||a;b.edited=!1,b.editing&&b.editing.disable(),delete b.options.editing,delete b.options.original,this._selectedPathOptions&&(b instanceof L.Marker?this._toggleMarkerHighlight(b):(b.setStyle(b.options.previousOptions),delete b.options.previousOptions)),b instanceof L.Marker?(b.dragging.disable(),b.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):b.editing.disable()},_onMouseMove:function(a){this._tooltip.updatePosition(a.latlng)},_onMarkerDragEnd:function(a){var b=a.target;b.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:b})},_onTouchMove:function(a){var b=a.originalEvent.changedTouches[0],c=this._map.mouseEventToLayerPoint(b),d=this._map.layerPointToLatLng(c);a.target.setLatLng(d)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(a,b){if(L.Handler.prototype.initialize.call(this,a),L.Util.setOptions(this,b),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var c=L.version.split(".");1===parseInt(c[0],10)&&parseInt(c[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var a=this._map;a&&(a.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(a){this._deletableLayers.addLayer(a),a.fire("revert-deleted",{layer:a})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(a){this._removeLayer({layer:a})},this),this.save()},_enableLayerDelete:function(a){(a.layer||a.target||a).on("click",this._removeLayer,this)},_disableLayerDelete:function(a){var b=a.layer||a.target||a;b.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(b)},_removeLayer:function(a){var b=a.layer||a.target||a;this._deletableLayers.removeLayer(b),this._deletedLayers.addLayer(b),b.fire("deleted")},_onMouseMove:function(a){this._tooltip.updatePosition(a.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})}(window,document)},{}],102:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0})
;var d=c.ENTER_KEY=13,e=c.ESCAPE_KEY=27,f=c.ARROW_DOWN_KEY=40,g=c.ARROW_UP_KEY=38,h=c.ARROW_LEFT_KEY=37,i=c.ARROW_RIGHT_KEY=39;c.SPECIAL_KEYS=[d,e,f,g,h,i]},{}],103:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=c.createElement=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,d=document.createElement(a);return d.className=b,c&&c.appendChild(d),d};c.createScriptElement=function(a,b){var c=d("script",null,document.body);return c.setAttribute("type","text/javascript"),new Promise(function(d){window[b]=function(a){c.remove(),delete window[b],d(a)},c.setAttribute("src",a)})},c.addClassName=function(a,b){a&&!a.classList.contains(b)&&a.classList.add(b)},c.removeClassName=function(a,b){a&&a.classList.contains(b)&&a.classList.remove(b)}},{}],104:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./leafletControl");Object.defineProperty(c,"GeoSearchControl",{enumerable:!0,get:function(){return d(e).default}});var f=a("./searchElement");Object.defineProperty(c,"SearchElement",{enumerable:!0,get:function(){return d(f).default}});var g=a("./providers/bingProvider");Object.defineProperty(c,"BingProvider",{enumerable:!0,get:function(){return d(g).default}});var h=a("./providers/esriProvider");Object.defineProperty(c,"EsriProvider",{enumerable:!0,get:function(){return d(h).default}});var i=a("./providers/googleProvider");Object.defineProperty(c,"GoogleProvider",{enumerable:!0,get:function(){return d(i).default}});var j=a("./providers/openStreetMapProvider");Object.defineProperty(c,"OpenStreetMapProvider",{enumerable:!0,get:function(){return d(j).default}});var k=a("./providers/provider");Object.defineProperty(c,"Provider",{enumerable:!0,get:function(){return d(k).default}})},{"./leafletControl":105,"./providers/bingProvider":106,"./providers/esriProvider":107,"./providers/googleProvider":108,"./providers/openStreetMapProvider":109,"./providers/provider":110,"./searchElement":112}],105:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){if(!L||!L.Control||!L.Control.extend)throw new Error("Leaflet must be loaded before instantiating the GeoSearch control");for(var a=L.Control.extend(s),b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return new(Function.prototype.bind.apply(a,[null].concat(c)))}Object.defineProperty(c,"__esModule",{value:!0});var f=a("nodent-runtime"),g=(d(f),Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a});c.default=e;var h=a("lodash.debounce"),i=d(h),j=a("./searchElement"),k=d(j),l=a("./resultList"),m=d(l),n=a("./domUtils"),o=a("./constants"),p=function(){return{position:"topleft",style:"button",showMarker:!0,showPopup:!1,popupFormat:function(a){return""+a.result.label},marker:{icon:new L.Icon.Default,draggable:!1},maxMarkers:1,retainZoomLevel:!1,animateZoom:!0,searchLabel:"Enter address",notFoundMessage:"Sorry, that address could not be found.",messageHideDelay:3e3,zoomLevel:18,classNames:{container:"leaflet-bar leaflet-control leaflet-control-geosearch",button:"leaflet-bar-part leaflet-bar-part-single",resetButton:"reset",msgbox:"leaflet-bar message",form:"",input:""},autoComplete:!0,autoCompleteDelay:250,autoClose:!1,keepResult:!1}},q={},r=["dragging","touchZoom","doubleClickZoom","scrollWheelZoom","boxZoom","keyboard"],s={initialize:function(a){var b=this;this.markers=new L.FeatureGroup,this.handlersDisabled=!1,this.options=g({},p(),a);var c=this.options,d=c.style,e=c.classNames,f=c.searchLabel,h=c.autoComplete,j=c.autoCompleteDelay;"button"!==d&&(this.options.classNames.container+=" "+a.style),this.searchElement=new k.default(g({},this.options,{handleSubmit:function(a){return b.onSubmit(a)}}));var l=this.searchElement.elements,o=l.container,q=l.form,r=l.input,s=(0,n.createElement)("a",e.button,o);s.title=f,s.href="#",s.addEventListener("click",function(a){b.onClick(a)},!1);var t=(0,n.createElement)("a",e.resetButton,q);t.innerHTML="X",s.href="#",t.addEventListener("click",function(){b.clearResults(null,!0)},!1),h&&(this.resultList=new m.default({handleClick:function(a){var c=a.result;r.value=c.label,b.onSubmit({query:c.label})}}),q.appendChild(this.resultList.elements.container),r.addEventListener("keyup",(0,i.default)(function(a){return b.autoSearch(a)},j),!0),r.addEventListener("keydown",function(a){return b.selectResult(a)},!0),r.addEventListener("keydown",function(a){return b.clearResults(a,!0)},!0)),q.addEventListener("mouseenter",function(a){return b.disableHandlers(a)},!0),q.addEventListener("mouseleave",function(a){return b.restoreHandlers(a)},!0),this.elements={button:s,resetButton:t}},onAdd:function(a){var b=this.options,c=b.showMarker,d=b.style;if(this.map=a,c&&this.markers.addTo(a),"bar"===d){var e=this.searchElement.elements.form,f=a.getContainer().querySelector(".leaflet-control-container"),g=(0,n.createElement)("div","leaflet-control-geosearch bar");g.appendChild(e),f.appendChild(g),this.elements.container=g}return this.searchElement.elements.container},onRemove:function(){var a=this.elements.container;return a&&a.remove(),this},onClick:function(a){a.preventDefault();var b=this.searchElement.elements,c=b.container,d=b.input;c.classList.contains("active")?((0,n.removeClassName)(c,"active"),this.clearResults()):((0,n.addClassName)(c,"active"),d.focus())},disableHandlers:function(a){var b=this,c=this.searchElement.elements.form;this.handlersDisabled||a&&a.target!==c||(this.handlersDisabled=!0,r.forEach(function(a){b.map[a]&&(q[a]=b.map[a].enabled(),b.map[a].disable())}))},restoreHandlers:function(a){var b=this,c=this.searchElement.elements.form;!this.handlersDisabled||a&&a.target!==c||(this.handlersDisabled=!1,r.forEach(function(a){q[a]&&b.map[a].enable()}))},selectResult:function(a){if([o.ENTER_KEY,o.ARROW_DOWN_KEY,o.ARROW_UP_KEY].includes(a.keyCode)){a.preventDefault();var b=this.searchElement.elements.input;if(a.keyCode===o.ENTER_KEY)return void this.onSubmit({query:b.value});var c=this.resultList,d=c.count()-1;if(!(d<0)){var e="ArrowDown"===a.code?1+~~c.selected:~~c.selected-1,f=e<0?d:e>d?0:e,g=c.select(f);b.value=g.label}}},clearResults:function(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!a||a.keyCode===o.ESCAPE_KEY){var c=this.searchElement.elements.input,d=this.options,e=d.keepResult,f=d.autoComplete;!b&&e||(c.value="",this.markers.clearLayers()),f&&this.resultList.clear()}},autoSearch:function(a){return new Promise(function(b,c){function d(){return b()}var e,f,g;return o.SPECIAL_KEYS.includes(a.keyCode)?b():(e=a.target.value,f=this.options.provider,e.length?f.search({query:e}).then(function(a){return g=a,this.resultList.render(g),d.call(this)}.$asyncbind(this,c),c):(this.resultList.clear(),d.call(this)))}.$asyncbind(this))},onSubmit:function(a){return new Promise(function(b,c){var d,e;return d=this.options.provider,d.search(a).then(function(c){return e=c,e&&e.length>0&&this.showResult(e[0],a),b()}.$asyncbind(this,c),c)}.$asyncbind(this))},showResult:function(a,b){var c=b.query,d=this.options.autoClose,e=Object.keys(this.markers._layers);e.length>=this.options.maxMarkers&&this.markers.removeLayer(e[0]);var f=this.addMarker(a,c);this.centerMap(a),this.map.fireEvent("geosearch/showlocation",{location:a,marker:f}),d&&this.closeResults()},closeResults:function(){var a=this.searchElement.elements.container;a.classList.contains("active")&&(0,n.removeClassName)(a,"active"),this.restoreHandlers(),this.clearResults()},addMarker:function(a,b){var c=this,d=this.options,e=d.marker,f=d.showPopup,g=d.popupFormat,h=new L.Marker([a.y,a.x],e),i=a.label;return"function"==typeof g&&(i=g({query:b,result:a})),h.bindPopup(i),this.markers.addLayer(h),f&&h.openPopup(),e.draggable&&h.on("dragend",function(a){c.map.fireEvent("geosearch/marker/dragend",{location:h.getLatLng(),event:a})}),h},centerMap:function(a){var b=this.options,c=b.retainZoomLevel,d=b.animateZoom,e=new L.LatLngBounds(a.bounds),f=e.isValid()?e:this.markers.getBounds();!c&&e.isValid()?this.map.fitBounds(f,{animate:d}):this.map.setView(f.getCenter(),this.getZoom(),{animate:d})},getZoom:function(){var a=this.options,b=a.retainZoomLevel,c=a.zoomLevel;return b?this.map.getZoom():c}}},{"./constants":102,"./domUtils":103,"./resultList":111,"./searchElement":112,"lodash.debounce":118,"nodent-runtime":120}],106:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=a("nodent-runtime"),i=(d(h),Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}),j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=a("./provider"),l=d(k),m=a("../domUtils"),n=function(a){function b(){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return g(b,a),j(b,[{key:"endpoint",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.query,c=a.protocol,d=a.jsonp,e=this.options.params;return c+"//dev.virtualearth.net/REST/v1/Locations?"+this.getParamString(i({},e,{query:b,jsonp:d}))}},{key:"parse",value:function(a){var b=a.data;return 0===b.resourceSets.length?[]:b.resourceSets[0].resources.map(function(a){return{x:a.point.coordinates[1],y:a.point.coordinates[0],label:a.address.formattedAddress,bounds:[[a.bbox[0],a.bbox[1]],[a.bbox[2],a.bbox[3]]],raw:a}})}},{key:"search",value:function(a){return new Promise(function(b,c){var d,e,f,g,h;return d=a.query,e=~location.protocol.indexOf("http")?location.protocol:"https:",f="BING_JSONP_CB_"+Date.now(),g=this.endpoint({query:d,protocol:e,jsonp:f}),(0,m.createScriptElement)(g,f).then(function(a){return h=a,b(this.parse({data:h}))}.$asyncbind(this,c),c)}.$asyncbind(this))}}]),b}(l.default);c.default=n},{"../domUtils":103,"./provider":110,"nodent-runtime":120}],107:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./provider"),j=function(a){return a&&a.__esModule?a:{default:a}}(i),k=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),h(b,[{key:"endpoint",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.query,c=a.protocol,d=this.options.params;return c+"//geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/find?"+this.getParamString(g({},d,{f:"json",text:b}))}},{key:"parse",value:function(a){return a.data.locations.map(function(a){return{x:a.feature.geometry.x,y:a.feature.geometry.y,label:a.name,bounds:[[a.extent.ymin,a.extent.xmin],[a.extent.ymax,a.extent.xmax]],raw:a}})}}]),b}(j.default);c.default=k},{"./provider":110}],108:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./provider"),j=function(a){return a&&a.__esModule?a:{default:a}}(i),k=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),h(b,[{key:"endpoint",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.query,c=a.protocol,d=this.options.params,e=this.getParamString(g({},d,{address:b}));return(d&&d.key?"https:":c)+"//maps.googleapis.com/maps/api/geocode/json?"+e}},{key:"parse",value:function(a){return a.data.results.map(function(a){return{x:a.geometry.location.lng,y:a.geometry.location.lat,label:a.formatted_address,bounds:[[a.geometry.viewport.southwest.lat,a.geometry.viewport.southwest.lng],[a.geometry.viewport.northeast.lat,a.geometry.viewport.northeast.lng]],raw:a}})}}]),b}(j.default);c.default=k},{"./provider":110}],109:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./provider"),j=function(a){return a&&a.__esModule?a:{default:a}}(i),k=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),h(b,[{key:"endpoint",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.query,c=a.protocol,d=this.options.params;return c+"//nominatim.openstreetmap.org/search?"+this.getParamString(g({},d,{format:"json",q:b}))}},{key:"parse",value:function(a){return a.data.map(function(a){return{x:a.lon,y:a.lat,label:a.display_name,bounds:[[parseFloat(a.boundingbox[0]),parseFloat(a.boundingbox[2])],[parseFloat(a.boundingbox[1]),parseFloat(a.boundingbox[3])]],raw:a}})}}]),b}(j.default);c.default=k},{"./provider":110}],110:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=a("nodent-runtime"),f=(function(a){a&&a.__esModule}(e),function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}()),g=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,a),this.options=b}return f(a,[{key:"getParamString",value:function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(a[b])}).join("&")}},{key:"search",value:function(a){return new Promise(function(b,c){var d,e,f,g,h;return d=a.query,e=~location.protocol.indexOf("http")?location.protocol:"https:",f=this.endpoint({query:d,protocol:e}),fetch(f).then(function(a){return g=a,g.json().then(function(a){return h=a,b(this.parse({data:h}))}.$asyncbind(this,c),c)}.$asyncbind(this,c),c)}.$asyncbind(this))}}]),a}();c.default=g},{"nodent-runtime":120}],111:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("./domUtils"),g=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.join(" ").trim()},h=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=b.handleClick,e=void 0===c?function(){}:c,h=b.classNames,j=void 0===h?{}:h;d(this,a),i.call(this),this.props={handleClick:e,classNames:j},this.selected=-1;var k=(0,f.createElement)("div",g("results",j.container)),l=(0,f.createElement)("div",g(j.item));k.addEventListener("click",this.onClick,!0),this.elements={container:k,resultItem:l}}return e(a,[{key:"render",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],b=this.elements,c=b.container,d=b.resultItem;this.clear(),a.forEach(function(a,b){var e=d.cloneNode(!0);e.setAttribute("data-key",b),e.innerHTML=a.label,c.appendChild(e)}),a.length>0&&(0,f.addClassName)(c,"active"),this.results=a}},{key:"select",value:function(a){var b=this.elements.container;return Array.from(b.children).forEach(function(b,c){return c===a?(0,f.addClassName)(b,"active"):(0,f.removeClassName)(b,"active")}),this.selected=a,this.results[a]}},{key:"count",value:function(){return this.results?this.results.length:0}},{key:"clear",value:function(){var a=this.elements.container;for(this.selected=-1;a.lastChild;)a.removeChild(a.lastChild);(0,f.removeClassName)(a,"active")}}]),a}(),i=function(){var a=this;this.onClick=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=b.target,d=a.props.handleClick,e=a.elements.container;if(c.parentNode===e&&c.hasAttribute("data-key")){var f=c.getAttribute("data-key");d({result:a.results[f]})}}};c.default=h},{"./domUtils":103}],112:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=a("nodent-runtime"),f=(function(a){a&&a.__esModule}(e),function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}()),g=a("./domUtils"),h=a("./constants"),i=function(){function a(){var b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=c.handleSubmit,f=void 0===e?function(){}:e,h=c.searchLabel,i=void 0===h?"search":h,j=c.classNames,k=void 0===j?{}:j;d(this,a);var l=(0,g.createElement)("div",["geosearch",k.container].join(" ")),m=(0,g.createElement)("form",["",k.form].join(" "),l),n=(0,g.createElement)("input",["glass",k.input].join(" "),m);n.type="text",n.placeholder=i,n.addEventListener("input",function(a){b.onInput(a)},!1),n.addEventListener("keyup",function(a){b.onKeyUp(a)},!1),n.addEventListener("keypress",function(a){b.onKeyPress(a)},!1),n.addEventListener("focus",function(a){b.onFocus(a)},!1),n.addEventListener("blur",function(a){b.onBlur(a)},!1),this.elements={container:l,form:m,input:n},this.handleSubmit=f}return f(a,[{key:"onFocus",value:function(){(0,g.addClassName)(this.elements.form,"active")}},{key:"onBlur",value:function(){(0,g.removeClassName)(this.elements.form,"active")}},{key:"onSubmit",value:function(a){return new Promise(function(b,c){var d,e,f;return a.preventDefault(),a.stopPropagation(),d=this.elements,e=d.input,f=d.container,(0,g.removeClassName)(f,"error"),(0,g.addClassName)(f,"pending"),this.handleSubmit({query:e.value}).then(function(a){return(0,g.removeClassName)(f,"pending"),b()}.$asyncbind(this,c),c)}.$asyncbind(this))}},{key:"onInput",value:function(){var a=this.elements.container;this.hasError&&((0,g.removeClassName)(a,"error"),this.hasError=!1)}},{key:"onKeyUp",value:function(a){var b=this.elements,c=b.container,d=b.input;a.keyCode===h.ESCAPE_KEY&&((0,g.removeClassName)(c,"pending"),(0,g.removeClassName)(c,"active"),d.value="",document.body.focus(),document.body.blur())}},{key:"onKeyPress",value:function(a){a.keyCode===h.ENTER_KEY&&this.onSubmit(a)}},{key:"setQuery",value:function(a){this.elements.input.value=a}}]),a}();c.default=i},{"./constants":102,"./domUtils":103,"nodent-runtime":120}],113:[function(a,b,c){!function(){function a(a){a.Control.Loading=a.Control.extend({options:{delayIndicator:null,position:"topleft",separate:!1,zoomControl:null,spinjs:!1,spin:{lines:7,length:3,width:3,radius:5,rotate:13,top:"83%"}},initialize:function(b){a.setOptions(this,b),this._dataLoaders={},null!==this.options.zoomControl&&(this.zoomControl=this.options.zoomControl)},onAdd:function(c){if(this.options.spinjs&&"function"!=typeof Spinner)return b.error("Leaflet.loading cannot load because you didn't load spin.js (http://fgnass.github.io/spin.js/), even though you set it in options.");this._addLayerListeners(c),this._addMapListeners(c),this.options.separate||this.zoomControl||(c.zoomControl?this.zoomControl=c.zoomControl:c.zoomsliderControl&&(this.zoomControl=c.zoomsliderControl));var d,e="leaflet-control-loading";return this.zoomControl&&!this.options.separate?(d=this.zoomControl._container,e+=" leaflet-bar-part-bottom leaflet-bar-part last",a.DomUtil.addClass(this._getLastControlButton(),"leaflet-bar-part-bottom")):d=a.DomUtil.create("div","leaflet-control-zoom leaflet-control-layer-container leaflet-bar"),this._indicatorContainer=d,this._indicator=a.DomUtil.create("a",e,d),this.options.spinjs&&(this._spinner=new Spinner(this.options.spin).spin(),this._indicator.appendChild(this._spinner.el)),d},onRemove:function(a){this._removeLayerListeners(a),this._removeMapListeners(a)},removeFrom:function(b){return this.zoomControl&&!this.options.separate?(this._container.removeChild(this._indicator),this._map=null,this.onRemove(b),this):a.Control.prototype.removeFrom.call(this,b)},addLoader:function(a){if(this._dataLoaders[a]=!0,this.options.delayIndicator&&!this.delayIndicatorTimeout){var b=this;this.delayIndicatorTimeout=setTimeout(function(){b.updateIndicator(),b.delayIndicatorTimeout=null},this.options.delayIndicator)}else this.updateIndicator()},removeLoader:function(a){delete this._dataLoaders[a],this.updateIndicator(),this.options.delayIndicator&&this.delayIndicatorTimeout&&!this.isLoading()&&(clearTimeout(this.delayIndicatorTimeout),this.delayIndicatorTimeout=null)},updateIndicator:function(){this.isLoading()?this._showIndicator():this._hideIndicator()},isLoading:function(){return this._countLoaders()>0},_countLoaders:function(){var a,b=0;for(a in this._dataLoaders)this._dataLoaders.hasOwnProperty(a)&&b++;return b},_showIndicator:function(){a.DomUtil.addClass(this._indicator,"is-loading"),a.DomUtil.addClass(this._indicatorContainer,"is-loading"),this.options.separate||(this.zoomControl instanceof a.Control.Zoom?a.DomUtil.removeClass(this._getLastControlButton(),"leaflet-bar-part-bottom"):"function"==typeof a.Control.Zoomslider&&this.zoomControl instanceof a.Control.Zoomslider&&a.DomUtil.removeClass(this.zoomControl._ui.zoomOut,"leaflet-bar-part-bottom"))},_hideIndicator:function(){a.DomUtil.removeClass(this._indicator,"is-loading"),a.DomUtil.removeClass(this._indicatorContainer,"is-loading"),this.options.separate||(this.zoomControl instanceof a.Control.Zoom?a.DomUtil.addClass(this._getLastControlButton(),"leaflet-bar-part-bottom"):"function"==typeof a.Control.Zoomslider&&this.zoomControl instanceof a.Control.Zoomslider&&a.DomUtil.addClass(this.zoomControl._ui.zoomOut,"leaflet-bar-part-bottom"))},_getLastControlButton:function(){for(var a=this.zoomControl._container,b=a.children.length-1;b>0;){var c=a.children[b];if(this._indicator!==c&&0!==c.offsetWidth&&0!==c.offsetHeight)break;b--}return a.children[b]},_handleLoading:function(a){this.addLoader(this.getEventId(a))},_handleBaseLayerChange:function(b){var c=this;b.layer&&b.layer.eachLayer&&"function"==typeof b.layer.eachLayer?b.layer.eachLayer(function(a){c._handleBaseLayerChange({layer:a})}):a.TileLayer.Canvas&&b.layer instanceof a.TileLayer.Canvas||c._handleLoading(b)},_handleLoad:function(a){this.removeLoader(this.getEventId(a))},getEventId:function(a){return a.id?a.id:a.layer?a.layer._leaflet_id:a.target._leaflet_id},_layerAdd:function(a){if(a.layer&&a.layer.on)try{a.layer.on({loading:this._handleLoading,load:this._handleLoad},this)}catch(c){b.warn("L.Control.Loading: Tried and failed to add  event handlers to layer",a.layer),b.warn("L.Control.Loading: Full details",c)}},_layerRemove:function(a){if(a.layer&&a.layer.off)try{a.layer.off({loading:this._handleLoading,load:this._handleLoad},this)}catch(c){b.warn("L.Control.Loading: Tried and failed to remove event handlers from layer",a.layer),b.warn("L.Control.Loading: Full details",c)}},_addLayerListeners:function(a){a.eachLayer(function(a){a.on&&a.on({loading:this._handleLoading,load:this._handleLoad},this)},this),a.on("layeradd",this._layerAdd,this),a.on("layerremove",this._layerRemove,this)},_removeLayerListeners:function(a){a.eachLayer(function(a){a.off&&a.off({loading:this._handleLoading,load:this._handleLoad},this)},this),a.off("layeradd",this._layerAdd,this),a.off("layerremove",this._layerRemove,this)},_addMapListeners:function(a){a.on({baselayerchange:this._handleBaseLayerChange,dataloading:this._handleLoading,dataload:this._handleLoad,layerremove:this._handleLoad},this)},_removeMapListeners:function(a){a.off({baselayerchange:this._handleBaseLayerChange,dataloading:this._handleLoading,dataload:this._handleLoad,layerremove:this._handleLoad},this)}}),a.Map.addInitHook(function(){this.options.loadingControl&&(this.loadingControl=new a.Control.Loading,this.addControl(this.loadingControl))}),a.Control.loading=function(b){return new a.Control.Loading(b)}}var b=window.console||{error:function(){},warn:function(){}};"function"==typeof define&&define.amd?define(["leaflet"],function(b){a(b)}):a(L)}()},{}],114:[function(a,b,c){!function(c,d){"function"==typeof define&&define.amd?define(["leaflet"],d):"object"==typeof modules&&b.exports?b.exports=d(a("leaflet")):d(L)}(0,function(a){"use strict";return a.TileLayer.Provider=a.TileLayer.extend({initialize:function(b,c){var d=a.TileLayer.Provider.providers,e=b.split("."),f=e[0],g=e[1];if(!d[f])throw"No such provider ("+f+")";var h={url:d[f].url,options:d[f].options};if(g&&"variants"in d[f]){if(!(g in d[f].variants))throw"No such variant of "+f+" ("+g+")";var i,j=d[f].variants[g];i="string"==typeof j?{variant:j}:j.options,h={url:j.url||h.url,options:a.Util.extend({},h.options,i)}}var k=function(a){return-1===a.indexOf("{attribution.")?a:a.replace(/\{attribution.(\w*)\}/,function(a,b){return k(d[b].options.attribution)})};h.options.attribution=k(h.options.attribution);var l=a.Util.extend({},h.options,c);a.TileLayer.prototype.initialize.call(this,h.url,l)}}),a.TileLayer.Provider.providers={OpenStreetMap:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'},variants:{Mapnik:{},BlackAndWhite:{url:"http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",options:{maxZoom:18}},DE:{url:"https://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png",options:{maxZoom:18}},CH:{url:"https://tile.osm.ch/switzerland/{z}/{x}/{y}.png",options:{maxZoom:18,bounds:[[45,5],[48,11]]}},France:{url:"https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",options:{maxZoom:20,attribution:"&copy; Openstreetmap France | {attribution.OpenStreetMap}"}},HOT:{url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap}, Tiles courtesy of <a href="http://hot.openstreetmap.org/" target="_blank">Humanitarian OpenStreetMap Team</a>'}},BZH:{url:"https://tile.openstreetmap.bzh/br/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap}, Tiles courtesy of <a href="http://www.openstreetmap.bzh/" target="_blank">Breton OpenStreetMap Team</a>',bounds:[[46.2,-5.5],[50,.7]]}}}},OpenInfraMap:{url:"https://tiles-{s}.openinframap.org/{variant}/{z}/{x}/{y}.png",options:{maxZoom:18,attribution:'{attribution.OpenStreetMap}, <a href="http://www.openinframap.org/about.html">About OpenInfraMap</a>'},variants:{Power:"power",Telecom:"telecoms",Petroleum:"petroleum",Water:"water"}},OpenSeaMap:{url:"https://tiles.openseamap.org/seamark/{z}/{x}/{y}.png",options:{attribution:'Map data: &copy; <a href="http://www.openseamap.org">OpenSeaMap</a> contributors'}},OpenPtMap:{url:"http://openptmap.org/tiles/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: &copy; <a href="http://www.openptmap.org">OpenPtMap</a> contributors'}},OpenTopoMap:{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: {attribution.OpenStreetMap}, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenRailwayMap:{url:"https://{s}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://www.OpenRailwayMap.org">OpenRailwayMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenFireMap:{url:"http://openfiremap.org/hytiles/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="http://www.openfiremap.org">OpenFireMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},SafeCast:{url:"https://s3.amazonaws.com/te512.safecast.org/{z}/{x}/{y}.png",options:{maxZoom:16,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://blog.safecast.org/about/">SafeCast</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},Thunderforest:{url:"https://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png?apikey={apikey}",options:{attribution:'&copy; <a href="http://www.thunderforest.com/">Thunderforest</a>, {attribution.OpenStreetMap}',variant:"cycle",apikey:"<insert your api key here>",maxZoom:22},variants:{OpenCycleMap:"cycle",Transport:{options:{variant:"transport"}},
TransportDark:{options:{variant:"transport-dark"}},SpinalMap:{options:{variant:"spinal-map"}},Landscape:"landscape",Outdoors:"outdoors",Pioneer:"pioneer"}},OpenMapSurfer:{url:"https://korona.geog.uni-heidelberg.de/tiles/{variant}/x={x}&y={y}&z={z}",options:{maxZoom:20,variant:"roads",attribution:'Imagery from <a href="http://giscience.uni-hd.de/">GIScience Research Group @ University of Heidelberg</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Roads:"roads",AdminBounds:{options:{variant:"adminb",maxZoom:19}},Grayscale:{options:{variant:"roadsg",maxZoom:19}}}},Hydda:{url:"https://{s}.tile.openstreetmap.se/hydda/{variant}/{z}/{x}/{y}.png",options:{maxZoom:18,variant:"full",attribution:'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Full:"full",Base:"base",RoadsAndLabels:"roads_and_labels"}},MapBox:{url:"https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}{r}.png?access_token={accessToken}",options:{attribution:'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"abcd",id:"streets",accessToken:"<insert your access token here>"}},Stamen:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}{r}.{ext}",options:{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"abcd",minZoom:0,maxZoom:20,variant:"toner",ext:"png"},variants:{Toner:"toner",TonerBackground:"toner-background",TonerHybrid:"toner-hybrid",TonerLines:"toner-lines",TonerLabels:"toner-labels",TonerLite:"toner-lite",Watercolor:{options:{variant:"watercolor",minZoom:1,maxZoom:16}},Terrain:{options:{variant:"terrain",minZoom:0,maxZoom:18}},TerrainBackground:{options:{variant:"terrain-background",minZoom:0,maxZoom:18}},TopOSMRelief:{options:{variant:"toposm-color-relief",ext:"jpg",bounds:[[22,-132],[51,-56]]}},TopOSMFeatures:{options:{variant:"toposm-features",bounds:[[22,-132],[51,-56]],opacity:.9}}}},Esri:{url:"https://server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}",options:{variant:"World_Street_Map",attribution:"Tiles &copy; Esri"},variants:{WorldStreetMap:{options:{attribution:"{attribution.Esri} &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}},DeLorme:{options:{variant:"Specialty/DeLorme_World_Base_Map",minZoom:1,maxZoom:11,attribution:"{attribution.Esri} &mdash; Copyright: &copy;2012 DeLorme"}},WorldTopoMap:{options:{variant:"World_Topo_Map",attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}},WorldImagery:{options:{variant:"World_Imagery",attribution:"{attribution.Esri} &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}},WorldTerrain:{options:{variant:"World_Terrain_Base",maxZoom:13,attribution:"{attribution.Esri} &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS"}},WorldShadedRelief:{options:{variant:"World_Shaded_Relief",maxZoom:13,attribution:"{attribution.Esri} &mdash; Source: Esri"}},WorldPhysical:{options:{variant:"World_Physical_Map",maxZoom:8,attribution:"{attribution.Esri} &mdash; Source: US National Park Service"}},OceanBasemap:{options:{variant:"Ocean_Basemap",maxZoom:13,attribution:"{attribution.Esri} &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri"}},NatGeoWorldMap:{options:{variant:"NatGeo_World_Map",maxZoom:16,attribution:"{attribution.Esri} &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC"}},WorldGrayCanvas:{options:{variant:"Canvas/World_Light_Gray_Base",maxZoom:16,attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ"}}}},OpenWeatherMap:{url:"http://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png?appid={apiKey}",options:{maxZoom:19,attribution:'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>',apiKey:"<insert your api key here>",opacity:.5},variants:{Clouds:"clouds",CloudsClassic:"clouds_cls",Precipitation:"precipitation",PrecipitationClassic:"precipitation_cls",Rain:"rain",RainClassic:"rain_cls",Pressure:"pressure",PressureContour:"pressure_cntr",Wind:"wind",Temperature:"temp",Snow:"snow"}},HERE:{url:"https://{s}.{base}.maps.cit.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}",options:{attribution:'Map &copy; 1987-2014 <a href="http://developer.here.com">HERE</a>',subdomains:"1234",mapID:"newest",app_id:"<insert your app_id here>",app_code:"<insert your app_code here>",base:"base",variant:"normal.day",maxZoom:20,type:"maptile",language:"eng",format:"png8",size:"256"},variants:{normalDay:"normal.day",normalDayCustom:"normal.day.custom",normalDayGrey:"normal.day.grey",normalDayMobile:"normal.day.mobile",normalDayGreyMobile:"normal.day.grey.mobile",normalDayTransit:"normal.day.transit",normalDayTransitMobile:"normal.day.transit.mobile",normalNight:"normal.night",normalNightMobile:"normal.night.mobile",normalNightGrey:"normal.night.grey",normalNightGreyMobile:"normal.night.grey.mobile",basicMap:{options:{type:"basetile"}},mapLabels:{options:{type:"labeltile",format:"png"}},trafficFlow:{options:{base:"traffic",type:"flowtile"}},carnavDayGrey:"carnav.day.grey",hybridDay:{options:{base:"aerial",variant:"hybrid.day"}},hybridDayMobile:{options:{base:"aerial",variant:"hybrid.day.mobile"}},pedestrianDay:"pedestrian.day",pedestrianNight:"pedestrian.night",satelliteDay:{options:{base:"aerial",variant:"satellite.day"}},terrainDay:{options:{base:"aerial",variant:"terrain.day"}},terrainDayMobile:{options:{base:"aerial",variant:"terrain.day.mobile"}}}},FreeMapSK:{url:"http://t{s}.freemap.sk/T/{z}/{x}/{y}.jpeg",options:{minZoom:8,maxZoom:16,subdomains:"1234",bounds:[[47.204642,15.996093],[49.830896,22.576904]],attribution:'{attribution.OpenStreetMap}, vizualization CC-By-SA 2.0 <a href="http://freemap.sk">Freemap.sk</a>'}},MtbMap:{url:"http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",options:{attribution:"{attribution.OpenStreetMap} &amp; USGS"}},CartoDB:{url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/{variant}/{z}/{x}/{y}{r}.png",options:{attribution:'{attribution.OpenStreetMap} &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',subdomains:"abcd",maxZoom:19,variant:"light_all"},variants:{Positron:"light_all",PositronNoLabels:"light_nolabels",PositronOnlyLabels:"light_only_labels",DarkMatter:"dark_all",DarkMatterNoLabels:"dark_nolabels",DarkMatterOnlyLabels:"dark_only_labels",Voyager:"rastertiles/voyager",VoyagerNoLabels:"rastertiles/voyager_nolabels",VoyagerOnlyLabels:"rastertiles/voyager_only_labels",VoyagerLabelsUnder:"rastertiles/voyager_labels_under"}},HikeBike:{url:"http://{s}.tiles.wmflabs.org/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:"{attribution.OpenStreetMap}",variant:"hikebike"},variants:{HikeBike:{},HillShading:{options:{maxZoom:15,variant:"hillshading"}}}},BasemapAT:{url:"https://maps{s}.wien.gv.at/basemap/{variant}/normal/google3857/{z}/{y}/{x}.{format}",options:{maxZoom:19,attribution:'Datenquelle: <a href="https://www.basemap.at">basemap.at</a>',subdomains:["","1","2","3","4"],format:"png",bounds:[[46.35877,8.782379],[49.037872,17.189532]],variant:"geolandbasemap"},variants:{basemap:{options:{maxZoom:20,variant:"geolandbasemap"}},grau:"bmapgrau",overlay:"bmapoverlay",highdpi:{options:{variant:"bmaphidpi",format:"jpeg"}},orthofoto:{options:{maxZoom:20,variant:"bmaporthofoto30cm",format:"jpeg"}}}},nlmaps:{url:"https://geodata.nationaalgeoregister.nl/tiles/service/wmts/{variant}/EPSG:3857/{z}/{x}/{y}.png",options:{minZoom:6,maxZoom:19,bounds:[[50.5,3.25],[54,7.6]],attribution:'Kaartgegevens &copy; <a href="kadaster.nl">Kadaster</a>'},variants:{standaard:"brtachtergrondkaart",pastel:"brtachtergrondkaartpastel",grijs:"brtachtergrondkaartgrijs",luchtfoto:{url:"https://geodata.nationaalgeoregister.nl/luchtfoto/rgb/wmts/1.0.0/2016_ortho25/EPSG:3857/{z}/{x}/{y}.png"}}},NASAGIBS:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}{maxZoom}/{z}/{y}/{x}.{format}",options:{attribution:'Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (<a href="https://earthdata.nasa.gov">ESDIS</a>) with funding provided by NASA/HQ.',bounds:[[-85.0511287776,-179.999999975],[85.0511287776,179.999999975]],minZoom:1,maxZoom:9,format:"jpg",time:"",tilematrixset:"GoogleMapsCompatible_Level"},variants:{ModisTerraTrueColorCR:"MODIS_Terra_CorrectedReflectance_TrueColor",ModisTerraBands367CR:"MODIS_Terra_CorrectedReflectance_Bands367",ViirsEarthAtNight2012:{options:{variant:"VIIRS_CityLights_2012",maxZoom:8}},ModisTerraLSTDay:{options:{variant:"MODIS_Terra_Land_Surface_Temp_Day",format:"png",maxZoom:7,opacity:.75}},ModisTerraSnowCover:{options:{variant:"MODIS_Terra_Snow_Cover",format:"png",maxZoom:8,opacity:.75}},ModisTerraAOD:{options:{variant:"MODIS_Terra_Aerosol",format:"png",maxZoom:6,opacity:.75}},ModisTerraChlorophyll:{options:{variant:"MODIS_Terra_Chlorophyll_A",format:"png",maxZoom:7,opacity:.75}}}},NLS:{url:"https://nls-{s}.tileserver.com/nls/{z}/{x}/{y}.jpg",options:{attribution:'<a href="http://geo.nls.uk/maps/">National Library of Scotland Historic Maps</a>',bounds:[[49.6,-12],[61.7,3]],minZoom:1,maxZoom:18,subdomains:"0123"}},JusticeMap:{url:"http://www.justicemap.org/tile/{size}/{variant}/{z}/{x}/{y}.png",options:{attribution:'<a href="http://www.justicemap.org/terms.php">Justice Map</a>',size:"county",bounds:[[14,-180],[72,-56]]},variants:{income:"income",americanIndian:"indian",asian:"asian",black:"black",hispanic:"hispanic",multi:"multi",nonWhite:"nonwhite",white:"white",plurality:"plural"}},Wikimedia:{url:"https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}{r}.png",options:{attribution:'<a href="https://wikimediafoundation.org/wiki/Maps_Terms_of_Use">Wikimedia</a>',minZoom:1,maxZoom:19}}},a.tileLayer.provider=function(b,c){return new a.TileLayer.Provider(b,c)},a})},{leaflet:117}],115:[function(a,b,c){!function(a,b,c){"use strict";a.L.Toolbar2=(L.Layer||L.Class).extend({statics:{baseClass:"leaflet-toolbar"},options:{className:"",filter:function(){return!0},actions:[]},initialize:function(a){L.setOptions(this,a),this._toolbar_type=this.constructor._toolbar_class_id},addTo:function(a){return this._arguments=[].slice.call(arguments),a.addLayer(this),this},onAdd:function(a){var b=a._toolbars[this._toolbar_type];0===this._calculateDepth()&&(b&&a.removeLayer(b),a._toolbars[this._toolbar_type]=this)},onRemove:function(a){0===this._calculateDepth()&&delete a._toolbars[this._toolbar_type]},appendToContainer:function(a){var b,c,d,e,f=this.constructor.baseClass+"-"+this._calculateDepth()+" "+this.options.className;for(this._container=a,this._ul=L.DomUtil.create("ul",f,a),this._disabledEvents=["click","mousemove","dblclick","mousedown","mouseup","touchstart"],c=0,e=this._disabledEvents.length;c<e;c++)L.DomEvent.on(this._ul,this._disabledEvents[c],L.DomEvent.stopPropagation);for(b=0,d=this.options.actions.length;b<d;b++)(new(this._getActionConstructor(this.options.actions[b])))._createIcon(this,this._ul,this._arguments)},_getActionConstructor:function(a){var b=this._arguments,c=this;return a.extend({initialize:function(){a.prototype.initialize.apply(this,b)},enable:function(b){c._active&&c._active.disable(),c._active=this,a.prototype.enable.call(this,b)}})},_hide:function(){this._ul.style.display="none"},_show:function(){this._ul.style.display="block"},_calculateDepth:function(){for(var a=0,b=this.parentToolbar;b;)a+=1,b=b.parentToolbar;return a}}),L.Evented||L.Toolbar2.include(L.Mixin.Events),L.toolbar={};var d=0;L.Toolbar2.extend=function(a){var b=L.extend({},a.statics,{_toolbar_class_id:d});return d+=1,L.extend(a,{statics:b}),L.Class.extend.call(this,a)},L.Map.addInitHook(function(){this._toolbars={}}),L.Toolbar2.Action=L.Handler.extend({statics:{baseClass:"leaflet-toolbar-icon"},options:{toolbarIcon:{html:"",className:"",tooltip:""},subToolbar:new L.Toolbar2},initialize:function(a){var b=L.Toolbar2.Action.prototype.options.toolbarIcon;L.setOptions(this,a),this.options.toolbarIcon=L.extend({},b,this.options.toolbarIcon)},enable:function(a){a&&L.DomEvent.preventDefault(a),this._enabled||(this._enabled=!0,this.addHooks&&this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks&&this.removeHooks())},_createIcon:function(a,b,c){var d=this.options.toolbarIcon;this.toolbar=a,this._icon=L.DomUtil.create("li","",b),this._link=L.DomUtil.create("a","",this._icon),this._link.innerHTML=d.html,this._link.setAttribute("href","#"),this._link.setAttribute("title",d.tooltip),L.DomUtil.addClass(this._link,this.constructor.baseClass),d.className&&L.DomUtil.addClass(this._link,d.className),L.DomEvent.on(this._link,"click",this.enable,this),this._addSubToolbar(a,this._icon,c)},_addSubToolbar:function(a,b,c){var d=this.options.subToolbar,e=this.addHooks,f=this.removeHooks;d.parentToolbar=a,d.options.actions.length>0&&((c=[].slice.call(c)).push(this),d.addTo.apply(d,c),d.appendToContainer(b),this.addHooks=function(a){"function"==typeof e&&e.call(this,a),d._show()},this.removeHooks=function(a){"function"==typeof f&&f.call(this,a),d._hide()})}}),L.toolbarAction=function(a){return new L.Toolbar2.Action(a)},L.Toolbar2.Action.extendOptions=function(a){return this.extend({options:a})},L.Toolbar2.Control=L.Toolbar2.extend({statics:{baseClass:"leaflet-control-toolbar "+L.Toolbar2.baseClass},initialize:function(a){L.Toolbar2.prototype.initialize.call(this,a),this._control=new L.Control.Toolbar(this.options)},onAdd:function(a){this._control.addTo(a),L.Toolbar2.prototype.onAdd.call(this,a),this.appendToContainer(this._control.getContainer())},onRemove:function(a){L.Toolbar2.prototype.onRemove.call(this,a),this._control.remove?this._control.remove():this._control.removeFrom(a)}}),L.Control.Toolbar=L.Control.extend({onAdd:function(){return L.DomUtil.create("div","")}}),L.toolbar.control=function(a){return new L.Toolbar2.Control(a)},L.Toolbar2.Popup=L.Toolbar2.extend({statics:{baseClass:"leaflet-popup-toolbar "+L.Toolbar2.baseClass},options:{anchor:[0,0]},initialize:function(a,b){L.Toolbar2.prototype.initialize.call(this,b),this._marker=new L.Marker(a,{icon:new L.DivIcon({className:this.options.className,iconAnchor:[0,0]})})},onAdd:function(a){this._map=a,this._marker.addTo(a),L.Toolbar2.prototype.onAdd.call(this,a),this.appendToContainer(this._marker._icon),this._setStyles()},onRemove:function(a){a.removeLayer(this._marker),L.Toolbar2.prototype.onRemove.call(this,a),delete this._map},setLatLng:function(a){return this._marker.setLatLng(a),this},_setStyles:function(){for(var a,b,c,d=this._container,e=this._ul,f=L.point(this.options.anchor),g=e.querySelectorAll(".leaflet-toolbar-icon"),h=[],i=0,j=0,k=g.length;j<k;j++)g[j].parentNode.parentNode===e&&(h.push(parseInt(L.DomUtil.getStyle(g[j],"height"),10)),i+=Math.ceil(parseFloat(L.DomUtil.getStyle(g[j],"width"))),i+=Math.ceil(parseFloat(L.DomUtil.getStyle(g[j],"border-right-width"))));e.style.width=i+"px",this._tipContainer=L.DomUtil.create("div","leaflet-toolbar-tip-container",d),this._tipContainer.style.width=i+Math.ceil(parseFloat(L.DomUtil.getStyle(e,"border-left-width")))+"px",this._tip=L.DomUtil.create("div","leaflet-toolbar-tip",this._tipContainer),a=Math.max.apply(void 0,h),e.style.height=a+"px",b=parseInt(L.DomUtil.getStyle(this._tip,"width"),10),c=new L.Point(i/2,a+1.414*b),d.style.marginLeft=f.x-c.x+"px",d.style.marginTop=f.y-c.y+"px"}}),L.toolbar.popup=function(a){return new L.Toolbar2.Popup(a)}}(window,document)},{}],116:[function(a,b,c){!function(){L.Control.FullScreen=L.Control.extend({options:{position:"topleft",title:"Full Screen",titleCancel:"Exit Full Screen",forceSeparateButton:!1,forcePseudoFullscreen:!1,fullscreenElement:!1},onAdd:function(a){var b,c="leaflet-control-zoom-fullscreen",d="";return b=a.zoomControl&&!this.options.forceSeparateButton?a.zoomControl._container:L.DomUtil.create("div","leaflet-bar"),this.options.content?d=this.options.content:c+=" fullscreen-icon",this._createButton(this.options.title,c,d,b,this.toggleFullScreen,this),this._map.on("enterFullscreen exitFullscreen",this._toggleTitle,this),b},_createButton:function(b,c,d,e,f,g){return this.link=L.DomUtil.create("a",c,e),this.link.href="#",this.link.title=b,this.link.innerHTML=d,L.DomEvent.addListener(this.link,"click",L.DomEvent.stopPropagation).addListener(this.link,"click",L.DomEvent.preventDefault).addListener(this.link,"click",f,g),L.DomEvent.addListener(e,a.fullScreenEventName,L.DomEvent.stopPropagation).addListener(e,a.fullScreenEventName,L.DomEvent.preventDefault).addListener(e,a.fullScreenEventName,this._handleFullscreenChange,g),L.DomEvent.addListener(document,a.fullScreenEventName,L.DomEvent.stopPropagation).addListener(document,a.fullScreenEventName,L.DomEvent.preventDefault).addListener(document,a.fullScreenEventName,this._handleFullscreenChange,g),this.link},toggleFullScreen:function(){var b=this._map;b._exitFired=!1,b._isFullscreen?(a.supportsFullScreen&&!this.options.forcePseudoFullscreen?a.cancelFullScreen():L.DomUtil.removeClass(this.options.fullscreenElement?this.options.fullscreenElement:b._container,"leaflet-pseudo-fullscreen"),b.fire("exitFullscreen"),b._exitFired=!0,b._isFullscreen=!1):(a.supportsFullScreen&&!this.options.forcePseudoFullscreen?a.requestFullScreen(this.options.fullscreenElement?this.options.fullscreenElement:b._container):L.DomUtil.addClass(this.options.fullscreenElement?this.options.fullscreenElement:b._container,"leaflet-pseudo-fullscreen"),b.fire("enterFullscreen"),b._isFullscreen=!0)},_toggleTitle:function(){this.link.title=this._map._isFullscreen?this.options.title:this.options.titleCancel},_handleFullscreenChange:function(){var b=this._map;b.invalidateSize(),a.isFullScreen()||b._exitFired||(b.fire("exitFullscreen"),b._exitFired=!0,b._isFullscreen=!1)}}),L.Map.addInitHook(function(){this.options.fullscreenControl&&(this.fullscreenControl=L.control.fullscreen(this.options.fullscreenControlOptions),this.addControl(this.fullscreenControl))}),L.control.fullscreen=function(a){return new L.Control.FullScreen(a)};var a={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},b="webkit moz o ms khtml".split(" ");if(void 0!==document.exitFullscreen)a.supportsFullScreen=!0;else{for(var c=0,d=b.length;c<d;c++)if(a.prefix=b[c],void 0!==document[a.prefix+"CancelFullScreen"]){a.supportsFullScreen=!0;break}void 0!==document.msExitFullscreen&&(a.prefix="ms",a.supportsFullScreen=!0)}a.supportsFullScreen&&("ms"===a.prefix?a.fullScreenEventName="MSFullscreenChange":a.fullScreenEventName=a.prefix+"fullscreenchange",a.isFullScreen=function(){switch(this.prefix){case"":return document.fullscreen;case"webkit":return document.webkitIsFullScreen;case"ms":return document.msFullscreenElement;default:return document[this.prefix+"FullScreen"]}},a.requestFullScreen=function(a){switch(this.prefix){case"":return a.requestFullscreen();case"ms":return a.msRequestFullscreen();default:return a[this.prefix+"RequestFullScreen"]()}},a.cancelFullScreen=function(){switch(this.prefix){case"":return document.exitFullscreen();case"ms":return document.msExitFullscreen();default:return document[this.prefix+"CancelFullScreen"]()}}),"undefined"!=typeof jQuery&&(jQuery.fn.requestFullScreen=function(){return this.each(function(){var b=jQuery(this);a.supportsFullScreen&&a.requestFullScreen(b)})}),window.fullScreenApi=a}()},{}],117:[function(a,b,c){!function(a,d){"object"==typeof c&&void 0!==b?d(c):"function"==typeof define&&define.amd?define(["exports"],d):d(a.L={})}(this,function(a){"use strict";function b(a){var b,c,d,e;for(c=1,d=arguments.length;c<d;c++){e=arguments[c];for(b in e)a[b]=e[b]}return a}function c(a,b){var c=Array.prototype.slice;if(a.bind)return a.bind.apply(a,c.call(arguments,1));var d=c.call(arguments,2);return function(){return a.apply(b,d.length?d.concat(c.call(arguments)):arguments)}}function d(a){return a._leaflet_id=a._leaflet_id||++ob,a._leaflet_id}function e(a,b,c){var d,e,f,g;return g=function(){d=!1,e&&(f.apply(c,e),e=!1)},f=function(){d?e=arguments:(a.apply(c,arguments),setTimeout(g,b),d=!0)}}function f(a,b,c){var d=b[1],e=b[0],f=d-e;return a===d&&c?a:((a-e)%f+f)%f+e}function g(){return!1}function h(a,b){var c=Math.pow(10,void 0===b?6:b);return Math.round(a*c)/c}function i(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function j(a){return i(a).split(/\s+/)}function k(a,b){a.hasOwnProperty("options")||(a.options=a.options?nb(a.options):{});for(var c in b)a.options[c]=b[c];return a.options}function l(a,b,c){var d=[];for(var e in a)d.push(encodeURIComponent(c?e.toUpperCase():e)+"="+encodeURIComponent(a[e]));return(b&&-1!==b.indexOf("?")?"&":"?")+d.join("&")}function m(a,b){return a.replace(pb,function(a,c){var d=b[c];if(void 0===d)throw new Error("No value provided for variable "+a);return"function"==typeof d&&(d=d(b)),d})}function n(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1}function o(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}function p(a){var b=+new Date,c=Math.max(0,16-(b-sb));return sb=b+c,window.setTimeout(a,c)}function q(a,b,d){if(!d||tb!==p)return tb.call(window,c(a,b));a.call(b)}function r(a){a&&ub.call(window,a)}function s(){}function t(a){if("undefined"!=typeof L&&L&&L.Mixin){a=qb(a)?a:[a];for(var b=0;b<a.length;b++)a[b]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}function u(a,b,c){this.x=c?Math.round(a):a,this.y=c?Math.round(b):b}function v(a,b,c){return a instanceof u?a:qb(a)?new u(a[0],a[1]):void 0===a||null===a?a:"object"==typeof a&&"x"in a&&"y"in a?new u(a.x,a.y):new u(a,b,c)}function w(a,b){if(a)for(var c=b?[a,b]:a,d=0,e=c.length;d<e;d++)this.extend(c[d])}function x(a,b){return!a||a instanceof w?a:new w(a,b)}function y(a,b){if(a)for(var c=b?[a,b]:a,d=0,e=c.length;d<e;d++)this.extend(c[d])}function z(a,b){return a instanceof y?a:new y(a,b)}function A(a,b,c){if(isNaN(a)||isNaN(b))throw new Error("Invalid LatLng object: ("+a+", "+b+")");this.lat=+a,this.lng=+b,void 0!==c&&(this.alt=+c)}function B(a,b,c){return a instanceof A?a:qb(a)&&"object"!=typeof a[0]?3===a.length?new A(a[0],a[1],a[2]):2===a.length?new A(a[0],a[1]):null:void 0===a||null===a?a:"object"==typeof a&&"lat"in a?new A(a.lat,"lng"in a?a.lng:a.lon,a.alt):void 0===b?null:new A(a,b,c)}function C(a,b,c,d){if(qb(a))return this._a=a[0],this._b=a[1],this._c=a[2],void(this._d=a[3]);this._a=a,this._b=b,this._c=c,this._d=d}function D(a,b,c,d){return new C(a,b,c,d)}function E(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function F(a,b){var c,d,e,f,g,h,i="";for(c=0,e=a.length;c<e;c++){for(g=a[c],d=0,f=g.length;d<f;d++)h=g[d],i+=(d?"L":"M")+h.x+" "+h.y;i+=b?kc?"z":"x":""}return i||"M0 0"}function G(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}function H(a,b,c,d){return"touchstart"===b?J(a,c,d):"touchmove"===b?P(a,c,d):"touchend"===b&&Q(a,c,d),this}function I(a,b,c){var d=a["_leaflet_"+b+c];return"touchstart"===b?a.removeEventListener(nc,d,!1):"touchmove"===b?a.removeEventListener(oc,d,!1):"touchend"===b&&(a.removeEventListener(pc,d,!1),a.removeEventListener(qc,d,!1)),this}function J(a,b,d){var e=c(function(a){if("mouse"!==a.pointerType&&a.MSPOINTER_TYPE_MOUSE&&a.pointerType!==a.MSPOINTER_TYPE_MOUSE){if(!(rc.indexOf(a.target.tagName)<0))return;$(a)}O(a,b)});a["_leaflet_touchstart"+d]=e,a.addEventListener(nc,e,!1),tc||(document.documentElement.addEventListener(nc,K,!0),document.documentElement.addEventListener(oc,M,!0),document.documentElement.addEventListener(pc,N,!0),document.documentElement.addEventListener(qc,N,!0),tc=!0)}function K(a){sc[a.pointerId]=a,uc++}function M(a){sc[a.pointerId]&&(sc[a.pointerId]=a)}function N(a){delete sc[a.pointerId],uc--}function O(a,b){a.touches=[];for(var c in sc)a.touches.push(sc[c]);a.changedTouches=[a],b(a)}function P(a,b,c){var d=function(a){(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType||0!==a.buttons)&&O(a,b)};a["_leaflet_touchmove"+c]=d,a.addEventListener(oc,d,!1)}function Q(a,b,c){var d=function(a){O(a,b)};a["_leaflet_touchend"+c]=d,a.addEventListener(pc,d,!1),a.addEventListener(qc,d,!1)}function R(a,b,c){function d(a){var b;if(ec){if(!Lb||"mouse"===a.pointerType)return;b=uc}else b=a.touches.length;if(!(b>1)){var c=Date.now(),d=c-(f||c);g=a.touches?a.touches[0]:a,h=d>0&&d<=i,f=c}}function e(a){if(h&&!g.cancelBubble){if(ec){if(!Lb||"mouse"===a.pointerType)return;var c,d,e={};for(d in g)c=g[d],e[d]=c&&c.bind?c.bind(g):c;g=e}g.type="dblclick",b(g),f=null}}var f,g,h=!1,i=250;return a[xc+vc+c]=d,a[xc+wc+c]=e,a[xc+"dblclick"+c]=b,a.addEventListener(vc,d,!1),a.addEventListener(wc,e,!1),a.addEventListener("dblclick",b,!1),this}function S(a,b){var c=a[xc+vc+b],d=a[xc+wc+b],e=a[xc+"dblclick"+b];return a.removeEventListener(vc,c,!1),a.removeEventListener(wc,d,!1),Lb||a.removeEventListener("dblclick",e,!1),this}function T(a,b,c,d){if("object"==typeof b)for(var e in b)V(a,e,b[e],c);else{b=j(b);for(var f=0,g=b.length;f<g;f++)V(a,b[f],c,d)}return this}function U(a,b,c,d){if("object"==typeof b)for(var e in b)W(a,e,b[e],c);else if(b){b=j(b);for(var f=0,g=b.length;f<g;f++)W(a,b[f],c,d)}else{for(var h in a[yc])W(a,h,a[yc][h]);delete a[yc]}return this}function V(a,b,c,e){var f=b+d(c)+(e?"_"+d(e):"");if(a[yc]&&a[yc][f])return this;var g=function(b){return c.call(e||a,b||window.event)},h=g;ec&&0===b.indexOf("touch")?H(a,b,g,f):!fc||"dblclick"!==b||!R||ec&&Sb?"addEventListener"in a?"mousewheel"===b?a.addEventListener("onwheel"in a?"wheel":"mousewheel",g,!1):"mouseenter"===b||"mouseleave"===b?(g=function(b){b=b||window.event,ea(a,b)&&h(b)},a.addEventListener("mouseenter"===b?"mouseover":"mouseout",g,!1)):("click"===b&&Nb&&(g=function(a){fa(a,h)}),a.addEventListener(b,g,!1)):"attachEvent"in a&&a.attachEvent("on"+b,g):R(a,g,f),a[yc]=a[yc]||{},a[yc][f]=g}function W(a,b,c,e){var f=b+d(c)+(e?"_"+d(e):""),g=a[yc]&&a[yc][f];if(!g)return this;ec&&0===b.indexOf("touch")?I(a,b,f):!fc||"dblclick"!==b||!S||ec&&Sb?"removeEventListener"in a?"mousewheel"===b?a.removeEventListener("onwheel"in a?"wheel":"mousewheel",g,!1):a.removeEventListener("mouseenter"===b?"mouseover":"mouseleave"===b?"mouseout":b,g,!1):"detachEvent"in a&&a.detachEvent("on"+b,g):S(a,f),a[yc][f]=null}function X(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,da(a),this}function Y(a){return V(a,"mousewheel",X),this}function Z(a){return T(a,"mousedown touchstart dblclick",X),V(a,"click",ca),this}function $(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function _(a){return $(a),X(a),this}function aa(a,b){if(!b)return new u(a.clientX,a.clientY);var c=b.getBoundingClientRect(),d=c.width/b.offsetWidth||1,e=c.height/b.offsetHeight||1;return new u(a.clientX/d-c.left-b.clientLeft,a.clientY/e-c.top-b.clientTop)}function ba(a){return Lb?a.wheelDeltaY/2:a.deltaY&&0===a.deltaMode?-a.deltaY/zc:a.deltaY&&1===a.deltaMode?20*-a.deltaY:a.deltaY&&2===a.deltaMode?60*-a.deltaY:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?20*-a.detail:a.detail?a.detail/-32765*60:0}function ca(a){Ac[a.type]=!0}function da(a){var b=Ac[a.type];return Ac[a.type]=!1,b}function ea(a,b){var c=b.relatedTarget;if(!c)return!0;try{for(;c&&c!==a;)c=c.parentNode}catch(a){return!1}return c!==a}function fa(a,b){var c=a.timeStamp||a.originalEvent&&a.originalEvent.timeStamp,d=Cb&&c-Cb;if(d&&d>100&&d<500||a.target._simulatedClick&&!a._simulated)return void _(a);Cb=c,b(a)}function ga(a){return"string"==typeof a?document.getElementById(a):a}function ha(a,b){var c=a.style[b]||a.currentStyle&&a.currentStyle[b];if((!c||"auto"===c)&&document.defaultView){var d=document.defaultView.getComputedStyle(a,null);c=d?d[b]:null}return"auto"===c?null:c}function ia(a,b,c){var d=document.createElement(a);return d.className=b||"",c&&c.appendChild(d),d}function ja(a){var b=a.parentNode;b&&b.removeChild(a)}function ka(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function la(a){var b=a.parentNode;b.lastChild!==a&&b.appendChild(a)}function ma(a){var b=a.parentNode;b.firstChild!==a&&b.insertBefore(a,b.firstChild)}function na(a,b){if(void 0!==a.classList)return a.classList.contains(b);var c=ra(a);return c.length>0&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(c)}function oa(a,b){if(void 0!==a.classList)for(var c=j(b),d=0,e=c.length;d<e;d++)a.classList.add(c[d]);else if(!na(a,b)){var f=ra(a);qa(a,(f?f+" ":"")+b)}}function pa(a,b){void 0!==a.classList?a.classList.remove(b):qa(a,i((" "+ra(a)+" ").replace(" "+b+" "," ")))}function qa(a,b){void 0===a.className.baseVal?a.className=b:a.className.baseVal=b}function ra(a){return void 0===a.className.baseVal?a.className:a.className.baseVal}function sa(a,b){"opacity"in a.style?a.style.opacity=b:"filter"in a.style&&ta(a,b)}function ta(a,b){var c=!1,d="DXImageTransform.Microsoft.Alpha";try{c=a.filters.item(d)}catch(a){if(1===b)return}b=Math.round(100*b),c?(c.Enabled=100!==b,c.Opacity=b):a.style.filter+=" progid:"+d+"(opacity="+b+")"}function ua(a){for(var b=document.documentElement.style,c=0;c<a.length;c++)if(a[c]in b)return a[c];return!1}function va(a,b,c){var d=b||new u(0,0);a.style[Cc]=(Yb?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(c?" scale("+c+")":"")}function wa(a,b){a._leaflet_pos=b,_b?va(a,b):(a.style.left=b.x+"px",a.style.top=b.y+"px")}function xa(a){return a._leaflet_pos||new u(0,0)}function ya(){T(window,"dragstart",$)}function za(){U(window,"dragstart",$)}function Aa(a){for(;-1===a.tabIndex;)a=a.parentNode;a.style&&(Ba(),Gc=a,Hc=a.style.outline,a.style.outline="none",T(window,"keydown",Ba))}function Ba(){Gc&&(Gc.style.outline=Hc,Gc=void 0,Hc=void 0,U(window,"keydown",Ba))}function Ca(a,b){return new Kc(a,b)}function Da(a,b){if(!b||!a.length)return a.slice();var c=b*b;return a=Ia(a,c),a=Ga(a,c)}function Ea(a,b,c){return Math.sqrt(Na(a,b,c,!0))}function Fa(a,b,c){return Na(a,b,c)}function Ga(a,b){var c=a.length,d=typeof Uint8Array!=void 0+""?Uint8Array:Array,e=new d(c);e[0]=e[c-1]=1,Ha(a,e,b,0,c-1);var f,g=[];for(f=0;f<c;f++)e[f]&&g.push(a[f]);return g}function Ha(a,b,c,d,e){var f,g,h,i=0;for(g=d+1;g<=e-1;g++)(h=Na(a[g],a[d],a[e],!0))>i&&(f=g,i=h);i>c&&(b[f]=1,Ha(a,b,c,d,f),Ha(a,b,c,f,e))}function Ia(a,b){for(var c=[a[0]],d=1,e=0,f=a.length;d<f;d++)Ma(a[d],a[e])>b&&(c.push(a[d]),e=d);return e<f-1&&c.push(a[f-1]),c}function Ja(a,b,c,d,e){var f,g,h,i=d?Wc:La(a,c),j=La(b,c);for(Wc=j;;){if(!(i|j))return[a,b];if(i&j)return!1;f=i||j,g=Ka(a,b,f,c,e),h=La(g,c),f===i?(a=g,i=h):(b=g,j=h)}}function Ka(a,b,c,d,e){var f,g,h=b.x-a.x,i=b.y-a.y,j=d.min,k=d.max;return 8&c?(f=a.x+h*(k.y-a.y)/i,g=k.y):4&c?(f=a.x+h*(j.y-a.y)/i,g=j.y):2&c?(f=k.x,g=a.y+i*(k.x-a.x)/h):1&c&&(f=j.x,g=a.y+i*(j.x-a.x)/h),new u(f,g,e)}function La(a,b){var c=0;return a.x<b.min.x?c|=1:a.x>b.max.x&&(c|=2),a.y<b.min.y?c|=4:a.y>b.max.y&&(c|=8),c}function Ma(a,b){var c=b.x-a.x,d=b.y-a.y;return c*c+d*d}function Na(a,b,c,d){var e,f=b.x,g=b.y,h=c.x-f,i=c.y-g,j=h*h+i*i;return j>0&&(e=((a.x-f)*h+(a.y-g)*i)/j,e>1?(f=c.x,g=c.y):e>0&&(f+=h*e,g+=i*e)),h=a.x-f,i=a.y-g,d?h*h+i*i:new u(f,g)}function Oa(a){return!qb(a[0])||"object"!=typeof a[0][0]&&void 0!==a[0][0]}function Pa(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Oa(a)}function Qa(a,b,c){var d,e,f,g,h,i,j,k,l,m=[1,4,2,8];for(e=0,
j=a.length;e<j;e++)a[e]._code=La(a[e],b);for(g=0;g<4;g++){for(k=m[g],d=[],e=0,j=a.length,f=j-1;e<j;f=e++)h=a[e],i=a[f],h._code&k?i._code&k||(l=Ka(i,h,k,b,c),l._code=La(l,b),d.push(l)):(i._code&k&&(l=Ka(i,h,k,b,c),l._code=La(l,b),d.push(l)),d.push(h));a=d}return a}function Ra(a){return new nd(a)}function Sa(a,b){return new qd(a,b)}function Ta(a,b){return new sd(a,b)}function Ua(a,b,c){return new td(a,b,c)}function Va(a,b){return new ud(a,b)}function Wa(a,b){return new vd(a,b)}function Xa(a,b){var c,d,e,f,g="Feature"===a.type?a.geometry:a,h=g?g.coordinates:null,i=[],j=b&&b.pointToLayer,k=b&&b.coordsToLatLng||Ya;if(!h&&!g)return null;switch(g.type){case"Point":return c=k(h),j?j(a,c):new qd(c);case"MultiPoint":for(e=0,f=h.length;e<f;e++)c=k(h[e]),i.push(j?j(a,c):new qd(c));return new ld(i);case"LineString":case"MultiLineString":return d=Za(h,"LineString"===g.type?0:1,k),new ud(d,b);case"Polygon":case"MultiPolygon":return d=Za(h,"Polygon"===g.type?1:2,k),new vd(d,b);case"GeometryCollection":for(e=0,f=g.geometries.length;e<f;e++){var l=Xa({geometry:g.geometries[e],type:"Feature",properties:a.properties},b);l&&i.push(l)}return new ld(i);default:throw new Error("Invalid GeoJSON object.")}}function Ya(a){return new A(a[1],a[0],a[2])}function Za(a,b,c){for(var d,e=[],f=0,g=a.length;f<g;f++)d=b?Za(a[f],b-1,c):(c||Ya)(a[f]),e.push(d);return e}function $a(a,b){return b="number"==typeof b?b:6,void 0!==a.alt?[h(a.lng,b),h(a.lat,b),h(a.alt,b)]:[h(a.lng,b),h(a.lat,b)]}function _a(a,b,c,d){for(var e=[],f=0,g=a.length;f<g;f++)e.push(b?_a(a[f],b-1,c,d):$a(a[f],d));return!b&&c&&e.push(e[0]),e}function ab(a,c){return a.feature?b({},a.feature,{geometry:c}):bb(c)}function bb(a){return"Feature"===a.type||"FeatureCollection"===a.type?a:{type:"Feature",properties:{},geometry:a}}function cb(a,b){return new wd(a,b)}function db(a,b,c){return new Bd(a,b,c)}function eb(a){return new Hd(a)}function fb(a){return new Id(a)}function gb(a,b){return new Jd(a,b)}function hb(a,b){return new Kd(a,b)}function ib(a){return jc?new Md(a):null}function jb(a){return kc||lc?new Qd(a):null}function kb(a,b){return new Rd(a,b)}function lb(){return window.L=Zd,this}var mb=Object.freeze;Object.freeze=function(a){return a};var nb=Object.create||function(){function a(){}return function(b){return a.prototype=b,new a}}(),ob=0,pb=/\{ *([\w_-]+) *\}/g,qb=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},rb="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",sb=0,tb=window.requestAnimationFrame||o("RequestAnimationFrame")||p,ub=window.cancelAnimationFrame||o("CancelAnimationFrame")||o("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)},vb=(Object.freeze||Object)({freeze:mb,extend:b,create:nb,bind:c,lastId:ob,stamp:d,throttle:e,wrapNum:f,falseFn:g,formatNum:h,trim:i,splitWords:j,setOptions:k,getParamString:l,template:m,isArray:qb,indexOf:n,emptyImageUrl:rb,requestFn:tb,cancelFn:ub,requestAnimFrame:q,cancelAnimFrame:r});s.extend=function(a){var c=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=c.__super__=this.prototype,e=nb(d);e.constructor=c,c.prototype=e;for(var f in this)this.hasOwnProperty(f)&&"prototype"!==f&&"__super__"!==f&&(c[f]=this[f]);return a.statics&&(b(c,a.statics),delete a.statics),a.includes&&(t(a.includes),b.apply(null,[e].concat(a.includes)),delete a.includes),e.options&&(a.options=b(nb(e.options),a.options)),b(e,a),e._initHooks=[],e.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var a=0,b=e._initHooks.length;a<b;a++)e._initHooks[a].call(this)}},c},s.include=function(a){return b(this.prototype,a),this},s.mergeOptions=function(a){return b(this.prototype.options,a),this},s.addInitHook=function(a){var b=Array.prototype.slice.call(arguments,1),c="function"==typeof a?a:function(){this[a].apply(this,b)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};var wb={on:function(a,b,c){if("object"==typeof a)for(var d in a)this._on(d,a[d],b);else{a=j(a);for(var e=0,f=a.length;e<f;e++)this._on(a[e],b,c)}return this},off:function(a,b,c){if(a)if("object"==typeof a)for(var d in a)this._off(d,a[d],b);else{a=j(a);for(var e=0,f=a.length;e<f;e++)this._off(a[e],b,c)}else delete this._events;return this},_on:function(a,b,c){this._events=this._events||{};var d=this._events[a];d||(d=[],this._events[a]=d),c===this&&(c=void 0);for(var e={fn:b,ctx:c},f=d,g=0,h=f.length;g<h;g++)if(f[g].fn===b&&f[g].ctx===c)return;f.push(e)},_off:function(a,b,c){var d,e,f;if(this._events&&(d=this._events[a])){if(!b){for(e=0,f=d.length;e<f;e++)d[e].fn=g;return void delete this._events[a]}if(c===this&&(c=void 0),d)for(e=0,f=d.length;e<f;e++){var h=d[e];if(h.ctx===c&&h.fn===b)return h.fn=g,this._firingCount&&(this._events[a]=d=d.slice()),void d.splice(e,1)}}},fire:function(a,c,d){if(!this.listens(a,d))return this;var e=b({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var f=this._events[a];if(f){this._firingCount=this._firingCount+1||1;for(var g=0,h=f.length;g<h;g++){var i=f[g];i.fn.call(i.ctx||this,e)}this._firingCount--}}return d&&this._propagateEvent(e),this},listens:function(a,b){var c=this._events&&this._events[a];if(c&&c.length)return!0;if(b)for(var d in this._eventParents)if(this._eventParents[d].listens(a,b))return!0;return!1},once:function(a,b,d){if("object"==typeof a){for(var e in a)this.once(e,a[e],b);return this}var f=c(function(){this.off(a,b,d).off(a,f,d)},this);return this.on(a,b,d).on(a,f,d)},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[d(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[d(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,b({layer:a.target,propagatedFrom:a.target},a),!0)}};wb.addEventListener=wb.on,wb.removeEventListener=wb.clearAllEventListeners=wb.off,wb.addOneTimeEventListener=wb.once,wb.fireEvent=wb.fire,wb.hasEventListeners=wb.listens;var xb=s.extend(wb),yb=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};u.prototype={clone:function(){return new u(this.x,this.y)},add:function(a){return this.clone()._add(v(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(v(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new u(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new u(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=yb(this.x),this.y=yb(this.y),this},distanceTo:function(a){a=v(a);var b=a.x-this.x,c=a.y-this.y;return Math.sqrt(b*b+c*c)},equals:function(a){return a=v(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=v(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+h(this.x)+", "+h(this.y)+")"}},w.prototype={extend:function(a){return a=v(a),this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)):(this.min=a.clone(),this.max=a.clone()),this},getCenter:function(a){return new u((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new u(this.min.x,this.max.y)},getTopRight:function(){return new u(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var b,c;return a="number"==typeof a[0]||a instanceof u?v(a):x(a),a instanceof w?(b=a.min,c=a.max):b=c=a,b.x>=this.min.x&&c.x<=this.max.x&&b.y>=this.min.y&&c.y<=this.max.y},intersects:function(a){a=x(a);var b=this.min,c=this.max,d=a.min,e=a.max,f=e.x>=b.x&&d.x<=c.x,g=e.y>=b.y&&d.y<=c.y;return f&&g},overlaps:function(a){a=x(a);var b=this.min,c=this.max,d=a.min,e=a.max,f=e.x>b.x&&d.x<c.x,g=e.y>b.y&&d.y<c.y;return f&&g},isValid:function(){return!(!this.min||!this.max)}},y.prototype={extend:function(a){var b,c,d=this._southWest,e=this._northEast;if(a instanceof A)b=a,c=a;else{if(!(a instanceof y))return a?this.extend(B(a)||z(a)):this;if(b=a._southWest,c=a._northEast,!b||!c)return this}return d||e?(d.lat=Math.min(b.lat,d.lat),d.lng=Math.min(b.lng,d.lng),e.lat=Math.max(c.lat,e.lat),e.lng=Math.max(c.lng,e.lng)):(this._southWest=new A(b.lat,b.lng),this._northEast=new A(c.lat,c.lng)),this},pad:function(a){var b=this._southWest,c=this._northEast,d=Math.abs(b.lat-c.lat)*a,e=Math.abs(b.lng-c.lng)*a;return new y(new A(b.lat-d,b.lng-e),new A(c.lat+d,c.lng+e))},getCenter:function(){return new A((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new A(this.getNorth(),this.getWest())},getSouthEast:function(){return new A(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){a="number"==typeof a[0]||a instanceof A||"lat"in a?B(a):z(a);var b,c,d=this._southWest,e=this._northEast;return a instanceof y?(b=a.getSouthWest(),c=a.getNorthEast()):b=c=a,b.lat>=d.lat&&c.lat<=e.lat&&b.lng>=d.lng&&c.lng<=e.lng},intersects:function(a){a=z(a);var b=this._southWest,c=this._northEast,d=a.getSouthWest(),e=a.getNorthEast(),f=e.lat>=b.lat&&d.lat<=c.lat,g=e.lng>=b.lng&&d.lng<=c.lng;return f&&g},overlaps:function(a){a=z(a);var b=this._southWest,c=this._northEast,d=a.getSouthWest(),e=a.getNorthEast(),f=e.lat>b.lat&&d.lat<c.lat,g=e.lng>b.lng&&d.lng<c.lng;return f&&g},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,b){return!!a&&(a=z(a),this._southWest.equals(a.getSouthWest(),b)&&this._northEast.equals(a.getNorthEast(),b))},isValid:function(){return!(!this._southWest||!this._northEast)}},A.prototype={equals:function(a,b){return!!a&&(a=B(a),Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng))<=(void 0===b?1e-9:b))},toString:function(a){return"LatLng("+h(this.lat,a)+", "+h(this.lng,a)+")"},distanceTo:function(a){return Ab.distance(this,B(a))},wrap:function(){return Ab.wrapLatLng(this)},toBounds:function(a){var b=180*a/40075017,c=b/Math.cos(Math.PI/180*this.lat);return z([this.lat-b,this.lng-c],[this.lat+b,this.lng+c])},clone:function(){return new A(this.lat,this.lng,this.alt)}};var zb={latLngToPoint:function(a,b){var c=this.projection.project(a),d=this.scale(b);return this.transformation._transform(c,d)},pointToLatLng:function(a,b){var c=this.scale(b),d=this.transformation.untransform(a,c);return this.projection.unproject(d)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var b=this.projection.bounds,c=this.scale(a);return new w(this.transformation.transform(b.min,c),this.transformation.transform(b.max,c))},infinite:!1,wrapLatLng:function(a){var b=this.wrapLng?f(a.lng,this.wrapLng,!0):a.lng;return new A(this.wrapLat?f(a.lat,this.wrapLat,!0):a.lat,b,a.alt)},wrapLatLngBounds:function(a){var b=a.getCenter(),c=this.wrapLatLng(b),d=b.lat-c.lat,e=b.lng-c.lng;if(0===d&&0===e)return a;var f=a.getSouthWest(),g=a.getNorthEast();return new y(new A(f.lat-d,f.lng-e),new A(g.lat-d,g.lng-e))}},Ab=b({},zb,{wrapLng:[-180,180],R:6371e3,distance:function(a,b){var c=Math.PI/180,d=a.lat*c,e=b.lat*c,f=Math.sin((b.lat-a.lat)*c/2),g=Math.sin((b.lng-a.lng)*c/2),h=f*f+Math.cos(d)*Math.cos(e)*g*g,i=2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h));return this.R*i}}),Bb={R:6378137,MAX_LATITUDE:85.0511287798,project:function(a){var b=Math.PI/180,c=this.MAX_LATITUDE,d=Math.max(Math.min(c,a.lat),-c),e=Math.sin(d*b);return new u(this.R*a.lng*b,this.R*Math.log((1+e)/(1-e))/2)},unproject:function(a){var b=180/Math.PI;return new A((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*b,a.x*b/this.R)},bounds:function(){var a=6378137*Math.PI;return new w([-a,-a],[a,a])}()};C.prototype={transform:function(a,b){return this._transform(a.clone(),b)},_transform:function(a,b){return b=b||1,a.x=b*(this._a*a.x+this._b),a.y=b*(this._c*a.y+this._d),a},untransform:function(a,b){return b=b||1,new u((a.x/b-this._b)/this._a,(a.y/b-this._d)/this._c)}};var Cb,Db,Eb,Fb,Gb=b({},Ab,{code:"EPSG:3857",projection:Bb,transformation:function(){var a=.5/(Math.PI*Bb.R);return D(a,.5,-a,.5)}()}),Hb=b({},Gb,{code:"EPSG:900913"}),Ib=document.documentElement.style,Jb="ActiveXObject"in window,Kb=Jb&&!document.addEventListener,Lb="msLaunchUri"in navigator&&!("documentMode"in document),Mb=G("webkit"),Nb=G("android"),Ob=G("android 2")||G("android 3"),Pb=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Qb=Nb&&G("Google")&&Pb<537&&!("AudioNode"in window),Rb=!!window.opera,Sb=G("chrome"),Tb=G("gecko")&&!Mb&&!Rb&&!Jb,Ub=!Sb&&G("safari"),Vb=G("phantom"),Wb="OTransition"in Ib,Xb=0===navigator.platform.indexOf("Win"),Yb=Jb&&"transition"in Ib,Zb="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ob,$b="MozPerspective"in Ib,_b=!window.L_DISABLE_3D&&(Yb||Zb||$b)&&!Wb&&!Vb,ac="undefined"!=typeof orientation||G("mobile"),bc=ac&&Mb,cc=ac&&Zb,dc=!window.PointerEvent&&window.MSPointerEvent,ec=!(!window.PointerEvent&&!dc),fc=!window.L_NO_TOUCH&&(ec||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),gc=ac&&Rb,hc=ac&&Tb,ic=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,jc=function(){return!!document.createElement("canvas").getContext}(),kc=!(!document.createElementNS||!E("svg").createSVGRect),lc=!kc&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var b=a.firstChild;return b.style.behavior="url(#default#VML)",b&&"object"==typeof b.adj}catch(a){return!1}}(),mc=(Object.freeze||Object)({ie:Jb,ielt9:Kb,edge:Lb,webkit:Mb,android:Nb,android23:Ob,androidStock:Qb,opera:Rb,chrome:Sb,gecko:Tb,safari:Ub,phantom:Vb,opera12:Wb,win:Xb,ie3d:Yb,webkit3d:Zb,gecko3d:$b,any3d:_b,mobile:ac,mobileWebkit:bc,mobileWebkit3d:cc,msPointer:dc,pointer:ec,touch:fc,mobileOpera:gc,mobileGecko:hc,retina:ic,canvas:jc,svg:kc,vml:lc}),nc=dc?"MSPointerDown":"pointerdown",oc=dc?"MSPointerMove":"pointermove",pc=dc?"MSPointerUp":"pointerup",qc=dc?"MSPointerCancel":"pointercancel",rc=["INPUT","SELECT","OPTION"],sc={},tc=!1,uc=0,vc=dc?"MSPointerDown":ec?"pointerdown":"touchstart",wc=dc?"MSPointerUp":ec?"pointerup":"touchend",xc="_leaflet_",yc="_leaflet_events",zc=Xb&&Sb?2*window.devicePixelRatio:Tb?window.devicePixelRatio:1,Ac={},Bc=(Object.freeze||Object)({on:T,off:U,stopPropagation:X,disableScrollPropagation:Y,disableClickPropagation:Z,preventDefault:$,stop:_,getMousePosition:aa,getWheelDelta:ba,fakeStop:ca,skipped:da,isExternalTarget:ea,addListener:T,removeListener:U}),Cc=ua(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),Dc=ua(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ec="webkitTransition"===Dc||"OTransition"===Dc?Dc+"End":"transitionend";if("onselectstart"in document)Db=function(){T(window,"selectstart",$)},Eb=function(){U(window,"selectstart",$)};else{var Fc=ua(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Db=function(){if(Fc){var a=document.documentElement.style;Fb=a[Fc],a[Fc]="none"}},Eb=function(){Fc&&(document.documentElement.style[Fc]=Fb,Fb=void 0)}}var Gc,Hc,Ic=(Object.freeze||Object)({TRANSFORM:Cc,TRANSITION:Dc,TRANSITION_END:Ec,get:ga,getStyle:ha,create:ia,remove:ja,empty:ka,toFront:la,toBack:ma,hasClass:na,addClass:oa,removeClass:pa,setClass:qa,getClass:ra,setOpacity:sa,testProp:ua,setTransform:va,setPosition:wa,getPosition:xa,disableTextSelection:Db,enableTextSelection:Eb,disableImageDrag:ya,enableImageDrag:za,preventOutline:Aa,restoreOutline:Ba}),Jc=xb.extend({run:function(a,b,c,d){this.stop(),this._el=a,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=xa(a),this._offset=b.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=q(this._animate,this),this._step()},_step:function(a){var b=+new Date-this._startTime,c=1e3*this._duration;b<c?this._runFrame(this._easeOut(b/c),a):(this._runFrame(1),this._complete())},_runFrame:function(a,b){var c=this._startPos.add(this._offset.multiplyBy(a));b&&c._round(),wa(this._el,c),this.fire("step")},_complete:function(){r(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Kc=xb.extend({options:{crs:Gb,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,b){b=k(this,b),this._initContainer(a),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),b.maxBounds&&this.setMaxBounds(b.maxBounds),void 0!==b.zoom&&(this._zoom=this._limitZoom(b.zoom)),b.center&&void 0!==b.zoom&&this.setView(B(b.center),b.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=Dc&&_b&&!gc&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),T(this._proxy,Ec,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,d){if(c=void 0===c?this._zoom:this._limitZoom(c),a=this._limitCenter(B(a),c,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&!0!==d){void 0!==d.animate&&(d.zoom=b({animate:d.animate},d.zoom),d.pan=b({animate:d.animate,duration:d.duration},d.pan));if(this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,d.zoom):this._tryAnimatedPan(a,d.pan))return clearTimeout(this._sizeTimer),this}return this._resetView(a,c),this},setZoom:function(a,b){return this._loaded?this.setView(this.getCenter(),a,{zoom:b}):(this._zoom=a,this)},zoomIn:function(a,b){return a=a||(_b?this.options.zoomDelta:1),this.setZoom(this._zoom+a,b)},zoomOut:function(a,b){return a=a||(_b?this.options.zoomDelta:1),this.setZoom(this._zoom-a,b)},setZoomAround:function(a,b,c){var d=this.getZoomScale(b),e=this.getSize().divideBy(2),f=a instanceof u?a:this.latLngToContainerPoint(a),g=f.subtract(e).multiplyBy(1-1/d),h=this.containerPointToLatLng(e.add(g));return this.setView(h,b,{zoom:c})},_getBoundsCenterZoom:function(a,b){b=b||{},a=a.getBounds?a.getBounds():z(a);var c=v(b.paddingTopLeft||b.padding||[0,0]),d=v(b.paddingBottomRight||b.padding||[0,0]),e=this.getBoundsZoom(a,!1,c.add(d));if((e="number"==typeof b.maxZoom?Math.min(b.maxZoom,e):e)===1/0)return{center:a.getCenter(),zoom:e};var f=d.subtract(c).divideBy(2),g=this.project(a.getSouthWest(),e),h=this.project(a.getNorthEast(),e);return{center:this.unproject(g.add(h).divideBy(2).add(f),e),zoom:e}},fitBounds:function(a,b){if(a=z(a),!a.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(a,b);return this.setView(c.center,c.zoom,b)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,b){return this.setView(a,this._zoom,{pan:b})},panBy:function(a,b){if(a=v(a).round(),b=b||{},!a.x&&!a.y)return this.fire("moveend");if(!0!==b.animate&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Jc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),!1!==b.animate){oa(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,c,b.duration||.25,b.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,b,c){function d(a){var b=a?-1:1,c=a?r:p,d=r*r-p*p+b*u*u*s*s,e=2*c*u*s,f=d/e,g=Math.sqrt(f*f+1)-f;return g<1e-9?-18:Math.log(g)}function e(a){return(Math.exp(a)-Math.exp(-a))/2}function f(a){return(Math.exp(a)+Math.exp(-a))/2}function g(a){return e(a)/f(a)}function h(a){return p*(f(v)/f(v+t*a))}function i(a){return p*(f(v)*g(v+t*a)-e(v))/u}function j(a){return 1-Math.pow(1-a,1.5)}function k(){var c=(Date.now()-w)/y,d=j(c)*x;c<=1?(this._flyToFrame=q(k,this),this._move(this.unproject(l.add(m.subtract(l).multiplyBy(i(d)/s)),o),this.getScaleZoom(p/h(d),o),{flyTo:!0})):this._move(a,b)._moveEnd(!0)}if(c=c||{},!1===c.animate||!_b)return this.setView(a,b,c);this._stop();var l=this.project(this.getCenter()),m=this.project(a),n=this.getSize(),o=this._zoom;a=B(a),b=void 0===b?o:b;var p=Math.max(n.x,n.y),r=p*this.getZoomScale(o,b),s=m.distanceTo(l)||1,t=1.42,u=t*t,v=d(0),w=Date.now(),x=(d(1)-v)/t,y=c.duration?1e3*c.duration:1e3*x*.8;return this._moveStart(!0,c.noMoveStart),k.call(this),this},flyToBounds:function(a,b){var c=this._getBoundsCenterZoom(a,b);return this.flyTo(c.center,c.zoom,b)},setMaxBounds:function(a){return a=z(a),a.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(a){var b=this.options.minZoom;return this.options.minZoom=a,this._loaded&&b!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var b=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&b!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,b){this._enforcingBounds=!0;var c=this.getCenter(),d=this._limitCenter(c,this._zoom,z(a));return c.equals(d)||this.panTo(d,b),this._enforcingBounds=!1,this},invalidateSize:function(a){if(!this._loaded)return this;a=b({animate:!1,pan:!0},!0===a?{animate:!0}:a);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var e=this.getSize(),f=d.divideBy(2).round(),g=e.divideBy(2).round(),h=f.subtract(g);return h.x||h.y?(a.animate&&a.pan?this.panBy(h):(a.pan&&this._rawPanBy(h),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:e})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=b({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=c(this._handleGeolocationResponse,this),e=c(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,e,a):navigator.geolocation.getCurrentPosition(d,e,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){var b=a.code,c=a.message||(1===b?"permission denied":2===b?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:b,message:"Geolocation error: "+c+"."})},_handleGeolocationResponse:function(a){var b=a.coords.latitude,c=a.coords.longitude,d=new A(b,c),e=d.toBounds(a.coords.accuracy),f=this._locateOptions;if(f.setView){var g=this.getBoundsZoom(e);this.setView(d,f.maxZoom?Math.min(g,f.maxZoom):g)}var h={latlng:d,bounds:e,timestamp:a.timestamp};for(var i in a.coords)"number"==typeof a.coords[i]&&(h[i]=a.coords[i]);this.fire("locationfound",h)},addHandler:function(a,b){if(!b)return this;var c=this[a]=new b(this);return this._handlers.push(c),this.options[a]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(a){this._container._leaflet_id=void 0,this._containerId=void 0}void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ja(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)ja(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,b){var c="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),d=ia("div",c,b||this._mapPane);return a&&(this._panes[a]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds();return new y(this.unproject(a.getBottomLeft()),this.unproject(a.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,b,c){a=z(a),c=v(c||[0,0]);var d=this.getZoom()||0,e=this.getMinZoom(),f=this.getMaxZoom(),g=a.getNorthWest(),h=a.getSouthEast(),i=this.getSize().subtract(c),j=x(this.project(h,d),this.project(g,d)).getSize(),k=_b?this.options.zoomSnap:1,l=i.x/j.x,m=i.y/j.y,n=b?Math.max(l,m):Math.min(l,m);return d=this.getScaleZoom(n,d),k&&(d=Math.round(d/(k/100))*(k/100),d=b?Math.ceil(d/k)*k:Math.floor(d/k)*k),Math.max(e,Math.min(f,d))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new u(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,b){var c=this._getTopLeftPoint(a,b);return new w(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(void 0===a?this.getZoom():a)},getPane:function(a){return"string"==typeof a?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,b){var c=this.options.crs;return b=void 0===b?this._zoom:b,c.scale(a)/c.scale(b)},getScaleZoom:function(a,b){var c=this.options.crs;b=void 0===b?this._zoom:b;var d=c.zoom(a*c.scale(b));return isNaN(d)?1/0:d},project:function(a,b){return b=void 0===b?this._zoom:b,this.options.crs.latLngToPoint(B(a),b)},unproject:function(a,b){return b=void 0===b?this._zoom:b,this.options.crs.pointToLatLng(v(a),b)},layerPointToLatLng:function(a){var b=v(a).add(this.getPixelOrigin());return this.unproject(b)},latLngToLayerPoint:function(a){return this.project(B(a))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(B(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(z(a))},distance:function(a,b){return this.options.crs.distance(B(a),B(b))},containerPointToLayerPoint:function(a){return v(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return v(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var b=this.containerPointToLayerPoint(v(a));return this.layerPointToLatLng(b)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(B(a)))},mouseEventToContainerPoint:function(a){return aa(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var b=this._container=ga(a);if(!b)throw new Error("Map container not found.");if(b._leaflet_id)throw new Error("Map container is already initialized.");T(b,"scroll",this._onScroll,this),this._containerId=d(b)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&_b,oa(a,"leaflet-container"+(fc?" leaflet-touch":"")+(ic?" leaflet-retina":"")+(Kb?" leaflet-oldie":"")+(Ub?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var b=ha(a,"position");"absolute"!==b&&"relative"!==b&&"fixed"!==b&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),wa(this._mapPane,new u(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(oa(a.markerPane,"leaflet-zoom-hide"),oa(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,b){wa(this._mapPane,new u(0,0));var c=!this._loaded;this._loaded=!0,b=this._limitZoom(b),this.fire("viewprereset");var d=this._zoom!==b;this._moveStart(d,!1)._move(a,b)._moveEnd(d),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(a,b){return a&&this.fire("zoomstart"),b||this.fire("movestart"),this},_move:function(a,b,c){void 0===b&&(b=this._zoom);var d=this._zoom!==b;return this._zoom=b,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),(d||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return r(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){wa(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[d(this._container)]=this;var b=a?U:T;b(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&b(window,"resize",this._onResize,this),_b&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){r(this._resizeRequest),this._resizeRequest=q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,b){for(var c,e=[],f="mouseout"===b||"mouseover"===b,g=a.target||a.srcElement,h=!1;g;){if((c=this._targets[d(g)])&&("click"===b||"preclick"===b)&&!a._simulated&&this._draggableMoved(c)){h=!0;break}if(c&&c.listens(b,!0)){if(f&&!ea(g,a))break
;if(e.push(c),f)break}if(g===this._container)break;g=g.parentNode}return e.length||h||f||!ea(g,a)||(e=[this]),e},_handleDOMEvent:function(a){if(this._loaded&&!da(a)){var b=a.type;"mousedown"!==b&&"keypress"!==b||Aa(a.target||a.srcElement),this._fireDOMEvent(a,b)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,d){if("click"===a.type){var e=b({},a);e.type="preclick",this._fireDOMEvent(e,e.type,d)}if(!a._stopped&&(d=(d||[]).concat(this._findEventTargets(a,c)),d.length)){var f=d[0];"contextmenu"===c&&f.listens(c,!0)&&$(a);var g={originalEvent:a};if("keypress"!==a.type){var h=f.getLatLng&&(!f._radius||f._radius<=10);g.containerPoint=h?this.latLngToContainerPoint(f.getLatLng()):this.mouseEventToContainerPoint(a),g.layerPoint=this.containerPointToLayerPoint(g.containerPoint),g.latlng=h?f.getLatLng():this.layerPointToLatLng(g.layerPoint)}for(var i=0;i<d.length;i++)if(d[i].fire(c,g,!0),g.originalEvent._stopped||!1===d[i].options.bubblingMouseEvents&&-1!==n(this._mouseEvents,c))return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,b=this._handlers.length;a<b;a++)this._handlers[a].disable()},whenReady:function(a,b){return this._loaded?a.call(b||this,{target:this}):this.on("load",a,b),this},_getMapPanePos:function(){return xa(this._mapPane)||new u(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,b){return(a&&void 0!==b?this._getNewPixelOrigin(a,b):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,b){var c=this.getSize()._divideBy(2);return this.project(a,b)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,b,c){var d=this._getNewPixelOrigin(c,b);return this.project(a,b)._subtract(d)},_latLngBoundsToNewLayerBounds:function(a,b,c){var d=this._getNewPixelOrigin(c,b);return x([this.project(a.getSouthWest(),b)._subtract(d),this.project(a.getNorthWest(),b)._subtract(d),this.project(a.getSouthEast(),b)._subtract(d),this.project(a.getNorthEast(),b)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,b,c){if(!c)return a;var d=this.project(a,b),e=this.getSize().divideBy(2),f=new w(d.subtract(e),d.add(e)),g=this._getBoundsOffset(f,c,b);return g.round().equals([0,0])?a:this.unproject(d.add(g),b)},_limitOffset:function(a,b){if(!b)return a;var c=this.getPixelBounds(),d=new w(c.min.add(a),c.max.add(a));return a.add(this._getBoundsOffset(d,b))},_getBoundsOffset:function(a,b,c){var d=x(this.project(b.getNorthEast(),c),this.project(b.getSouthWest(),c)),e=d.min.subtract(a.min),f=d.max.subtract(a.max);return new u(this._rebound(e.x,-f.x),this._rebound(e.y,-f.y))},_rebound:function(a,b){return a+b>0?Math.round(a-b)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(b))},_limitZoom:function(a){var b=this.getMinZoom(),c=this.getMaxZoom(),d=_b?this.options.zoomSnap:1;return d&&(a=Math.round(a/d)*d),Math.max(b,Math.min(c,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){pa(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,b){var c=this._getCenterOffset(a)._trunc();return!(!0!==(b&&b.animate)&&!this.getSize().contains(c))&&(this.panBy(c,b),!0)},_createAnimProxy:function(){var a=this._proxy=ia("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(a){var b=Cc,c=this._proxy.style[b];va(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),c===this._proxy.style[b]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var a=this.getCenter(),b=this.getZoom();va(this._proxy,this.project(a,b),this.getZoomScale(b,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ja(this._proxy),delete this._proxy},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,b,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||!1===c.animate||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(b),e=this._getCenterOffset(a)._divideBy(1-1/d);return!(!0!==c.animate&&!this.getSize().contains(e))&&(q(function(){this._moveStart(!0,!1)._animateZoom(a,b,!0)},this),!0)},_animateZoom:function(a,b,d,e){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=b,oa(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:b,noUpdate:e}),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&pa(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),q(function(){this._moveEnd(!0)},this))}}),Lc=s.extend({options:{position:"topright"},initialize:function(a){k(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var b=this._map;return b&&b.removeControl(this),this.options.position=a,b&&b.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var b=this._container=this.onAdd(a),c=this.getPosition(),d=a._controlCorners[c];return oa(b,"leaflet-control"),-1!==c.indexOf("bottom")?d.insertBefore(b,d.firstChild):d.appendChild(b),this},remove:function(){return this._map?(ja(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Mc=function(a){return new Lc(a)};Kc.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){function a(a,e){var f=c+a+" "+c+e;b[a+e]=ia("div",f,d)}var b=this._controlCorners={},c="leaflet-",d=this._controlContainer=ia("div",c+"control-container",this._container);a("top","left"),a("top","right"),a("bottom","left"),a("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)ja(this._controlCorners[a]);ja(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Nc=Lc.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,b,c,d){return c<d?-1:d<c?1:0}},initialize:function(a,b,c){k(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var d in a)this._addLayer(a[d],d);for(d in b)this._addLayer(b[d],d,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var b=0;b<this._layers.length;b++)this._layers[b].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Lc.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,b){return this._addLayer(a,b),this._map?this._update():this},addOverlay:function(a,b){return this._addLayer(a,b,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var b=this._getLayer(d(a));return b&&this._layers.splice(this._layers.indexOf(b),1),this._map?this._update():this},expand:function(){oa(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._form.clientHeight?(oa(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=a+"px"):pa(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return pa(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",b=this._container=ia("div",a),c=this.options.collapsed;b.setAttribute("aria-haspopup",!0),Z(b),Y(b);var d=this._form=ia("form",a+"-list");c&&(this._map.on("click",this.collapse,this),Nb||T(b,{mouseenter:this.expand,mouseleave:this.collapse},this));var e=this._layersLink=ia("a",a+"-toggle",b);e.href="#",e.title="Layers",fc?(T(e,"click",_),T(e,"click",this.expand,this)):T(e,"focus",this.expand,this),c||this.expand(),this._baseLayersList=ia("div",a+"-base",d),this._separator=ia("div",a+"-separator",d),this._overlaysList=ia("div",a+"-overlays",d),b.appendChild(d)},_getLayer:function(a){for(var b=0;b<this._layers.length;b++)if(this._layers[b]&&d(this._layers[b].layer)===a)return this._layers[b]},_addLayer:function(a,b,d){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:b,overlay:d}),this.options.sortLayers&&this._layers.sort(c(function(a,b){return this.options.sortFunction(a.layer,b.layer,a.name,b.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ka(this._baseLayersList),ka(this._overlaysList),this._layerControlInputs=[];var a,b,c,d,e=0;for(c=0;c<this._layers.length;c++)d=this._layers[c],this._addItem(d),b=b||d.overlay,a=a||!d.overlay,e+=d.overlay?0:1;return this.options.hideSingleBase&&(a=a&&e>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=b&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var b=this._getLayer(d(a.target)),c=b.overlay?"add"===a.type?"overlayadd":"overlayremove":"add"===a.type?"baselayerchange":null;c&&this._map.fire(c,b)},_createRadioElement:function(a,b){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(b?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=c,d.firstChild},_addItem:function(a){var b,c=document.createElement("label"),e=this._map.hasLayer(a.layer);a.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=e):b=this._createRadioElement("leaflet-base-layers",e),this._layerControlInputs.push(b),b.layerId=d(a.layer),T(b,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+a.name;var g=document.createElement("div");return c.appendChild(g),g.appendChild(b),g.appendChild(f),(a.overlay?this._overlaysList:this._baseLayersList).appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){var a,b,c=this._layerControlInputs,d=[],e=[];this._handlingClick=!0;for(var f=c.length-1;f>=0;f--)a=c[f],b=this._getLayer(a.layerId).layer,a.checked?d.push(b):a.checked||e.push(b);for(f=0;f<e.length;f++)this._map.hasLayer(e[f])&&this._map.removeLayer(e[f]);for(f=0;f<d.length;f++)this._map.hasLayer(d[f])||this._map.addLayer(d[f]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var a,b,c=this._layerControlInputs,d=this._map.getZoom(),e=c.length-1;e>=0;e--)a=c[e],b=this._getLayer(a.layerId).layer,a.disabled=void 0!==b.options.minZoom&&d<b.options.minZoom||void 0!==b.options.maxZoom&&d>b.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Oc=function(a,b,c){return new Nc(a,b,c)},Pc=Lc.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(a){var b="leaflet-control-zoom",c=ia("div",b+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,b+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,b+"-out",c,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,b,c,d,e){var f=ia("a",c,d);return f.innerHTML=a,f.href="#",f.title=b,f.setAttribute("role","button"),f.setAttribute("aria-label",b),Z(f),T(f,"click",_),T(f,"click",e,this),T(f,"click",this._refocusOnMap,this),f},_updateDisabled:function(){var a=this._map,b="leaflet-disabled";pa(this._zoomInButton,b),pa(this._zoomOutButton,b),(this._disabled||a._zoom===a.getMinZoom())&&oa(this._zoomOutButton,b),(this._disabled||a._zoom===a.getMaxZoom())&&oa(this._zoomInButton,b)}});Kc.mergeOptions({zoomControl:!0}),Kc.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Pc,this.addControl(this.zoomControl))});var Qc=function(a){return new Pc(a)},Rc=Lc.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var b=ia("div","leaflet-control-scale"),c=this.options;return this._addScales(c,"leaflet-control-scale-line",b),a.on(c.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),b},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,b,c){a.metric&&(this._mScale=ia("div",b,c)),a.imperial&&(this._iScale=ia("div",b,c))},_update:function(){var a=this._map,b=a.getSize().y/2,c=a.distance(a.containerPointToLatLng([0,b]),a.containerPointToLatLng([this.options.maxWidth,b]));this._updateScales(c)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var b=this._getRoundNum(a),c=b<1e3?b+" m":b/1e3+" km";this._updateScale(this._mScale,c,b/a)},_updateImperial:function(a){var b,c,d,e=3.2808399*a;e>5280?(b=e/5280,c=this._getRoundNum(b),this._updateScale(this._iScale,c+" mi",c/b)):(d=this._getRoundNum(e),this._updateScale(this._iScale,d+" ft",d/e))},_updateScale:function(a,b,c){a.style.width=Math.round(this.options.maxWidth*c)+"px",a.innerHTML=b},_getRoundNum:function(a){var b=Math.pow(10,(Math.floor(a)+"").length-1),c=a/b;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,b*c}}),Sc=function(a){return new Rc(a)},Tc=Lc.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(a){k(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=ia("div","leaflet-control-attribution"),Z(this._container);for(var b in a._layers)a._layers[b].getAttribution&&this.addAttribution(a._layers[b].getAttribution());return this._update(),this._container},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var b in this._attributions)this._attributions[b]&&a.push(b);var c=[];this.options.prefix&&c.push(this.options.prefix),a.length&&c.push(a.join(", ")),this._container.innerHTML=c.join(" | ")}}});Kc.mergeOptions({attributionControl:!0}),Kc.addInitHook(function(){this.options.attributionControl&&(new Tc).addTo(this)});var Uc=function(a){return new Tc(a)};Lc.Layers=Nc,Lc.Zoom=Pc,Lc.Scale=Rc,Lc.Attribution=Tc,Mc.layers=Oc,Mc.zoom=Qc,Mc.scale=Sc,Mc.attribution=Uc;var Vc=s.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Vc.addTo=function(a,b){return a.addHandler(b,this),this};var Wc,Xc={Events:wb},Yc=fc?"touchstart mousedown":"mousedown",Zc={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},$c={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},_c=xb.extend({options:{clickTolerance:3},initialize:function(a,b,c,d){k(this,d),this._element=a,this._dragStartTarget=b||a,this._preventOutline=c},enable:function(){this._enabled||(T(this._dragStartTarget,Yc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(_c._dragging===this&&this.finishDrag(),U(this._dragStartTarget,Yc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(!a._simulated&&this._enabled&&(this._moved=!1,!na(this._element,"leaflet-zoom-anim")&&!(_c._dragging||a.shiftKey||1!==a.which&&1!==a.button&&!a.touches||(_c._dragging=this,this._preventOutline&&Aa(this._element),ya(),Db(),this._moving)))){this.fire("down");var b=a.touches?a.touches[0]:a;this._startPoint=new u(b.clientX,b.clientY),T(document,$c[a.type],this._onMove,this),T(document,Zc[a.type],this._onUp,this)}},_onMove:function(a){if(!a._simulated&&this._enabled){if(a.touches&&a.touches.length>1)return void(this._moved=!0);var b=a.touches&&1===a.touches.length?a.touches[0]:a,c=new u(b.clientX,b.clientY),d=c.subtract(this._startPoint);(d.x||d.y)&&(Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||($(a),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=xa(this._element).subtract(d),oa(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),oa(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,r(this._animRequest),this._lastEvent=a,this._animRequest=q(this._updatePosition,this,!0)))}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),wa(this._element,this._newPos),this.fire("drag",a)},_onUp:function(a){!a._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){pa(document.body,"leaflet-dragging"),this._lastTarget&&(pa(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var a in $c)U(document,$c[a],this._onMove,this),U(document,Zc[a],this._onUp,this);za(),Eb(),this._moved&&this._moving&&(r(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,_c._dragging=!1}}),ad=(Object.freeze||Object)({simplify:Da,pointToSegmentDistance:Ea,closestPointOnSegment:Fa,clipSegment:Ja,_getEdgeIntersection:Ka,_getBitCode:La,_sqClosestPointOnSegment:Na,isFlat:Oa,_flat:Pa}),bd=(Object.freeze||Object)({clipPolygon:Qa}),cd={project:function(a){return new u(a.lng,a.lat)},unproject:function(a){return new A(a.y,a.x)},bounds:new w([-180,-90],[180,90])},dd={R:6378137,R_MINOR:6356752.314245179,bounds:new w([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(a){var b=Math.PI/180,c=this.R,d=a.lat*b,e=this.R_MINOR/c,f=Math.sqrt(1-e*e),g=f*Math.sin(d),h=Math.tan(Math.PI/4-d/2)/Math.pow((1-g)/(1+g),f/2);return d=-c*Math.log(Math.max(h,1e-10)),new u(a.lng*b*c,d)},unproject:function(a){for(var b,c=180/Math.PI,d=this.R,e=this.R_MINOR/d,f=Math.sqrt(1-e*e),g=Math.exp(-a.y/d),h=Math.PI/2-2*Math.atan(g),i=0,j=.1;i<15&&Math.abs(j)>1e-7;i++)b=f*Math.sin(h),b=Math.pow((1-b)/(1+b),f/2),j=Math.PI/2-2*Math.atan(g*b)-h,h+=j;return new A(h*c,a.x*c/d)}},ed=(Object.freeze||Object)({LonLat:cd,Mercator:dd,SphericalMercator:Bb}),fd=b({},Ab,{code:"EPSG:3395",projection:dd,transformation:function(){var a=.5/(Math.PI*dd.R);return D(a,.5,-a,.5)}()}),gd=b({},Ab,{code:"EPSG:4326",projection:cd,transformation:D(1/180,1,-1/180,.5)}),hd=b({},zb,{projection:cd,transformation:D(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,b){var c=b.lng-a.lng,d=b.lat-a.lat;return Math.sqrt(c*c+d*d)},infinite:!0});zb.Earth=Ab,zb.EPSG3395=fd,zb.EPSG3857=Gb,zb.EPSG900913=Hb,zb.EPSG4326=gd,zb.Simple=hd;var id=xb.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[d(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[d(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var b=a.target;if(b.hasLayer(this)){if(this._map=b,this._zoomAnimated=b._zoomAnimated,this.getEvents){var c=this.getEvents();b.on(c,this),this.once("remove",function(){b.off(c,this)},this)}this.onAdd(b),this.getAttribution&&b.attributionControl&&b.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),b.fire("layeradd",{layer:this})}}});Kc.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var b=d(a);return this._layers[b]?this:(this._layers[b]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var b=d(a);return this._layers[b]?(this._loaded&&a.onRemove(this),a.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(a.getAttribution()),delete this._layers[b],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return!!a&&d(a)in this._layers},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},_addLayers:function(a){a=a?qb(a)?a:[a]:[];for(var b=0,c=a.length;b<c;b++)this.addLayer(a[b])},_addZoomLimit:function(a){!isNaN(a.options.maxZoom)&&isNaN(a.options.minZoom)||(this._zoomBoundLayers[d(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var b=d(a);this._zoomBoundLayers[b]&&(delete this._zoomBoundLayers[b],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,b=-1/0,c=this._getZoomSpan();for(var d in this._zoomBoundLayers){var e=this._zoomBoundLayers[d].options;a=void 0===e.minZoom?a:Math.min(a,e.minZoom),b=void 0===e.maxZoom?b:Math.max(b,e.maxZoom)}this._layersMaxZoom=b===-1/0?void 0:b,this._layersMinZoom=a===1/0?void 0:a,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var jd=id.extend({initialize:function(a,b){k(this,b),this._layers={};var c,d;if(a)for(c=0,d=a.length;c<d;c++)this.addLayer(a[c])},addLayer:function(a){var b=this.getLayerId(a);return this._layers[b]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var b=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[b]&&this._map.removeLayer(this._layers[b]),delete this._layers[b],this},hasLayer:function(a){return!!a&&(a in this._layers||this.getLayerId(a)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var b,c,d=Array.prototype.slice.call(arguments,1);for(b in this._layers)c=this._layers[b],c[a]&&c[a].apply(c,d);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return d(a)}}),kd=function(a,b){return new jd(a,b)},ld=jd.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),jd.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),jd.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new y;for(var b in this._layers){var c=this._layers[b];a.extend(c.getBounds?c.getBounds():c.getLatLng())}return a}}),md=function(a){return new ld(a)},nd=s.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(a){k(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,b){var c=this._getIconUrl(a);if(!c){if("icon"===a)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(c,b&&"IMG"===b.tagName?b:null);return this._setIconStyles(d,a),d},_setIconStyles:function(a,b){var c=this.options,d=c[b+"Size"];"number"==typeof d&&(d=[d,d]);var e=v(d),f=v("shadow"===b&&c.shadowAnchor||c.iconAnchor||e&&e.divideBy(2,!0));a.className="leaflet-marker-"+b+" "+(c.className||""),f&&(a.style.marginLeft=-f.x+"px",a.style.marginTop=-f.y+"px"),e&&(a.style.width=e.x+"px",a.style.height=e.y+"px")},_createImg:function(a,b){return b=b||document.createElement("img"),b.src=a,b},_getIconUrl:function(a){return ic&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}}),od=nd.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return od.imagePath||(od.imagePath=this._detectIconPath()),(this.options.imagePath||od.imagePath)+nd.prototype._getIconUrl.call(this,a)},_detectIconPath:function(){var a=ia("div","leaflet-default-icon-path",document.body),b=ha(a,"background-image")||ha(a,"backgroundImage");return document.body.removeChild(a),b=null===b||0!==b.indexOf("url")?"":b.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),pd=Vc.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new _c(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),oa(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&pa(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var b=this._marker,c=b._map,d=this._marker.options.autoPanSpeed,e=this._marker.options.autoPanPadding,f=L.DomUtil.getPosition(b._icon),g=c.getPixelBounds(),h=c.getPixelOrigin(),i=x(g.min._subtract(h).add(e),g.max._subtract(h).subtract(e));if(!i.contains(f)){var j=v((Math.max(i.max.x,f.x)-i.max.x)/(g.max.x-i.max.x)-(Math.min(i.min.x,f.x)-i.min.x)/(g.min.x-i.min.x),(Math.max(i.max.y,f.y)-i.max.y)/(g.max.y-i.max.y)-(Math.min(i.min.y,f.y)-i.min.y)/(g.min.y-i.min.y)).multiplyBy(d);c.panBy(j,{animate:!1}),this._draggable._newPos._add(j),this._draggable._startPos._add(j),L.DomUtil.setPosition(b._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=q(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(r(this._panRequest),this._panRequest=q(this._adjustPan.bind(this,a)))},_onDrag:function(a){var b=this._marker,c=b._shadow,d=xa(b._icon),e=b._map.layerPointToLatLng(d);c&&wa(c,d),b._latlng=e,a.latlng=e,a.oldLatLng=this._oldLatLng,b.fire("move",a).fire("drag",a)},_onDragEnd:function(a){r(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),qd=id.extend({options:{icon:new od,interactive:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(a,b){k(this,b),this._latlng=B(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var b=this._latlng;return this._latlng=B(a),this.update(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,b="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=a.icon.createIcon(this._icon),d=!1;c!==this._icon&&(this._icon&&this._removeIcon(),d=!0,a.title&&(c.title=a.title),"IMG"===c.tagName&&(c.alt=a.alt||"")),oa(c,b),a.keyboard&&(c.tabIndex="0"),this._icon=c,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var e=a.icon.createShadow(this._shadow),f=!1;e!==this._shadow&&(this._removeShadow(),f=!0),e&&(oa(e,b),e.alt=""),this._shadow=e,a.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),e&&f&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ja(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ja(this._shadow),this._shadow=null},_setPos:function(a){wa(this._icon,a),this._shadow&&wa(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon.style.zIndex=this._zIndex+a},_animateZoom:function(a){var b=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(b)},_initInteraction:function(){if(this.options.interactive&&(oa(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),pd)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new pd(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;sa(this._icon,a),this._shadow&&sa(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),rd=id.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,
fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return k(this,a),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),sd=rd.extend({options:{fill:!0,radius:10},initialize:function(a,b){k(this,b),this._latlng=B(a),this._radius=this.options.radius},setLatLng:function(a){return this._latlng=B(a),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var b=a&&a.radius||this._radius;return rd.prototype.setStyle.call(this,a),this.setRadius(b),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,b=this._radiusY||a,c=this._clickTolerance(),d=[a+c,b+c];this._pxBounds=new w(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),td=sd.extend({initialize:function(a,c,d){if("number"==typeof c&&(c=b({},d,{radius:c})),k(this,c),this._latlng=B(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new y(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:rd.prototype.setStyle,_project:function(){var a=this._latlng.lng,b=this._latlng.lat,c=this._map,d=c.options.crs;if(d.distance===Ab.distance){var e=Math.PI/180,f=this._mRadius/Ab.R/e,g=c.project([b+f,a]),h=c.project([b-f,a]),i=g.add(h).divideBy(2),j=c.unproject(i).lat,k=Math.acos((Math.cos(f*e)-Math.sin(b*e)*Math.sin(j*e))/(Math.cos(b*e)*Math.cos(j*e)))/e;(isNaN(k)||0===k)&&(k=f/Math.cos(Math.PI/180*b)),this._point=i.subtract(c.getPixelOrigin()),this._radius=isNaN(k)?0:i.x-c.project([j,a-k]).x,this._radiusY=i.y-g.y}else{var l=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(l).x}this._updateBounds()}}),ud=rd.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,b){k(this,b),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var b,c,d=1/0,e=null,f=Na,g=0,h=this._parts.length;g<h;g++)for(var i=this._parts[g],j=1,k=i.length;j<k;j++){b=i[j-1],c=i[j];var l=f(a,b,c,!0);l<d&&(d=l,e=f(a,b,c))}return e&&(e.distance=Math.sqrt(d)),e},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var a,b,c,d,e,f,g,h=this._rings[0],i=h.length;if(!i)return null;for(a=0,b=0;a<i-1;a++)b+=h[a].distanceTo(h[a+1])/2;if(0===b)return this._map.layerPointToLatLng(h[0]);for(a=0,d=0;a<i-1;a++)if(e=h[a],f=h[a+1],c=e.distanceTo(f),(d+=c)>b)return g=(d-b)/c,this._map.layerPointToLatLng([f.x-g*(f.x-e.x),f.y-g*(f.y-e.y)])},getBounds:function(){return this._bounds},addLatLng:function(a,b){return b=b||this._defaultShape(),a=B(a),b.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new y,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Oa(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var b=[],c=Oa(a),d=0,e=a.length;d<e;d++)c?(b[d]=B(a[d]),this._bounds.extend(b[d])):b[d]=this._convertLatLngs(a[d]);return b},_project:function(){var a=new w;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a);var b=this._clickTolerance(),c=new u(b,b);this._bounds.isValid()&&a.isValid()&&(a.min._subtract(c),a.max._add(c),this._pxBounds=a)},_projectLatlngs:function(a,b,c){var d,e,f=a[0]instanceof A,g=a.length;if(f){for(e=[],d=0;d<g;d++)e[d]=this._map.latLngToLayerPoint(a[d]),c.extend(e[d]);b.push(e)}else for(d=0;d<g;d++)this._projectLatlngs(a[d],b,c)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(a)){if(this.options.noClip)return void(this._parts=this._rings);var b,c,d,e,f,g,h,i=this._parts;for(b=0,d=0,e=this._rings.length;b<e;b++)for(h=this._rings[b],c=0,f=h.length;c<f-1;c++)(g=Ja(h[c],h[c+1],a,c,!0))&&(i[d]=i[d]||[],i[d].push(g[0]),g[1]===h[c+1]&&c!==f-2||(i[d].push(g[1]),d++))}},_simplifyPoints:function(){for(var a=this._parts,b=this.options.smoothFactor,c=0,d=a.length;c<d;c++)a[c]=Da(a[c],b)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,b){var c,d,e,f,g,h,i=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(c=0,f=this._parts.length;c<f;c++)for(h=this._parts[c],d=0,g=h.length,e=g-1;d<g;e=d++)if((b||0!==d)&&Ea(a,h[e],h[d])<=i)return!0;return!1}});ud._flat=Pa;var vd=ud.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var a,b,c,d,e,f,g,h,i,j=this._rings[0],k=j.length;if(!k)return null;for(f=g=h=0,a=0,b=k-1;a<k;b=a++)c=j[a],d=j[b],e=c.y*d.x-d.y*c.x,g+=(c.x+d.x)*e,h+=(c.y+d.y)*e,f+=3*e;return i=0===f?j[0]:[g/f,h/f],this._map.layerPointToLatLng(i)},_convertLatLngs:function(a){var b=ud.prototype._convertLatLngs.call(this,a),c=b.length;return c>=2&&b[0]instanceof A&&b[0].equals(b[c-1])&&b.pop(),b},_setLatLngs:function(a){ud.prototype._setLatLngs.call(this,a),Oa(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Oa(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,b=this.options.weight,c=new u(b,b);if(a=new w(a.min.subtract(c),a.max.add(c)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(a)){if(this.options.noClip)return void(this._parts=this._rings);for(var d,e=0,f=this._rings.length;e<f;e++)d=Qa(this._rings[e],a,!0),d.length&&this._parts.push(d)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var b,c,d,e,f,g,h,i,j=!1;if(!this._pxBounds.contains(a))return!1;for(e=0,h=this._parts.length;e<h;e++)for(b=this._parts[e],f=0,i=b.length,g=i-1;f<i;g=f++)c=b[f],d=b[g],c.y>a.y!=d.y>a.y&&a.x<(d.x-c.x)*(a.y-c.y)/(d.y-c.y)+c.x&&(j=!j);return j||ud.prototype._containsPoint.call(this,a,!0)}}),wd=ld.extend({initialize:function(a,b){k(this,b),this._layers={},a&&this.addData(a)},addData:function(a){var b,c,d,e=qb(a)?a:a.features;if(e){for(b=0,c=e.length;b<c;b++)d=e[b],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var f=this.options;if(f.filter&&!f.filter(a))return this;var g=Xa(a,f);return g?(g.feature=bb(a),g.defaultOptions=g.options,this.resetStyle(g),f.onEachFeature&&f.onEachFeature(a,g),this.addLayer(g)):this},resetStyle:function(a){return a.options=b({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this},setStyle:function(a){return this.eachLayer(function(b){this._setLayerStyle(b,a)},this)},_setLayerStyle:function(a,b){"function"==typeof b&&(b=b(a.feature)),a.setStyle&&a.setStyle(b)}}),xd={toGeoJSON:function(a){return ab(this,{type:"Point",coordinates:$a(this.getLatLng(),a)})}};qd.include(xd),td.include(xd),sd.include(xd),ud.include({toGeoJSON:function(a){var b=!Oa(this._latlngs),c=_a(this._latlngs,b?1:0,!1,a);return ab(this,{type:(b?"Multi":"")+"LineString",coordinates:c})}}),vd.include({toGeoJSON:function(a){var b=!Oa(this._latlngs),c=b&&!Oa(this._latlngs[0]),d=_a(this._latlngs,c?2:b?1:0,!0,a);return b||(d=[d]),ab(this,{type:(c?"Multi":"")+"Polygon",coordinates:d})}}),jd.include({toMultiPoint:function(a){var b=[];return this.eachLayer(function(c){b.push(c.toGeoJSON(a).geometry.coordinates)}),ab(this,{type:"MultiPoint",coordinates:b})},toGeoJSON:function(a){var b=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===b)return this.toMultiPoint(a);var c="GeometryCollection"===b,d=[];return this.eachLayer(function(b){if(b.toGeoJSON){var e=b.toGeoJSON(a);if(c)d.push(e.geometry);else{var f=bb(e);"FeatureCollection"===f.type?d.push.apply(d,f.features):d.push(f)}}}),c?ab(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});var yd=cb,zd=id.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,b,c){this._url=a,this._bounds=z(b),k(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(oa(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ja(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&la(this._image),this},bringToBack:function(){return this._map&&ma(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=z(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a="IMG"===this._url.tagName,b=this._image=a?this._url:ia("img");if(oa(b,"leaflet-image-layer"),this._zoomAnimated&&oa(b,"leaflet-zoom-animated"),this.options.className&&oa(b,this.options.className),b.onselectstart=g,b.onmousemove=g,b.onload=c(this.fire,this,"load"),b.onerror=c(this._overlayOnError,this,"error"),this.options.crossOrigin&&(b.crossOrigin=""),this.options.zIndex&&this._updateZIndex(),a)return void(this._url=b.src);b.src=this._url,b.alt=this.options.alt},_animateZoom:function(a){var b=this._map.getZoomScale(a.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;va(this._image,c,b)},_reset:function(){var a=this._image,b=new w(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=b.getSize();wa(a,b.min),a.style.width=c.x+"px",a.style.height=c.y+"px"},_updateOpacity:function(){sa(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)}}),Ad=function(a,b,c){return new zd(a,b,c)},Bd=zd.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var a="VIDEO"===this._url.tagName,b=this._image=a?this._url:ia("video");if(oa(b,"leaflet-image-layer"),this._zoomAnimated&&oa(b,"leaflet-zoom-animated"),b.onselectstart=g,b.onmousemove=g,b.onloadeddata=c(this.fire,this,"load"),a){for(var d=b.getElementsByTagName("source"),e=[],f=0;f<d.length;f++)e.push(d[f].src);return void(this._url=d.length>0?e:[b.src])}qb(this._url)||(this._url=[this._url]),b.autoplay=!!this.options.autoplay,b.loop=!!this.options.loop;for(var h=0;h<this._url.length;h++){var i=ia("source");i.src=this._url[h],b.appendChild(i)}}}),Cd=id.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(a,b){k(this,a),this._source=b},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&sa(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&sa(this._container,1),this.bringToFront()},onRemove:function(a){a._fadeAnimated?(sa(this._container,0),this._removeTimeout=setTimeout(c(ja,void 0,this._container),200)):ja(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=B(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&la(this._container),this},bringToBack:function(){return this._map&&ma(this._container),this},_updateContent:function(){if(this._content){var a=this._contentNode,b="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof b)a.innerHTML=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(b)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),b=v(this.options.offset),c=this._getAnchor();this._zoomAnimated?wa(this._container,a.add(c)):b=b.add(a).add(c);var d=this._containerBottom=-b.y,e=this._containerLeft=-Math.round(this._containerWidth/2)+b.x;this._container.style.bottom=d+"px",this._container.style.left=e+"px"}},_getAnchor:function(){return[0,0]}}),Dd=Cd.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a.openPopup(this),this},onAdd:function(a){Cd.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof rd||this._source.on("preclick",X))},onRemove:function(a){Cd.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof rd||this._source.off("preclick",X))},getEvents:function(){var a=Cd.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this._close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var a="leaflet-popup",b=this._container=ia("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=ia("div",a+"-content-wrapper",b);if(this._contentNode=ia("div",a+"-content",c),Z(c),Y(this._contentNode),T(c,"contextmenu",X),this._tipContainer=ia("div",a+"-tip-container",b),this._tip=ia("div",a+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=ia("a",a+"-close-button",b);d.href="#close",d.innerHTML="&#215;",T(d,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var a=this._contentNode,b=a.style;b.width="",b.whiteSpace="nowrap";var c=a.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),b.width=c+1+"px",b.whiteSpace="",b.height="";var d=a.offsetHeight,e=this.options.maxHeight;e&&d>e?(b.height=e+"px",oa(a,"leaflet-popup-scrolled")):pa(a,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var b=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),c=this._getAnchor();wa(this._container,b.add(c))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var a=this._map,b=parseInt(ha(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+b,d=this._containerWidth,e=new u(this._containerLeft,-c-this._containerBottom);e._add(xa(this._container));var f=a.layerPointToContainerPoint(e),g=v(this.options.autoPanPadding),h=v(this.options.autoPanPaddingTopLeft||g),i=v(this.options.autoPanPaddingBottomRight||g),j=a.getSize(),k=0,l=0;f.x+d+i.x>j.x&&(k=f.x+d-j.x+i.x),f.x-k-h.x<0&&(k=f.x-h.x),f.y+c+i.y>j.y&&(l=f.y+c-j.y+i.y),f.y-l-h.y<0&&(l=f.y-h.y),(k||l)&&a.fire("autopanstart").panBy([k,l])}},_onCloseButtonClick:function(a){this._close(),_(a)},_getAnchor:function(){return v(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ed=function(a,b){return new Dd(a,b)};Kc.mergeOptions({closePopupOnClick:!0}),Kc.include({openPopup:function(a,b,c){return a instanceof Dd||(a=new Dd(c).setContent(a)),b&&a.setLatLng(b),this.hasLayer(a)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=a,this.addLayer(a))},closePopup:function(a){return a&&a!==this._popup||(a=this._popup,this._popup=null),a&&this.removeLayer(a),this}}),id.include({bindPopup:function(a,b){return a instanceof Dd?(k(a,b),this._popup=a,a._source=this):(this._popup&&!b||(this._popup=new Dd(b,this)),this._popup.setContent(a)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a,b){if(a instanceof id||(b=a,a=this),a instanceof ld)for(var c in this._layers){a=this._layers[c];break}return b||(b=a.getCenter?a.getCenter():a.getLatLng()),this._popup&&this._map&&(this._popup._source=a,this._popup.update(),this._map.openPopup(this._popup,b)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(a){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(a)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){var b=a.layer||a.target;if(this._popup&&this._map){if(_(a),b instanceof rd)return void this.openPopup(a.layer||a.target,a.latlng);this._map.hasLayer(this._popup)&&this._popup._source===b?this.closePopup():this.openPopup(b,a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){13===a.originalEvent.keyCode&&this._openPopup(a)}});var Fd=Cd.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(a){Cd.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(a){Cd.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var a=Cd.prototype.getEvents.call(this);return fc&&!this.options.permanent&&(a.preclick=this._close),a},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var a="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ia("div",a)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var b=this._map,c=this._container,d=b.latLngToContainerPoint(b.getCenter()),e=b.layerPointToContainerPoint(a),f=this.options.direction,g=c.offsetWidth,h=c.offsetHeight,i=v(this.options.offset),j=this._getAnchor();"top"===f?a=a.add(v(-g/2+i.x,-h+i.y+j.y,!0)):"bottom"===f?a=a.subtract(v(g/2-i.x,-i.y,!0)):"center"===f?a=a.subtract(v(g/2+i.x,h/2-j.y+i.y,!0)):"right"===f||"auto"===f&&e.x<d.x?(f="right",a=a.add(v(i.x+j.x,j.y-h/2+i.y,!0))):(f="left",a=a.subtract(v(g+j.x-i.x,h/2-j.y-i.y,!0))),pa(c,"leaflet-tooltip-right"),pa(c,"leaflet-tooltip-left"),pa(c,"leaflet-tooltip-top"),pa(c,"leaflet-tooltip-bottom"),oa(c,"leaflet-tooltip-"+f),wa(c,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&sa(this._container,a)},_animateZoom:function(a){var b=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(b)},_getAnchor:function(){return v(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Gd=function(a,b){return new Fd(a,b)};Kc.include({openTooltip:function(a,b,c){return a instanceof Fd||(a=new Fd(c).setContent(a)),b&&a.setLatLng(b),this.hasLayer(a)?this:this.addLayer(a)},closeTooltip:function(a){return a&&this.removeLayer(a),this}}),id.include({bindTooltip:function(a,b){return a instanceof Fd?(k(a,b),this._tooltip=a,a._source=this):(this._tooltip&&!b||(this._tooltip=new Fd(b,this)),this._tooltip.setContent(a)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(a||!this._tooltipHandlersAdded){var b=a?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),fc&&(c.click=this._openTooltip)),this[b](c),this._tooltipHandlersAdded=!a}},openTooltip:function(a,b){if(a instanceof id||(b=a,a=this),a instanceof ld)for(var c in this._layers){a=this._layers[c];break}return b||(b=a.getCenter?a.getCenter():a.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=a,this._tooltip.update(),this._map.openTooltip(this._tooltip,b),this._tooltip.options.interactive&&this._tooltip._container&&(oa(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(pa(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(a){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(a)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_openTooltip:function(a){var b=a.layer||a.target;this._tooltip&&this._map&&this.openTooltip(b,this._tooltip.options.sticky?a.latlng:void 0)},_moveTooltip:function(a){var b,c,d=a.latlng;this._tooltip.options.sticky&&a.originalEvent&&(b=this._map.mouseEventToContainerPoint(a.originalEvent),c=this._map.containerPointToLayerPoint(b),d=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(d)}});var Hd=nd.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var b=a&&"DIV"===a.tagName?a:document.createElement("div"),c=this.options;if(b.innerHTML=!1!==c.html?c.html:"",c.bgPos){var d=v(c.bgPos);b.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(b,"icon"),b},createShadow:function(){return null}});nd.Default=od;var Id=id.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ac,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){k(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),ja(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(la(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ma(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=e(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof u?a:new u(a,a)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var b,c=this.getPane().children,d=-a(-1/0,1/0),e=0,f=c.length;e<f;e++)b=c[e].style.zIndex,c[e]!==this._container&&b&&(d=a(d,+b));isFinite(d)&&(this.options.zIndex=d+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Kb){sa(this._container,this.options.opacity);var a=+new Date,b=!1,c=!1;for(var d in this._tiles){var e=this._tiles[d];if(e.current&&e.loaded){var f=Math.min(1,(a-e.loaded)/200);sa(e.el,f),f<1?b=!0:(e.active?c=!0:this._onOpaqueTile(e),e.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),b&&(r(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=ia("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,b=this.options.maxZoom;if(void 0!==a){for(var c in this._levels)this._levels[c].el.children.length||c===a?(this._levels[c].el.style.zIndex=b-Math.abs(a-c),this._onUpdateLevel(c)):(ja(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var d=this._levels[a],e=this._map;return d||(d=this._levels[a]={},d.el=ia("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=b,d.origin=e.project(e.unproject(e.getPixelOrigin()),a).round(),d.zoom=a,this._setZoomTransform(d,e.getCenter(),e.getZoom()),d.el.offsetWidth,this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var a,b,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom)return void this._removeAllTiles();for(a in this._tiles)b=this._tiles[a],b.retain=b.current;for(a in this._tiles)if(b=this._tiles[a],b.current&&!b.active){var d=b.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var b in this._tiles)this._tiles[b].coords.z===a&&this._removeTile(b)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)ja(this._levels[a].el),this._onRemoveLevel(a),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,b,c,d){var e=Math.floor(a/2),f=Math.floor(b/2),g=c-1,h=new u(+e,+f);h.z=+g;var i=this._tileCoordsToKey(h),j=this._tiles[i];return j&&j.active?(j.retain=!0,!0):(j&&j.loaded&&(j.retain=!0),g>d&&this._retainParent(e,f,g,d))},_retainChildren:function(a,b,c,d){for(var e=2*a;e<2*a+2;e++)for(var f=2*b;f<2*b+2;f++){var g=new u(e,f);g.z=c+1;var h=this._tileCoordsToKey(g),i=this._tiles[h];i&&i.active?i.retain=!0:(i&&i.loaded&&(i.retain=!0),c+1<d&&this._retainChildren(e,f,c+1,d))}},_resetView:function(a){var b=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),b,b)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var b=this.options;return void 0!==b.minNativeZoom&&a<b.minNativeZoom?b.minNativeZoom:void 0!==b.maxNativeZoom&&b.maxNativeZoom<a?b.maxNativeZoom:a},_setView:function(a,b,c,d){var e=this._clampZoom(Math.round(b));(void 0!==this.options.maxZoom&&e>this.options.maxZoom||void 0!==this.options.minZoom&&e<this.options.minZoom)&&(e=void 0);var f=this.options.updateWhenZooming&&e!==this._tileZoom;d&&!f||(this._tileZoom=e,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==e&&this._update(a),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(a,b)},_setZoomTransforms:function(a,b){for(var c in this._levels)this._setZoomTransform(this._levels[c],a,b)},_setZoomTransform:function(a,b,c){var d=this._map.getZoomScale(c,a.zoom),e=a.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(b,c)).round();_b?va(a.el,e,d):wa(a.el,e)},_resetGrid:function(){var a=this._map,b=a.options.crs,c=this._tileSize=this.getTileSize(),d=this._tileZoom,e=this._map.getPixelWorldBounds(this._tileZoom);e&&(this._globalTileRange=this._pxBoundsToTileRange(e)),this._wrapX=b.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,b.wrapLng[0]],d).x/c.x),Math.ceil(a.project([0,b.wrapLng[1]],d).x/c.y)],this._wrapY=b.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([b.wrapLat[0],0],d).y/c.x),Math.ceil(a.project([b.wrapLat[1],0],d).y/c.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(a){var b=this._map,c=b._animatingZoom?Math.max(b._animateToZoom,b.getZoom()):b.getZoom(),d=b.getZoomScale(c,this._tileZoom),e=b.project(a,this._tileZoom).floor(),f=b.getSize().divideBy(2*d);return new w(e.subtract(f),e.add(f))},_update:function(a){var b=this._map;if(b){var c=this._clampZoom(b.getZoom());if(void 0===a&&(a=b.getCenter()),void 0!==this._tileZoom){var d=this._getTiledPixelBounds(a),e=this._pxBoundsToTileRange(d),f=e.getCenter(),g=[],h=this.options.keepBuffer,i=new w(e.getBottomLeft().subtract([h,-h]),e.getTopRight().add([h,-h]));if(!(isFinite(e.min.x)&&isFinite(e.min.y)&&isFinite(e.max.x)&&isFinite(e.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var j in this._tiles){var k=this._tiles[j].coords;k.z===this._tileZoom&&i.contains(new u(k.x,k.y))||(this._tiles[j].current=!1)}if(Math.abs(c-this._tileZoom)>1)return void this._setView(a,c);for(var l=e.min.y;l<=e.max.y;l++)for(var m=e.min.x;m<=e.max.x;m++){var n=new u(m,l);if(n.z=this._tileZoom,this._isValidTile(n)){var o=this._tiles[this._tileCoordsToKey(n)];o?o.current=!0:g.push(n)}}if(g.sort(function(a,b){return a.distanceTo(f)-b.distanceTo(f)}),0!==g.length){this._loading||(this._loading=!0,this.fire("loading"));var p=document.createDocumentFragment();for(m=0;m<g.length;m++)this._addTile(g[m],p)
;this._level.el.appendChild(p)}}}},_isValidTile:function(a){var b=this._map.options.crs;if(!b.infinite){var c=this._globalTileRange;if(!b.wrapLng&&(a.x<c.min.x||a.x>c.max.x)||!b.wrapLat&&(a.y<c.min.y||a.y>c.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(a);return z(this.options.bounds).overlaps(d)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var b=this._map,c=this.getTileSize(),d=a.scaleBy(c),e=d.add(c);return[b.unproject(d,a.z),b.unproject(e,a.z)]},_tileCoordsToBounds:function(a){var b=this._tileCoordsToNwSe(a),c=new y(b[0],b[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var b=a.split(":"),c=new u(+b[0],+b[1]);return c.z=+b[2],c},_removeTile:function(a){var b=this._tiles[a];b&&(Qb||b.el.setAttribute("src",rb),ja(b.el),delete this._tiles[a],this.fire("tileunload",{tile:b.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){oa(a,"leaflet-tile");var b=this.getTileSize();a.style.width=b.x+"px",a.style.height=b.y+"px",a.onselectstart=g,a.onmousemove=g,Kb&&this.options.opacity<1&&sa(a,this.options.opacity),Nb&&!Ob&&(a.style.WebkitBackfaceVisibility="hidden")},_addTile:function(a,b){var d=this._getTilePos(a),e=this._tileCoordsToKey(a),f=this.createTile(this._wrapCoords(a),c(this._tileReady,this,a));this._initTile(f),this.createTile.length<2&&q(c(this._tileReady,this,a,null,f)),wa(f,d),this._tiles[e]={el:f,coords:a,current:!0},b.appendChild(f),this.fire("tileloadstart",{tile:f,coords:a})},_tileReady:function(a,b,d){if(this._map){b&&this.fire("tileerror",{error:b,tile:d,coords:a});var e=this._tileCoordsToKey(a);d=this._tiles[e],d&&(d.loaded=+new Date,this._map._fadeAnimated?(sa(d.el,0),r(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),b||(oa(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Kb||!this._map._fadeAnimated?q(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))}},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var b=new u(this._wrapX?f(a.x,this._wrapX):a.x,this._wrapY?f(a.y,this._wrapY):a.y);return b.z=a.z,b},_pxBoundsToTileRange:function(a){var b=this.getTileSize();return new w(a.min.unscaleBy(b).floor(),a.max.unscaleBy(b).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}}),Jd=Id.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(a,b){this._url=a,b=k(this,b),b.detectRetina&&ic&&b.maxZoom>0&&(b.tileSize=Math.floor(b.tileSize/2),b.zoomReverse?(b.zoomOffset--,b.minZoom++):(b.zoomOffset++,b.maxZoom--),b.minZoom=Math.max(0,b.minZoom)),"string"==typeof b.subdomains&&(b.subdomains=b.subdomains.split("")),Nb||this.on("tileunload",this._onTileRemove)},setUrl:function(a,b){return this._url=a,b||this.redraw(),this},createTile:function(a,b){var d=document.createElement("img");return T(d,"load",c(this._tileOnLoad,this,b,d)),T(d,"error",c(this._tileOnError,this,b,d)),this.options.crossOrigin&&(d.crossOrigin=""),d.alt="",d.setAttribute("role","presentation"),d.src=this.getTileUrl(a),d},getTileUrl:function(a){var c={r:ic?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=d),c["-y"]=d}return m(this._url,b(c,this.options))},_tileOnLoad:function(a,b){Kb?setTimeout(c(a,this,null,b),0):a(null,b)},_tileOnError:function(a,b,c){var d=this.options.errorTileUrl;d&&b.getAttribute("src")!==d&&(b.src=d),a(c,b)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,b=this.options.maxZoom,c=this.options.zoomReverse,d=this.options.zoomOffset;return c&&(a=b-a),a+d},_getSubdomain:function(a){var b=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[b]},_abortLoading:function(){var a,b;for(a in this._tiles)this._tiles[a].coords.z!==this._tileZoom&&(b=this._tiles[a].el,b.onload=g,b.onerror=g,b.complete||(b.src=rb,ja(b),delete this._tiles[a]))}}),Kd=Jd.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var d=b({},this.defaultWmsParams);for(var e in c)e in this.options||(d[e]=c[e]);c=k(this,c);var f=c.detectRetina&&ic?2:1,g=this.getTileSize();d.width=g.x*f,d.height=g.y*f,this.wmsParams=d},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var b=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[b]=this._crs.code,Jd.prototype.onAdd.call(this,a)},getTileUrl:function(a){var b=this._tileCoordsToNwSe(a),c=this._crs,d=x(c.project(b[0]),c.project(b[1])),e=d.min,f=d.max,g=(this._wmsVersion>=1.3&&this._crs===gd?[e.y,e.x,f.y,f.x]:[e.x,e.y,f.x,f.y]).join(","),h=L.TileLayer.prototype.getTileUrl.call(this,a);return h+l(this.wmsParams,h,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+g},setParams:function(a,c){return b(this.wmsParams,a),c||this.redraw(),this}});Jd.WMS=Kd,gb.wms=hb;var Ld=id.extend({options:{padding:.1,tolerance:0},initialize:function(a){k(this,a),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&oa(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,b){var c=this._map.getZoomScale(b,this._zoom),d=xa(this._container),e=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,b),g=this._map.project(a,b),h=g.subtract(f),i=e.multiplyBy(-c).add(d).add(e).subtract(h);_b?va(this._container,i,c):wa(this._container,i)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,b=this._map.getSize(),c=this._map.containerPointToLayerPoint(b.multiplyBy(-a)).round();this._bounds=new w(c,c.add(b.multiplyBy(1+2*a)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Md=Ld.extend({getEvents:function(){var a=Ld.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ld.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");T(a,"mousemove",e(this._onMouseMove,32,this),this),T(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),T(a,"mouseout",this._handleMouseOut,this),this._ctx=a.getContext("2d")},_destroyContainer:function(){delete this._ctx,ja(this._container),U(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var b in this._layers)a=this._layers[b],a._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},Ld.prototype._update.call(this);var a=this._bounds,b=this._container,c=a.getSize(),d=ic?2:1;wa(b,a.min),b.width=d*c.x,b.height=d*c.y,b.style.width=c.x+"px",b.style.height=c.y+"px",ic&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Ld.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[d(a)]=a;var b=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=b),this._drawLast=b,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var b=a._order,c=b.next,d=b.prev;c?c.prev=d:this._drawLast=d,d?d.next=c:this._drawFirst=c,delete a._order,delete this._layers[L.stamp(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(a.options.dashArray){var b,c=a.options.dashArray.split(","),d=[];for(b=0;b<c.length;b++)d.push(Number(c[b]));a.options._dashArray=d}},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||q(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var b=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new w,this._redrawBounds.extend(a._pxBounds.min.subtract([b,b])),this._redrawBounds.extend(a._pxBounds.max.add([b,b]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var b=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,b.x,b.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var a,b=this._redrawBounds;if(this._ctx.save(),b){var c=b.getSize();this._ctx.beginPath(),this._ctx.rect(b.min.x,b.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)a=d.layer,(!b||a._pxBounds&&a._pxBounds.intersects(b))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,b){if(this._drawing){var c,d,e,f,g=a._parts,h=g.length,i=this._ctx;if(h){for(this._drawnLayers[a._leaflet_id]=a,i.beginPath(),c=0;c<h;c++){for(d=0,e=g[c].length;d<e;d++)f=g[c][d],i[d?"lineTo":"moveTo"](f.x,f.y);b&&i.closePath()}this._fillStroke(i,a)}}},_updateCircle:function(a){if(this._drawing&&!a._empty()){var b=a._point,c=this._ctx,d=Math.max(Math.round(a._radius),1),e=(Math.max(Math.round(a._radiusY),1)||d)/d;this._drawnLayers[a._leaflet_id]=a,1!==e&&(c.save(),c.scale(1,e)),c.beginPath(),c.arc(b.x,b.y/e,d,0,2*Math.PI,!1),1!==e&&c.restore(),this._fillStroke(c,a)}},_fillStroke:function(a,b){var c=b.options;c.fill&&(a.globalAlpha=c.fillOpacity,a.fillStyle=c.fillColor||c.color,a.fill(c.fillRule||"evenodd")),c.stroke&&0!==c.weight&&(a.setLineDash&&a.setLineDash(b.options&&b.options._dashArray||[]),a.globalAlpha=c.opacity,a.lineWidth=c.weight,a.strokeStyle=c.color,a.lineCap=c.lineCap,a.lineJoin=c.lineJoin,a.stroke())},_onClick:function(a){for(var b,c,d=this._map.mouseEventToLayerPoint(a),e=this._drawFirst;e;e=e.next)b=e.layer,b.options.interactive&&b._containsPoint(d)&&!this._map._draggableMoved(b)&&(c=b);c&&(ca(a),this._fireEvent([c],a))},_onMouseMove:function(a){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var b=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,b)}},_handleMouseOut:function(a){var b=this._hoveredLayer;b&&(pa(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(a,b){for(var c,d,e=this._drawFirst;e;e=e.next)c=e.layer,c.options.interactive&&c._containsPoint(b)&&(d=c);d!==this._hoveredLayer&&(this._handleMouseOut(a),d&&(oa(this._container,"leaflet-interactive"),this._fireEvent([d],a,"mouseover"),this._hoveredLayer=d)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],a)},_fireEvent:function(a,b,c){this._map._fireDOMEvent(b,c||b.type,a)},_bringToFront:function(a){var b=a._order,c=b.next,d=b.prev;c&&(c.prev=d,d?d.next=c:c&&(this._drawFirst=c),b.prev=this._drawLast,this._drawLast.next=b,b.next=null,this._drawLast=b,this._requestRedraw(a))},_bringToBack:function(a){var b=a._order,c=b.next,d=b.prev;d&&(d.next=c,c?c.prev=d:d&&(this._drawLast=d),b.prev=null,b.next=this._drawFirst,this._drawFirst.prev=b,this._drawFirst=b,this._requestRedraw(a))}}),Nd=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch(a){return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Od={_initContainer:function(){this._container=ia("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ld.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var b=a._container=Nd("shape");oa(b,"leaflet-vml-shape "+(this.options.className||"")),b.coordsize="1 1",a._path=Nd("path"),b.appendChild(a._path),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){var b=a._container;this._container.appendChild(b),a.options.interactive&&a.addInteractiveTarget(b)},_removePath:function(a){var b=a._container;ja(b),a.removeInteractiveTarget(b),delete this._layers[d(a)]},_updateStyle:function(a){var b=a._stroke,c=a._fill,d=a.options,e=a._container;e.stroked=!!d.stroke,e.filled=!!d.fill,d.stroke?(b||(b=a._stroke=Nd("stroke")),e.appendChild(b),b.weight=d.weight+"px",b.color=d.color,b.opacity=d.opacity,d.dashArray?b.dashStyle=qb(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):b.dashStyle="",b.endcap=d.lineCap.replace("butt","flat"),b.joinstyle=d.lineJoin):b&&(e.removeChild(b),a._stroke=null),d.fill?(c||(c=a._fill=Nd("fill")),e.appendChild(c),c.color=d.fillColor||d.color,c.opacity=d.fillOpacity):c&&(e.removeChild(c),a._fill=null)},_updateCircle:function(a){var b=a._point.round(),c=Math.round(a._radius),d=Math.round(a._radiusY||c);this._setPath(a,a._empty()?"M0 0":"AL "+b.x+","+b.y+" "+c+","+d+" 0,23592600")},_setPath:function(a,b){a._path.v=b},_bringToFront:function(a){la(a._container)},_bringToBack:function(a){ma(a._container)}},Pd=lc?Nd:E,Qd=Ld.extend({getEvents:function(){var a=Ld.prototype.getEvents.call(this);return a.zoomstart=this._onZoomStart,a},_initContainer:function(){this._container=Pd("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Pd("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ja(this._container),U(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ld.prototype._update.call(this);var a=this._bounds,b=a.getSize(),c=this._container;this._svgSize&&this._svgSize.equals(b)||(this._svgSize=b,c.setAttribute("width",b.x),c.setAttribute("height",b.y)),wa(c,a.min),c.setAttribute("viewBox",[a.min.x,a.min.y,b.x,b.y].join(" ")),this.fire("update")}},_initPath:function(a){var b=a._path=Pd("path");a.options.className&&oa(b,a.options.className),a.options.interactive&&oa(b,"leaflet-interactive"),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){ja(a._path),a.removeInteractiveTarget(a._path),delete this._layers[d(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var b=a._path,c=a.options;b&&(c.stroke?(b.setAttribute("stroke",c.color),b.setAttribute("stroke-opacity",c.opacity),b.setAttribute("stroke-width",c.weight),b.setAttribute("stroke-linecap",c.lineCap),b.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?b.setAttribute("stroke-dasharray",c.dashArray):b.removeAttribute("stroke-dasharray"),c.dashOffset?b.setAttribute("stroke-dashoffset",c.dashOffset):b.removeAttribute("stroke-dashoffset")):b.setAttribute("stroke","none"),c.fill?(b.setAttribute("fill",c.fillColor||c.color),b.setAttribute("fill-opacity",c.fillOpacity),b.setAttribute("fill-rule",c.fillRule||"evenodd")):b.setAttribute("fill","none"))},_updatePoly:function(a,b){this._setPath(a,F(a._parts,b))},_updateCircle:function(a){var b=a._point,c=Math.max(Math.round(a._radius),1),d=Math.max(Math.round(a._radiusY),1)||c,e="a"+c+","+d+" 0 1,0 ",f=a._empty()?"M0 0":"M"+(b.x-c)+","+b.y+e+2*c+",0 "+e+2*-c+",0 ";this._setPath(a,f)},_setPath:function(a,b){a._path.setAttribute("d",b)},_bringToFront:function(a){la(a._path)},_bringToBack:function(a){ma(a._path)}});lc&&Qd.include(Od),Kc.include({getRenderer:function(a){var b=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return b||(b=this._renderer=this.options.preferCanvas&&ib()||jb()),this.hasLayer(b)||this.addLayer(b),b},_getPaneRenderer:function(a){if("overlayPane"===a||void 0===a)return!1;var b=this._paneRenderers[a];return void 0===b&&(b=Qd&&jb({pane:a})||Md&&ib({pane:a}),this._paneRenderers[a]=b),b}});var Rd=vd.extend({initialize:function(a,b){vd.prototype.initialize.call(this,this._boundsToLatLngs(a),b)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=z(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});Qd.create=Pd,Qd.pointsToPath=F,wd.geometryToLayer=Xa,wd.coordsToLatLng=Ya,wd.coordsToLatLngs=Za,wd.latLngToCoords=$a,wd.latLngsToCoords=_a,wd.getFeature=ab,wd.asFeature=bb,Kc.mergeOptions({boxZoom:!0});var Sd=Vc.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){T(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){U(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ja(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||1!==a.which&&1!==a.button)return!1;this._clearDeferredResetState(),this._resetState(),Db(),ya(),this._startPoint=this._map.mouseEventToContainerPoint(a),T(document,{contextmenu:_,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=ia("div","leaflet-zoom-box",this._container),oa(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var b=new w(this._point,this._startPoint),c=b.getSize();wa(this._box,b.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(ja(this._box),pa(this._container,"leaflet-crosshair")),Eb(),za(),U(document,{contextmenu:_,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if((1===a.which||1===a.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var b=new y(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(b).fire("boxzoomend",{boxZoomBounds:b})}},_onKeyDown:function(a){27===a.keyCode&&this._finish()}});Kc.addInitHook("addHandler","boxZoom",Sd),Kc.mergeOptions({doubleClickZoom:!0});var Td=Vc.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var b=this._map,c=b.getZoom(),d=b.options.zoomDelta,e=a.originalEvent.shiftKey?c-d:c+d;"center"===b.options.doubleClickZoom?b.setZoom(e):b.setZoomAround(a.containerPoint,e)}});Kc.addInitHook("addHandler","doubleClickZoom",Td),Kc.mergeOptions({dragging:!0,inertia:!Ob,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ud=Vc.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new _c(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}oa(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){pa(this._map._container,"leaflet-grab"),pa(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var b=z(this._map.options.maxBounds);this._offsetLimit=x(this._map.latLngToContainerPoint(b.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(b.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var b=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(b),this._prunePositions(b)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),b=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=b.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,b){return a-(a-b)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var a=this._draggable._newPos.subtract(this._draggable._startPos),b=this._offsetLimit;a.x<b.min.x&&(a.x=this._viscousLimit(a.x,b.min.x)),a.y<b.min.y&&(a.y=this._viscousLimit(a.y,b.min.y)),a.x>b.max.x&&(a.x=this._viscousLimit(a.x,b.max.x)),a.y>b.max.y&&(a.y=this._viscousLimit(a.y,b.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,b=Math.round(a/2),c=this._initialWorldOffset,d=this._draggable._newPos.x,e=(d-b+c)%a+b-c,f=(d+b+c)%a-b-c,g=Math.abs(e+c)<Math.abs(f+c)?e:f;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=g},_onDragEnd:function(a){var b=this._map,c=b.options,d=!c.inertia||this._times.length<2;if(b.fire("dragend",a),d)b.fire("moveend");else{this._prunePositions(+new Date);var e=this._lastPos.subtract(this._positions[0]),f=(this._lastTime-this._times[0])/1e3,g=c.easeLinearity,h=e.multiplyBy(g/f),i=h.distanceTo([0,0]),j=Math.min(c.inertiaMaxSpeed,i),k=h.multiplyBy(j/i),l=j/(c.inertiaDeceleration*g),m=k.multiplyBy(-l/2).round();m.x||m.y?(m=b._limitOffset(m,b.options.maxBounds),q(function(){b.panBy(m,{duration:l,easeLinearity:g,noMoveStart:!0,animate:!0})})):b.fire("moveend")}}});Kc.addInitHook("addHandler","dragging",Ud),Kc.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Vd=Vc.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),T(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),U(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,b=document.documentElement,c=a.scrollTop||b.scrollTop,d=a.scrollLeft||b.scrollLeft;this._map._container.focus(),window.scrollTo(d,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var b,c,d=this._panKeys={},e=this.keyCodes;for(b=0,c=e.left.length;b<c;b++)d[e.left[b]]=[-1*a,0];for(b=0,c=e.right.length;b<c;b++)d[e.right[b]]=[a,0];for(b=0,c=e.down.length;b<c;b++)d[e.down[b]]=[0,a];for(b=0,c=e.up.length;b<c;b++)d[e.up[b]]=[0,-1*a]},_setZoomDelta:function(a){var b,c,d=this._zoomKeys={},e=this.keyCodes;for(b=0,c=e.zoomIn.length;b<c;b++)d[e.zoomIn[b]]=a;for(b=0,c=e.zoomOut.length;b<c;b++)d[e.zoomOut[b]]=-a},_addHooks:function(){T(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){U(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var b,c=a.keyCode,d=this._map;if(c in this._panKeys){if(d._panAnim&&d._panAnim._inProgress)return;b=this._panKeys[c],a.shiftKey&&(b=v(b).multiplyBy(3)),d.panBy(b),d.options.maxBounds&&d.panInsideBounds(d.options.maxBounds)}else if(c in this._zoomKeys)d.setZoom(d.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else{if(27!==c||!d._popup||!d._popup.options.closeOnEscapeKey)return;d.closePopup()}_(a)}}});Kc.addInitHook("addHandler","keyboard",Vd),Kc.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Wd=Vc.extend({addHooks:function(){T(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){U(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var b=ba(a),d=this._map.options.wheelDebounceTime;this._delta+=b,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var e=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),e),_(a)},_performZoom:function(){var a=this._map,b=a.getZoom(),c=this._map.options.zoomSnap||0;a._stop();var d=this._delta/(4*this._map.options.wheelPxPerZoomLevel),e=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,f=c?Math.ceil(e/c)*c:e,g=a._limitZoom(b+(this._delta>0?f:-f))-b;this._delta=0,this._startTime=null,g&&("center"===a.options.scrollWheelZoom?a.setZoom(b+g):a.setZoomAround(this._lastMousePos,b+g))}});Kc.addInitHook("addHandler","scrollWheelZoom",Wd),Kc.mergeOptions({tap:!0,tapTolerance:15});var Xd=Vc.extend({addHooks:function(){T(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){U(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(a.touches){if($(a),this._fireClick=!0,a.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var b=a.touches[0],d=b.target;this._startPos=this._newPos=new u(b.clientX,b.clientY),d.tagName&&"a"===d.tagName.toLowerCase()&&oa(d,"leaflet-active"),this._holdTimeout=setTimeout(c(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",b))},this),1e3),this._simulateEvent("mousedown",b),T(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(a){if(clearTimeout(this._holdTimeout),U(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&a&&a.changedTouches){var b=a.changedTouches[0],c=b.target;c&&c.tagName&&"a"===c.tagName.toLowerCase()&&pa(c,"leaflet-active"),this._simulateEvent("mouseup",b),this._isTapValid()&&this._simulateEvent("click",b)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(a){var b=a.touches[0];this._newPos=new u(b.clientX,b.clientY),this._simulateEvent("mousemove",b)},_simulateEvent:function(a,b){var c=document.createEvent("MouseEvents");c._simulated=!0,b.target._simulatedClick=!0,c.initMouseEvent(a,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null),b.target.dispatchEvent(c)}});fc&&!ec&&Kc.addInitHook("addHandler","tap",Xd),Kc.mergeOptions({touchZoom:fc&&!Ob,bounceAtZoomLimits:!0});var Yd=Vc.extend({addHooks:function(){oa(this._map._container,"leaflet-touch-zoom"),T(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){pa(this._map._container,"leaflet-touch-zoom"),U(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var b=this._map;if(a.touches&&2===a.touches.length&&!b._animatingZoom&&!this._zooming){var c=b.mouseEventToContainerPoint(a.touches[0]),d=b.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=b.getSize()._divideBy(2),this._startLatLng=b.containerPointToLatLng(this._centerPoint),"center"!==b.options.touchZoom&&(this._pinchStartLatLng=b.containerPointToLatLng(c.add(d)._divideBy(2))),this._startDist=c.distanceTo(d),this._startZoom=b.getZoom(),this._moved=!1,this._zooming=!0,b._stop(),T(document,"touchmove",this._onTouchMove,this),T(document,"touchend",this._onTouchEnd,this),$(a)}},_onTouchMove:function(a){if(a.touches&&2===a.touches.length&&this._zooming){var b=this._map,d=b.mouseEventToContainerPoint(a.touches[0]),e=b.mouseEventToContainerPoint(a.touches[1]),f=d.distanceTo(e)/this._startDist;if(this._zoom=b.getScaleZoom(f,this._startZoom),!b.options.bounceAtZoomLimits&&(this._zoom<b.getMinZoom()&&f<1||this._zoom>b.getMaxZoom()&&f>1)&&(this._zoom=b._limitZoom(this._zoom)),"center"===b.options.touchZoom){if(this._center=this._startLatLng,1===f)return}else{var g=d._add(e)._divideBy(2)._subtract(this._centerPoint);if(1===f&&0===g.x&&0===g.y)return;this._center=b.unproject(b.project(this._pinchStartLatLng,this._zoom).subtract(g),this._zoom)}this._moved||(b._moveStart(!0,!1),this._moved=!0),r(this._animRequest);var h=c(b._move,b,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=q(h,this,!0),$(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);this._zooming=!1,r(this._animRequest),U(document,"touchmove",this._onTouchMove),U(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Kc.addInitHook("addHandler","touchZoom",Yd),Kc.BoxZoom=Sd,Kc.DoubleClickZoom=Td,Kc.Drag=Ud,Kc.Keyboard=Vd,Kc.ScrollWheelZoom=Wd,Kc.Tap=Xd,Kc.TouchZoom=Yd;var Zd=window.L;window.L=a,Object.freeze=mb,a.version="1.3.1",a.noConflict=lb,a.Control=Lc,a.control=Mc,a.Browser=mc,a.Evented=xb,a.Mixin=Xc,a.Util=vb,a.Class=s,a.Handler=Vc,a.extend=b,a.bind=c,a.stamp=d,a.setOptions=k,a.DomEvent=Bc,a.DomUtil=Ic,a.PosAnimation=Jc,a.Draggable=_c,a.LineUtil=ad,a.PolyUtil=bd,a.Point=u,a.point=v,a.Bounds=w,a.bounds=x,a.Transformation=C,a.transformation=D,a.Projection=ed,a.LatLng=A,a.latLng=B,a.LatLngBounds=y,a.latLngBounds=z,a.CRS=zb,a.GeoJSON=wd,a.geoJSON=cb,a.geoJson=yd,a.Layer=id,a.LayerGroup=jd,a.layerGroup=kd,a.FeatureGroup=ld,a.featureGroup=md,a.ImageOverlay=zd,a.imageOverlay=Ad,a.VideoOverlay=Bd,a.videoOverlay=db,a.DivOverlay=Cd,a.Popup=Dd,a.popup=Ed,a.Tooltip=Fd,a.tooltip=Gd,a.Icon=nd,a.icon=Ra,a.DivIcon=Hd,a.divIcon=eb,a.Marker=qd,a.marker=Sa,a.TileLayer=Jd,a.tileLayer=gb,a.GridLayer=Id,a.gridLayer=fb,a.SVG=Qd,a.svg=jb,a.Renderer=Ld,a.Canvas=Md,a.canvas=ib,a.Path=rd,a.CircleMarker=sd,a.circleMarker=Ta,a.Circle=td,a.circle=Ua,a.Polyline=ud,a.polyline=Va,a.Polygon=vd,a.polygon=Wa,a.Rectangle=Rd,a.rectangle=kb,a.Map=Kc,a.map=Ca})},{}],118:[function(a,b,c){(function(a){function c(a,b,c){function e(b){var c=p,d=q;return p=q=void 0,y=b,s=a.apply(d,c)}function f(a){return y=a,t=setTimeout(k,b),z?e(a):s}function i(a){var c=a-x,d=a-y,e=b-c;return A?v(e,r-d):e}
function j(a){var c=a-x,d=a-y;return void 0===x||c>=b||c<0||A&&d>=r}function k(){var a=w();if(j(a))return l(a);t=setTimeout(k,i(a))}function l(a){return t=void 0,B&&p?e(a):(p=q=void 0,s)}function m(){void 0!==t&&clearTimeout(t),y=0,p=x=q=t=void 0}function n(){return void 0===t?s:l(w())}function o(){var a=w(),c=j(a);if(p=arguments,q=this,x=a,c){if(void 0===t)return f(x);if(A)return t=setTimeout(k,b),e(x)}return void 0===t&&(t=setTimeout(k,b)),s}var p,q,r,s,t,x,y=0,z=!1,A=!1,B=!0;if("function"!=typeof a)throw new TypeError(h);return b=g(b)||0,d(c)&&(z=!!c.leading,A="maxWait"in c,r=A?u(g(c.maxWait)||0,b):r,B="trailing"in c?!!c.trailing:B),o.cancel=m,o.flush=n,o}function d(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function e(a){return!!a&&"object"==typeof a}function f(a){return"symbol"==typeof a||e(a)&&t.call(a)==j}function g(a){if("number"==typeof a)return a;if(f(a))return i;if(d(a)){var b="function"==typeof a.valueOf?a.valueOf():a;a=d(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(k,"");var c=m.test(a);return c||n.test(a)?o(a.slice(2),c?2:8):l.test(a)?i:+a}var h="Expected a function",i=NaN,j="[object Symbol]",k=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,n=/^0o[0-7]+$/i,o=parseInt,p="object"==typeof a&&a&&a.Object===Object&&a,q="object"==typeof self&&self&&self.Object===Object&&self,r=p||q||Function("return this")(),s=Object.prototype,t=s.toString,u=Math.max,v=Math.min,w=function(){return r.Date.now()};b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],119:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,c=void 0,e=[],f=void 0,g=!1,h=function(a,c){return b(a,e[c])};return function(){for(var b=arguments.length,d=Array(b),i=0;i<b;i++)d[i]=arguments[i];return g&&c===this&&d.length===e.length&&d.every(h)?f:(g=!0,c=this,e=d,f=a.apply(this,d))}};var d=function(a,b){return a===b}},{}],120:[function(a,b,c){"use strict";function d(a,b){if(Function.prototype.$asyncspawn||Object.defineProperty(Function.prototype,"$asyncspawn",{value:d,enumerable:!1,configurable:!0,writable:!0}),this instanceof Function){var c=this;return new a(function(a,d){function e(b,c){var g;try{if(g=b.call(f,c),g.done){if(g.value!==a){if(g.value&&g.value===g.value.then)return g.value(a,d);a&&a(g.value),a=null}return}g.value.then?g.value.then(function(a){e(f.next,a)},function(a){e(f.throw,a)}):e(f.next,g.value)}catch(a){return d&&d(a),void(d=null)}}var f=c.call(b,a,d);e(f.next)})}}var e=function(a,b){for(var c=b.toString(),d="return "+c,e=c.match(/.*\(([^)]*)\)/)[1],f=/['"]!!!([^'"]*)['"]/g,g=[];;){var h=f.exec(d);if(!h)break;g.push(h)}return g.reverse().forEach(function(b){d=d.slice(0,b.index)+a[b[1]]+d.substr(b.index+b[0].length)}),d=d.replace(/\/\*[^*]*\*\//g," ").replace(/\s+/g," "),new Function(e,d)()}({zousan:a("./zousan").toString(),thenable:a("./thenableFactory").toString()},function a(b,c){function d(){return e.apply(b,arguments)}Function.prototype.$asyncbind||Object.defineProperty(Function.prototype,"$asyncbind",{value:a,enumerable:!1,configurable:!0,writable:!0}),a.trampoline||(a.trampoline=function(a,b,c,d,e){return function f(g){for(;g;){if(g.then)return g=g.then(f,d),e?void 0:g;try{if(g.pop){if(g.length)return g.pop()?b.call(a):g;g=c}else g=g.call(a)}catch(a){return d(a)}}}}),a.LazyThenable||(a.LazyThenable="!!!thenable"(),a.EagerThenable=a.Thenable=(a.EagerThenableFactory="!!!zousan")());var e=this;switch(c){case!0:return new a.Thenable(d);case 0:return new a.LazyThenable(d);case void 0:return d.then=d,d;default:return function(){try{return e.apply(b,arguments)}catch(a){return c(a)}}}});e(),d(),b.exports={$asyncbind:e,$asyncspawn:d}},{"./thenableFactory":121,"./zousan":122}],121:[function(a,b,c){b.exports=function(){function a(a){return a&&a instanceof Object&&"function"==typeof a.then}function b(c,d,e){try{var f=e?e(d):d;if(c===f)return c.reject(new TypeError("Promise resolution loop"));a(f)?f.then(function(a){b(c,a)},function(a){c.reject(a)}):c.resolve(f)}catch(a){c.reject(a)}}function c(a){}function d(a,b){this.resolve=a,this.reject=b}function e(){}function f(c,d){var f=new e;try{this._resolver(function(e){return a(e)?e.then(c,d):b(f,e,c)},function(a){b(f,a,d)})}catch(a){b(f,a,d)}return f}function g(a){this._resolver=a,this.then=f}return e.prototype={resolve:c,reject:c,then:d},g.resolve=function(a){return g.isThenable(a)?a:{then:function(b){return b(a)}}},g.isThenable=a,g}},{}],122:[function(a,b,c){(function(a,c){"use strict";b.exports=function(b){function d(a){if(a){var b=this;a(function(a){b.resolve(a)},function(a){b.reject(a)})}}function e(a,b){if("function"==typeof a.y)try{var c=a.y.call(void 0,b);a.p.resolve(c)}catch(b){a.p.reject(b)}else a.p.resolve(b)}function f(a,b){if("function"==typeof a.n)try{var c=a.n.call(void 0,b);a.p.resolve(c)}catch(b){a.p.reject(b)}else a.p.reject(b)}b=b||"object"==typeof a&&a.nextTick||"function"==typeof c&&c||function(a){setTimeout(a,0)};var g=function(){function a(){for(;c.length-d;){try{c[d]()}catch(a){}c[d++]=void 0,d===e&&(c.splice(0,e),d=0)}}var c=[],d=0,e=1024;return function(e){c.push(e),c.length-d==1&&b(a)}}();return d.prototype={resolve:function(a){if(void 0===this.state){if(a===this)return this.reject(new TypeError("Attempt to resolve promise with self"));var b=this;if(a&&("function"==typeof a||"object"==typeof a))try{var c=0,d=a.then;if("function"==typeof d)return void d.call(a,function(a){c++||b.resolve(a)},function(a){c++||b.reject(a)})}catch(a){return void(c||this.reject(a))}this.state=e,this.v=a,b.c&&g(function(){for(var c=0,d=b.c.length;c<d;c++)e(b.c[c],a)})}},reject:function(a){if(void 0===this.state){this.state=f,this.v=a;var b=this.c;b&&g(function(){for(var c=0,d=b.length;c<d;c++)f(b[c],a)})}},then:function(a,b){var c=new d,e={y:a,n:b,p:c};if(void 0===this.state)this.c?this.c.push(e):this.c=[e];else{var f=this.state,h=this.v;g(function(){f(e,h)})}return c}},d.resolve=function(a){if(a&&a instanceof d)return a;var b=new d;return b.resolve(a),b},d.reject=function(a){if(a&&a instanceof d)return a;var b=new d;return b.reject(a),b},d.version="2.3.3-nodent",d}}).call(this,a("_process"),a("timers").setImmediate)},{_process:126,timers:179}],123:[function(a,b,c){"use strict";function d(a){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}var e=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;b.exports=function(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de","5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},c=0;c<10;c++)b["_"+String.fromCharCode(c)]=c;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(a){d[a]=a}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},d)).join("")}catch(a){return!1}}()?Object.assign:function(a,b){for(var c,h,i=d(a),j=1;j<arguments.length;j++){c=Object(arguments[j]);for(var k in c)f.call(c,k)&&(i[k]=c[k]);if(e){h=e(c);for(var l=0;l<h.length;l++)g.call(c,h[l])&&(i[h[l]]=c[h[l]])}}return i}},{}],124:[function(a,b,c){(function(a){function b(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function d(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,f=function(a){return e.exec(a).slice(1)};c.resolve=function(){for(var c="",e=!1,f=arguments.length-1;f>=-1&&!e;f--){var g=f>=0?arguments[f]:a.cwd();if("string"!=typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(c=g+"/"+c,e="/"===g.charAt(0))}return c=b(d(c.split("/"),function(a){return!!a}),!e).join("/"),(e?"/":"")+c||"."},c.normalize=function(a){var e=c.isAbsolute(a),f="/"===g(a,-1);return a=b(d(a.split("/"),function(a){return!!a}),!e).join("/"),a||e||(a="."),a&&f&&(a+="/"),(e?"/":"")+a},c.isAbsolute=function(a){return"/"===a.charAt(0)},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(d(a,function(a,b){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},c.relative=function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=c.resolve(a).substr(1),b=c.resolve(b).substr(1);for(var e=d(a.split("/")),f=d(b.split("/")),g=Math.min(e.length,f.length),h=g,i=0;i<g;i++)if(e[i]!==f[i]){h=i;break}for(var j=[],i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")},c.sep="/",c.delimiter=":",c.dirname=function(a){var b=f(a),c=b[0],d=b[1];return c||d?(d&&(d=d.substr(0,d.length-1)),c+d):"."},c.basename=function(a,b){var c=f(a)[2];return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return f(a)[3]};var g="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){return b<0&&(b=a.length+b),a.substr(b,c)}}).call(this,a("_process"))},{_process:126}],125:[function(a,b,c){(function(a){(function(){var c,d,e;"undefined"!=typeof performance&&null!==performance&&performance.now?b.exports=function(){return performance.now()}:void 0!==a&&null!==a&&a.hrtime?(b.exports=function(){return(c()-e)/1e6},d=a.hrtime,c=function(){var a;return a=d(),1e9*a[0]+a[1]},e=c()):Date.now?(b.exports=function(){return Date.now()-e},e=Date.now()):(b.exports=function(){return(new Date).getTime()-e},e=(new Date).getTime())}).call(this)}).call(this,a("_process"))},{_process:126}],126:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],127:[function(a,b,c){(function(c){"use strict";function d(a,b,d,i,j){if("production"!==c.env.NODE_ENV)for(var k in a)if(a.hasOwnProperty(k)){var l;try{e("function"==typeof a[k],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",i||"React class",d,k,typeof a[k]),l=a[k](b,k,i,d,null,g)}catch(a){l=a}if(f(!l||l instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",i||"React class",d,k,typeof l),l instanceof Error&&!(l.message in h)){h[l.message]=!0;var m=j?j():"";f(!1,"Failed %s type: %s%s",d,l.message,null!=m?m:"")}}}if("production"!==c.env.NODE_ENV)var e=a("fbjs/lib/invariant"),f=a("fbjs/lib/warning"),g=a("./lib/ReactPropTypesSecret"),h={};b.exports=d}).call(this,a("_process"))},{"./lib/ReactPropTypesSecret":131,_process:126,"fbjs/lib/invariant":96,"fbjs/lib/warning":97}],128:[function(a,b,c){"use strict";var d=a("fbjs/lib/emptyFunction"),e=a("fbjs/lib/invariant"),f=a("./lib/ReactPropTypesSecret");b.exports=function(){function a(a,b,c,d,g,h){h!==f&&e(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function b(){return a}a.isRequired=a;var c={array:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b};return c.checkPropTypes=d,c.PropTypes=c,c}},{"./lib/ReactPropTypesSecret":131,"fbjs/lib/emptyFunction":95,"fbjs/lib/invariant":96}],129:[function(a,b,c){(function(c){"use strict";var d=a("fbjs/lib/emptyFunction"),e=a("fbjs/lib/invariant"),f=a("fbjs/lib/warning"),g=a("object-assign"),h=a("./lib/ReactPropTypesSecret"),i=a("./checkPropTypes");b.exports=function(a,b){function j(a){var b=a&&(B&&a[B]||a[C]);if("function"==typeof b)return b}function k(a,b){return a===b?0!==a||1/a==1/b:a!==a&&b!==b}function l(a){this.message=a,this.stack=""}function m(a){function d(d,j,k,m,n,o,p){if(m=m||D,o=o||k,p!==h)if(b)e(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==c.env.NODE_ENV&&"undefined"!=typeof console){var q=m+":"+k;!g[q]&&i<3&&(f(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",o,m),g[q]=!0,i++)}return null==j[k]?d?new l(null===j[k]?"The "+n+" `"+o+"` is marked as required in `"+m+"`, but its value is `null`.":"The "+n+" `"+o+"` is marked as required in `"+m+"`, but its value is `undefined`."):null:a(j,k,m,n,o)}if("production"!==c.env.NODE_ENV)var g={},i=0;var j=d.bind(null,!1);return j.isRequired=d.bind(null,!0),j}function n(a){function b(b,c,d,e,f,g){var h=b[c];if(x(h)!==a)return new l("Invalid "+e+" `"+f+"` of type `"+y(h)+"` supplied to `"+d+"`, expected `"+a+"`.");return null}return m(b)}function o(a){function b(b,c,d,e,f){if("function"!=typeof a)return new l("Property `"+f+"` of component `"+d+"` has invalid PropType notation inside arrayOf.");var g=b[c];if(!Array.isArray(g)){return new l("Invalid "+e+" `"+f+"` of type `"+x(g)+"` supplied to `"+d+"`, expected an array.")}for(var i=0;i<g.length;i++){var j=a(g,i,d,e,f+"["+i+"]",h);if(j instanceof Error)return j}return null}return m(b)}function p(a){function b(b,c,d,e,f){if(!(b[c]instanceof a)){var g=a.name||D;return new l("Invalid "+e+" `"+f+"` of type `"+A(b[c])+"` supplied to `"+d+"`, expected instance of `"+g+"`.")}return null}return m(b)}function q(a){function b(b,c,d,e,f){for(var g=b[c],h=0;h<a.length;h++)if(k(g,a[h]))return null;return new l("Invalid "+e+" `"+f+"` of value `"+g+"` supplied to `"+d+"`, expected one of "+JSON.stringify(a)+".")}return Array.isArray(a)?m(b):("production"!==c.env.NODE_ENV&&f(!1,"Invalid argument supplied to oneOf, expected an instance of array."),d.thatReturnsNull)}function r(a){function b(b,c,d,e,f){if("function"!=typeof a)return new l("Property `"+f+"` of component `"+d+"` has invalid PropType notation inside objectOf.");var g=b[c],i=x(g);if("object"!==i)return new l("Invalid "+e+" `"+f+"` of type `"+i+"` supplied to `"+d+"`, expected an object.");for(var j in g)if(g.hasOwnProperty(j)){var k=a(g,j,d,e,f+"."+j,h);if(k instanceof Error)return k}return null}return m(b)}function s(a){function b(b,c,d,e,f){for(var g=0;g<a.length;g++){if(null==(0,a[g])(b,c,d,e,f,h))return null}return new l("Invalid "+e+" `"+f+"` supplied to `"+d+"`.")}if(!Array.isArray(a))return"production"!==c.env.NODE_ENV&&f(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),d.thatReturnsNull;for(var e=0;e<a.length;e++){var g=a[e];if("function"!=typeof g)return f(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",z(g),e),d.thatReturnsNull}return m(b)}function t(a){function b(b,c,d,e,f){var g=b[c],i=x(g);if("object"!==i)return new l("Invalid "+e+" `"+f+"` of type `"+i+"` supplied to `"+d+"`, expected `object`.");for(var j in a){var k=a[j];if(k){var m=k(g,j,d,e,f+"."+j,h);if(m)return m}}return null}return m(b)}function u(a){function b(b,c,d,e,f){var i=b[c],j=x(i);if("object"!==j)return new l("Invalid "+e+" `"+f+"` of type `"+j+"` supplied to `"+d+"`, expected `object`.");var k=g({},b[c],a);for(var m in k){var n=a[m];if(!n)return new l("Invalid "+e+" `"+f+"` key `"+m+"` supplied to `"+d+"`.\nBad object: "+JSON.stringify(b[c],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(a),null,"  "));var o=n(i,m,d,e,f+"."+m,h);if(o)return o}return null}return m(b)}function v(b){switch(typeof b){case"number":case"string":case"undefined":return!0;case"boolean":return!b;case"object":if(Array.isArray(b))return b.every(v);if(null===b||a(b))return!0;var c=j(b);if(!c)return!1;var d,e=c.call(b);if(c!==b.entries){for(;!(d=e.next()).done;)if(!v(d.value))return!1}else for(;!(d=e.next()).done;){var f=d.value;if(f&&!v(f[1]))return!1}return!0;default:return!1}}function w(a,b){return"symbol"===a||("Symbol"===b["@@toStringTag"]||"function"==typeof Symbol&&b instanceof Symbol)}function x(a){var b=typeof a;return Array.isArray(a)?"array":a instanceof RegExp?"object":w(b,a)?"symbol":b}function y(a){if(void 0===a||null===a)return""+a;var b=x(a);if("object"===b){if(a instanceof Date)return"date";if(a instanceof RegExp)return"regexp"}return b}function z(a){var b=y(a);switch(b){case"array":case"object":return"an "+b;case"boolean":case"date":case"regexp":return"a "+b;default:return b}}function A(a){return a.constructor&&a.constructor.name?a.constructor.name:D}var B="function"==typeof Symbol&&Symbol.iterator,C="@@iterator",D="<<anonymous>>",E={array:n("array"),bool:n("boolean"),func:n("function"),number:n("number"),object:n("object"),string:n("string"),symbol:n("symbol"),any:function(){return m(d.thatReturnsNull)}(),arrayOf:o,element:function(){function b(b,c,d,e,f){var g=b[c];if(!a(g)){return new l("Invalid "+e+" `"+f+"` of type `"+x(g)+"` supplied to `"+d+"`, expected a single ReactElement.")}return null}return m(b)}(),instanceOf:p,node:function(){function a(a,b,c,d,e){return v(a[b])?null:new l("Invalid "+d+" `"+e+"` supplied to `"+c+"`, expected a ReactNode.")}return m(a)}(),objectOf:r,oneOf:q,oneOfType:s,shape:t,exact:u};return l.prototype=Error.prototype,E.checkPropTypes=i,E.PropTypes=E,E}}).call(this,a("_process"))},{"./checkPropTypes":127,"./lib/ReactPropTypesSecret":131,_process:126,"fbjs/lib/emptyFunction":95,"fbjs/lib/invariant":96,"fbjs/lib/warning":97,"object-assign":123}],130:[function(a,b,c){(function(c){if("production"!==c.env.NODE_ENV){var d="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,e=function(a){return"object"==typeof a&&null!==a&&a.$$typeof===d};b.exports=a("./factoryWithTypeCheckers")(e,!0)}else b.exports=a("./factoryWithThrowingShims")()}).call(this,a("_process"))},{"./factoryWithThrowingShims":128,"./factoryWithTypeCheckers":129,_process:126}],131:[function(a,b,c){"use strict";b.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},{}],132:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(a){var b=[],c=null,d=function(){for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return b=e,c||(c=requestAnimationFrame(function(){c=null,a.apply(void 0,b)}))};return d.cancel=function(){c&&(cancelAnimationFrame(c),c=null)},d}},{}],133:[function(a,b,c){(function(c){for(var d=a("performance-now"),e="undefined"==typeof window?c:window,f=["moz","webkit"],g="AnimationFrame",h=e["request"+g],i=e["cancel"+g]||e["cancelRequest"+g],j=0;!h&&j<f.length;j++)h=e[f[j]+"Request"+g],i=e[f[j]+"Cancel"+g]||e[f[j]+"CancelRequest"+g];if(!h||!i){var k=0,l=0,m=[];h=function(a){if(0===m.length){var b=d(),c=Math.max(0,1e3/60-(b-k));k=c+b,setTimeout(function(){var a=m.slice(0);m.length=0;for(var b=0;b<a.length;b++)if(!a[b].cancelled)try{a[b].callback(k)}catch(a){setTimeout(function(){throw a},0)}},Math.round(c))}return m.push({handle:++l,callback:a,cancelled:!1}),l},i=function(a){for(var b=0;b<m.length;b++)m[b].handle===a&&(m[b].cancelled=!0)}}b.exports=function(a){return h.call(e,a)},b.exports.cancel=function(){i.apply(e,arguments)},b.exports.polyfill=function(a){a||(a=e),a.requestAnimationFrame=h,a.cancelAnimationFrame=i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":134}],134:[function(a,b,c){(function(a){(function(){var c,d,e,f,g,h;"undefined"!=typeof performance&&null!==performance&&performance.now?b.exports=function(){return performance.now()}:void 0!==a&&null!==a&&a.hrtime?(b.exports=function(){return(c()-g)/1e6},d=a.hrtime,c=function(){var a;return a=d(),1e9*a[0]+a[1]},f=c(),h=1e9*a.uptime(),g=f-h):Date.now?(b.exports=function(){return Date.now()-e},e=Date.now()):(b.exports=function(){return(new Date).getTime()-e},e=(new Date).getTime())}).call(this)}).call(this,a("_process"))},{_process:126}],135:[function(a,b,c){(function(b){"use strict";function d(a){return a&&"object"==typeof a&&"default"in a?a.default:a}Object.defineProperty(c,"__esModule",{value:!0});var e,f=a("css-box-model"),g=d(a("babel-runtime/core-js/object/keys")),h=d(a("memoize-one")),i=d(a("babel-runtime/helpers/extends")),j=d(a("tiny-invariant")),k=d(a("babel-runtime/helpers/typeof")),l=a("redux"),m=d(a("redux-thunk")),n=d(a("babel-runtime/core-js/object/assign")),o=d(a("raf-schd")),p=d(a("babel-runtime/helpers/classCallCheck")),q=d(a("babel-runtime/helpers/possibleConstructorReturn")),r=d(a("babel-runtime/helpers/inherits")),s="undefined"!=typeof window?window.React:void 0!==b?b.React:null,t=d(s),u=d(a("prop-types")),v=a("reselect"),w=a("react-redux"),x=a("react-motion"),y=function(a,b){return{x:a.x+b.x,y:a.y+b.y}},z=function(a,b){return{x:a.x-b.x,y:a.y-b.y}},A=function(a,b){return a.x===b.x&&a.y===b.y},B=function(a){return{x:0!==a.x?-a.x:0,y:0!==a.y?-a.y:0}},C=function(a){return{x:Math.abs(a.x),y:Math.abs(a.y)}},D=function(a,b){var c,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return c={},c[a]=b,c["x"===a?"y":"x"]=d,c},E=function(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))},F=function(a,b){return Math.min.apply(Math,b.map(function(b){return E(a,b)}))},G=function(a){return function(b){return{x:a(b.x),y:a(b.y)}}},H={x:0,y:0},I={displaced:[],amount:H,isBeyondStartPosition:!1},J={movement:I,direction:null,destination:null},K=h(function(a,b){return g(b).map(function(a){return b[a]}).filter(function(b){return a.descriptor.id===b.descriptor.droppableId}).sort(function(a,b){return a.descriptor.index-b.descriptor.index})}),L=function(a,b){return function(c){return c<=b&&c>=a}},M=function(a){var b=L(a.top,a.bottom),c=L(a.left,a.right);return function(a){return b(a.y)&&b(a.y)&&c(a.x)&&c(a.x)}},N=function(a,b){return{top:a.top+b.y,left:a.left+b.x,bottom:a.bottom+b.y,right:a.right+b.x}},O=function(a,b){return{top:a.top-b.y,left:a.left-b.x,right:a.right+b.x,bottom:a.bottom+b.y}},P=function(a){return[{x:a.left,y:a.top},{x:a.right,y:a.top},{x:a.left,y:a.bottom},{x:a.right,y:a.bottom}]},Q={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},R={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},S=function(a){var b=a.scrollHeight,c=a.scrollWidth,d=a.height,e=a.width,f=z({x:c,y:b},{x:e,y:d});return{x:Math.max(0,f.x),y:Math.max(0,f.y)}},T=function(a,b){var c=f.getRect({top:Math.max(b.top,a.top),right:Math.min(b.right,a.right),bottom:Math.min(b.bottom,a.bottom),left:Math.max(b.left,a.left)});return c.width<=0||c.height<=0?null:c},U={x:0,y:0},V=function(a){var b=a.descriptor,c=a.isEnabled,d=a.direction,e=a.client,f=a.page,g=a.closest,h=function(){if(!g)return null;var a=S({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:g.client.paddingBox.height,width:g.client.paddingBox.width});return{framePageMarginBox:g.page.marginBox,shouldClipSubject:g.shouldClipSubject,scroll:{initial:g.scroll,current:g.scroll,max:a,diff:{value:U,displacement:U}}}}(),i=f.marginBox,j=h&&h.shouldClipSubject?T(h.framePageMarginBox,i):i,k={closestScrollable:h,subjectPageMarginBox:i,clippedPageMarginBox:j};return{descriptor:b,axis:"vertical"===d?Q:R,isEnabled:c,client:e,page:f,viewport:k}},W=function(a,b){j(a.viewport.closestScrollable);var c=a.viewport.closestScrollable,d=c.framePageMarginBox,e=z(b,c.scroll.initial),g=B(e),h={framePageMarginBox:c.framePageMarginBox,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll.initial,current:b,diff:{value:e,displacement:g},max:c.scroll.max}},k=N(a.viewport.subjectPageMarginBox,g),l=h.shouldClipSubject?T(d,k):f.getRect(k),m={closestScrollable:h,subjectPageMarginBox:a.viewport.subjectPageMarginBox,clippedPageMarginBox:l};return i({},a,{viewport:m})},X=h(function(a,b,c){var d=function(b){var d=a.page.marginBox[c.axis.size];return d<=b?null:D(c.axis.line,d-b)},e=K(c,b);if(!e.length){return d(c.page.marginBox[c.axis.size])}var f=e[e.length-1].page.marginBox[c.axis.end];return d(c.page.marginBox[c.axis.end]-f)}),Y=h(function(a,b){return f.getRect(O(a,b))}),Z=function(a){var b=a.draggable,c=a.draggables,d=a.droppable,e=a.previousDroppableOverId,f=b.descriptor.droppableId===d.descriptor.id,g=Boolean(e&&e===d.descriptor.id),h=d.viewport.clippedPageMarginBox;if(!h)return h;if(f||!g)return h;var i=X(b,c,d);if(!i)return h;var j=Y(h,i),k=d.viewport.closestScrollable;return k&&k.shouldClipSubject?T(k.framePageMarginBox,j):j},$=function(a){var b=a.target,c=a.draggable,d=a.draggables,e=a.droppables,f=a.previousDroppableOverId,h=g(e).map(function(a){return e[a]}).filter(function(a){return a.isEnabled}).find(function(a){var e=Z({draggable:c,draggables:d,droppable:a,previousDroppableOverId:f});return!!e&&M(e)(b)});return h?h.descriptor.id:null},_=h(function(a){return a.reduce(function(a,b){return a[b.draggableId]=b,a},{})}),aa=function(a){var b=L(a.top,a.bottom),c=L(a.left,a.right);return function(d){if(b(d.top)&&b(d.bottom)&&c(d.left)&&c(d.right))return!0;var e=b(d.top)||b(d.bottom),f=c(d.left)||c(d.right);if(e&&f)return!0;var g=d.top<a.top&&d.bottom>a.bottom,h=d.left<a.left&&d.right>a.right;return!(!g||!h)||(g&&f||h&&e)}},ba=function(a){var b=L(a.top,a.bottom),c=L(a.left,a.right);return function(a){return b(a.top)&&b(a.bottom)&&c(a.left)&&c(a.right)}},ca={x:0,y:0},da=function(a){var b=a.target,c=a.destination,d=a.viewport,e=a.isVisibleThroughFrameFn,f=c.viewport.closestScrollable?c.viewport.closestScrollable.scroll.diff.displacement:ca,g=N(b,f);if(!c.viewport.clippedPageMarginBox)return!1;var h=e(c.viewport.clippedPageMarginBox)(g),i=e(d)(g);return h&&i},ea=function(a){var b=a.target,c=a.destination,d=a.viewport;return da({target:b,destination:c,viewport:d,isVisibleThroughFrameFn:aa})},fa=function(a){var b=a.target,c=a.destination,d=a.viewport;return da({target:b,destination:c,viewport:d,isVisibleThroughFrameFn:ba})},ga=function(a){var b=a.draggable,c=a.destination,d=a.previousImpact,e=a.viewport,f=b.descriptor.id,g=_(d.movement.displaced),h=ea({target:b.page.marginBox,destination:c,viewport:e}),i=function(){if(!h)return!1;var a=g[f];return!a||a.shouldAnimate}();return{draggableId:f,isVisible:h,shouldAnimate:i}},ha=function(a,b){var c=a.viewport.closestScrollable;return c?y(b,c.scroll.diff.value):b},ia=function(a){var b=a.pageBorderBoxCenter,c=a.draggable,d=a.home,e=a.insideHome,f=a.previousImpact,g=a.viewport,h=d.axis,i=c.page.borderBox.center,j=ha(d,b),k=j[h.line]-i[h.line]>0,l=D(h.line,c.client.marginBox[h.size]),m=e.filter(function(a){if(a===c)return!1;var b=a.page.borderBox;return k?!(b.center[h.line]<i[h.line])&&j[h.line]>b[h.start]:!(i[h.line]<b.center[h.line])&&j[h.line]<b[h.end]}).map(function(a){return ga({draggable:a,destination:d,previousImpact:f,viewport:g.subject})}),n=k?m.reverse():m,o=function(){var a=e.indexOf(c),b=n.length;return b?k?a+b:a-b:a}();return{movement:{amount:l,displaced:n,isBeyondStartPosition:k},direction:h.direction,destination:{droppableId:d.descriptor.id,index:o}}},ja=function(a){var b=a.pageBorderBoxCenter,c=a.draggable,d=a.destination,e=a.insideDestination,f=a.previousImpact,g=a.viewport,h=d.axis,i=ha(d,b),j=e.filter(function(a){return a.page.borderBox[h.end]>i[h.line]}).map(function(a){return ga({draggable:a,destination:d,previousImpact:f,viewport:g.subject})}),k=e.length-j.length;return{movement:{amount:D(h.line,c.page.marginBox[h.size]),displaced:j,isBeyondStartPosition:!1},direction:h.direction,destination:{droppableId:d.descriptor.id,index:k}}},ka=function(a){var b=a.pageBorderBoxCenter,c=a.draggable,d=a.draggables,e=a.droppables,f=a.previousImpact,g=a.viewport,h=f.destination&&f.destination.droppableId,i=$({target:b,draggable:c,draggables:d,droppables:e,previousDroppableOverId:h});if(!i)return J;var j=e[i];if(!j.isEnabled)return J;var k=e[c.descriptor.droppableId],l=k.descriptor.id===i,m=K(j,d);return l?ia({pageBorderBoxCenter:b,draggable:c,home:k,insideHome:m,previousImpact:f||J,viewport:g}):ja({pageBorderBoxCenter:b,draggable:c,destination:j,insideDestination:m,previousImpact:f||J,viewport:g})},la=function(a,b){var c=a.viewport.closestScrollable;return c?y(b,c.scroll.diff.displacement):b},ma=function(a){var b=a.draggable,c=a.destination,d=a.newPageBorderBoxCenter,e=a.viewport,f=z(d,b.page.borderBox.center),g=N(b.page.borderBox,f);return fa({target:g,destination:c,viewport:e})},na=function(a){var b=a.source,c=a.sourceEdge,d=a.destination,e=a.destinationEdge,f=a.destinationAxis,g=function(a){return D(f.line,a[f[e]],a[f.crossAxisStart])},h=g(d),i=C(z(b.center,g(b))),j=D(f.line,("end"===c?-1:1)*i[f.line],i[f.crossAxisLine]);return y(h,j)},oa=function(a){var b=a.add,c=a.previousImpact,d=a.droppable,e=a.draggables,f=a.viewport,g={draggableId:b,isVisible:!0,shouldAnimate:!0};return[g].concat(c.movement.displaced).map(function(a){return a===g?a:ga({draggable:e[a.draggableId],destination:d,previousImpact:c,viewport:f.subject})})},pa=function(a){return a.isVisible?a:{draggableId:a.draggableId,isVisible:!0,shouldAnimate:!1}},qa=function(a){var b=a.dragging,c=a.isVisibleInNewLocation,d=a.previousImpact,e=a.droppable,f=a.draggables,g=d.movement.displaced;if(!g.length)return console.error("cannot remove displacement from empty list"),[];var h=g.slice(1,g.length);if(!h.length)return h;if(c)return h;var i=e.axis,j=f[g[0].draggableId].page.marginBox[i.size],k=f[b].page.marginBox[i.size],l=j+k;return h.map(function(a,b){if(0===b)return pa(a);if(l>0){var c=f[a.draggableId],d=c.page.marginBox[i.size];return l-=d,pa(a)}return{draggableId:a.draggableId,isVisible:!1,shouldAnimate:!1}})},ra=function(a){var b=a.isMovingForward,c=a.draggableId,d=a.previousPageBorderBoxCenter,e=a.previousImpact,f=a.droppable,g=a.draggables,h=a.viewport,i=e.destination;if(!i)return console.error("cannot move to next index when there is not previous destination"),null;var j=g[c],k=f.axis,l=K(f,g),m=j.descriptor.index,n=i.index,o=b?n+1:n-1
;if(-1===m)return console.error("could not find draggable inside current droppable"),null;if(o>l.length-1)return null;if(o<0)return null;var p=l[o],q=b&&o<=m||!b&&o>=m,r=function(){return q?b?"start":"end":b?"end":"start"}(),s=na({source:j.page.borderBox,sourceEdge:r,destination:p.page.borderBox,destinationEdge:r,destinationAxis:f.axis}),t=ma({draggable:j,destination:f,newPageBorderBoxCenter:s,viewport:h.subject}),u=function(){return q?qa({dragging:c,isVisibleInNewLocation:t,previousImpact:e,droppable:f,draggables:g}):oa({add:p.descriptor.id,previousImpact:e,droppable:f,draggables:g,viewport:h})}(),v={movement:{displaced:u,amount:D(k.line,j.page.marginBox[k.size]),isBeyondStartPosition:o>m},destination:{droppableId:f.descriptor.id,index:o},direction:f.axis.direction};if(t)return{pageBorderBoxCenter:la(f,s),impact:v,scrollJumpRequest:null};var w=z(s,d);return{pageBorderBoxCenter:d,impact:v,scrollJumpRequest:la(f,w)}},sa=function(a){var b=a.isMovingForward,c=a.draggableId,d=a.previousImpact,e=a.previousPageBorderBoxCenter,f=a.droppable,g=a.draggables,h=a.viewport;if(!d.destination)return console.error("cannot move to next index when there is not previous destination"),null;var i=d.destination,j=g[c],k=f.axis,l=K(f,g),m=i.index,n=b?m+1:m-1,o=l.length-1;if(n>l.length)return null;if(n<0)return null;var p=l[Math.min(n,o)],q=n>o,r=function(){return q?"end":"start"}(),s=na({source:j.page.borderBox,sourceEdge:"start",destination:p.page.marginBox,destinationEdge:r,destinationAxis:f.axis}),t=ma({draggable:j,destination:f,newPageBorderBoxCenter:s,viewport:h.subject}),u=function(){return b?qa({dragging:c,isVisibleInNewLocation:t,previousImpact:d,droppable:f,draggables:g}):oa({add:p.descriptor.id,previousImpact:d,droppable:f,draggables:g,viewport:h})}(),v={movement:{displaced:u,amount:D(k.line,j.page.marginBox[k.size]),isBeyondStartPosition:!1},destination:{droppableId:f.descriptor.id,index:n},direction:f.axis.direction};if(t)return{pageBorderBoxCenter:la(f,s),impact:v,scrollJumpRequest:null};var w=z(s,e);return{pageBorderBoxCenter:e,impact:v,scrollJumpRequest:la(f,w)}},ta=function(a){var b=a.draggableId,c=a.draggables,d=a.droppable,e=c[b],f=e.descriptor.droppableId===d.descriptor.id;return d.isEnabled?f?ra(a):sa(a):null},ua=function(a){var b=a.viewport.clippedPageMarginBox;return j(b,"Cannot get clipped area from droppable"),b},va=function(a){var b=a.isMovingForward,c=a.pageBorderBoxCenter,d=a.source,e=a.droppables,f=a.viewport,h=d.viewport.clippedPageMarginBox;if(!h)return null;var i=d.axis,j=L(h[i.start],h[i.end]),k=g(e).map(function(a){return e[a]}).filter(function(a){return a!==d}).filter(function(a){return a.isEnabled}).filter(function(a){var b=a.viewport.clippedPageMarginBox;return!!b&&aa(f.subject)(b)}).filter(function(a){var c=ua(a);return b?h[i.crossAxisEnd]<=c[i.crossAxisStart]:c[i.crossAxisEnd]<=h[i.crossAxisStart]}).filter(function(a){var b=ua(a),c=L(b[i.start],b[i.end]);return j(b[i.start])||j(b[i.end])||c(h[i.start])||c(h[i.end])}).sort(function(a,c){var d=ua(a)[i.crossAxisStart],e=ua(c)[i.crossAxisStart];return b?d-e:e-d}).filter(function(a,b,c){return ua(a)[i.crossAxisStart]===ua(c[0])[i.crossAxisStart]});if(!k.length)return null;if(1===k.length)return k[0];var l=k.filter(function(a){return L(ua(a)[i.start],ua(a)[i.end])(c[i.line])});return 1===l.length?l[0]:l.length>1?l.sort(function(a,b){return ua(a)[i.start]-ua(b)[i.start]})[0]:k.sort(function(a,b){var d=F(c,P(ua(a))),e=F(c,P(ua(b)));return d!==e?d-e:ua(a)[i.start]-ua(b)[i.start]})[0]},wa=function(a){var b=a.axis,c=a.viewport,d=a.pageBorderBoxCenter,e=a.destination,f=a.insideDestination;if(!f.length)return null;var g=f.filter(function(a){return fa({target:a.page.borderBox,destination:e,viewport:c.subject})}).sort(function(a,c){var f=E(d,la(e,a.page.borderBox.center)),g=E(d,la(e,c.page.borderBox.center));return f<g?-1:g<f?1:a.page.borderBox[b.start]-c.page.borderBox[b.start]});return g.length?g[0]:null},xa=function(a){var b=a.amount,c=a.originalIndex,d=a.target,e=a.insideDroppable,f=a.draggable,g=a.droppable,h=a.previousImpact,i=a.viewport;if(!d)return console.error("there will always be a target in the original list"),null;var j=g.axis,k=e.indexOf(d);if(-1===k)return console.error("unable to find target in destination droppable"),null;if(k===c){var l=f.page.borderBox.center,m={movement:{displaced:[],amount:b,isBeyondStartPosition:!1},direction:g.axis.direction,destination:{droppableId:g.descriptor.id,index:c}};return{pageBorderBoxCenter:la(g,l),impact:m}}var n=k>c,o=n?"end":"start",p=na({source:f.page.borderBox,sourceEdge:o,destination:n?d.page.borderBox:d.page.marginBox,destinationEdge:o,destinationAxis:j}),q=function(){if(!n)return e.slice(k,c);var a=c+1,b=k+1;return e.slice(a,b).reverse()}(),r=q.map(function(a){return ga({draggable:a,destination:g,previousImpact:h,viewport:i.subject})}),s={movement:{displaced:r,amount:b,isBeyondStartPosition:n},direction:j.direction,destination:{droppableId:g.descriptor.id,index:k}};return{pageBorderBoxCenter:la(g,p),impact:s}},ya=function(a){var b=a.amount,c=a.pageBorderBoxCenter,d=a.target,e=a.insideDroppable,f=a.draggable,g=a.droppable,h=a.previousImpact,i=a.viewport,j=g.axis,k=Boolean(d&&c[g.axis.line]<d.page.borderBox.center[g.axis.line]);if(!d){var l=na({source:f.page.borderBox,sourceEdge:"start",destination:g.page.contentBox,destinationEdge:"start",destinationAxis:j}),m={movement:{displaced:[],amount:b,isBeyondStartPosition:!1},direction:j.direction,destination:{droppableId:g.descriptor.id,index:0}};return{pageBorderBoxCenter:la(g,l),impact:m}}var n=e.indexOf(d),o=k?n:n+1;if(-1===n)return console.error("could not find target inside destination"),null;var p=na({source:f.page.borderBox,sourceEdge:"start",destination:d.page.marginBox,destinationEdge:k?"start":"end",destinationAxis:j}),q=e.slice(o,e.length).map(function(a){return ga({draggable:a,destination:g,viewport:i.subject,previousImpact:h})}),r={movement:{displaced:q,amount:b,isBeyondStartPosition:!1},direction:j.direction,destination:{droppableId:g.descriptor.id,index:o}};return{pageBorderBoxCenter:la(g,p),impact:r}},za=function(a){var b=a.pageBorderBoxCenter,c=a.destination,d=a.draggable,e=a.target,f=a.home,g=a.insideDestination,h=a.previousImpact,i=a.viewport,j=D(c.axis.line,d.client.marginBox[c.axis.size]);return c.descriptor.id===d.descriptor.droppableId?xa({amount:j,originalIndex:f.index,target:e,insideDroppable:g,draggable:d,droppable:c,previousImpact:h,viewport:i}):ya({amount:j,pageBorderBoxCenter:b,target:e,insideDroppable:g,draggable:d,droppable:c,previousImpact:h,viewport:i})},Aa=function(a){var b=a.isMovingForward,c=a.pageBorderBoxCenter,d=a.draggableId,e=a.droppableId,f=a.home,g=a.draggables,h=a.droppables,i=a.previousImpact,j=a.viewport,k=g[d],l=h[e],m=va({isMovingForward:b,pageBorderBoxCenter:c,source:l,droppables:h,viewport:j});if(!m)return null;var n=K(m,g),o=wa({axis:m.axis,pageBorderBoxCenter:c,destination:m,insideDestination:n,viewport:j});return n.length&&!o?null:za({pageBorderBoxCenter:c,destination:m,draggable:k,target:o,insideDestination:n,home:f,previousImpact:i||J,viewport:j})},Ba={request:null,draggable:{},droppable:{}},Ca={x:0,y:0},Da=h(function(){return{phase:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"IDLE",drag:null,drop:null,dimension:Ba}}),Ea=function(a){return-1===["IDLE","DROP_ANIMATING","DROP_COMPLETE"].indexOf(a)},Fa=function(a){var b=a.state,c=a.clientSelection,d=a.shouldAnimate,e=a.viewport,f=a.impact,g=a.scrollJumpRequest;if("DRAGGING"!==b.phase)return console.error("cannot move while not dragging"),Da();var h=b.drag;if(null==h)return console.error("cannot move if there is no drag information"),Da();var j=h.current,k=h.initial,l=e||j.viewport,m=l.scroll,n=function(){var a=z(c,k.client.selection);return{offset:a,selection:c,borderBoxCenter:y(a,k.client.borderBoxCenter)}}(),o={selection:y(n.selection,m),offset:y(n.offset,m),borderBoxCenter:y(n.borderBoxCenter,m)},p={client:n,page:o,shouldAnimate:d,viewport:l,hasCompletedFirstBulkPublish:j.hasCompletedFirstBulkPublish},q=f||ka({pageBorderBoxCenter:o.borderBoxCenter,draggable:b.dimension.draggable[k.descriptor.id],draggables:b.dimension.draggable,droppables:b.dimension.droppable,previousImpact:h.impact,viewport:l});return i({},b,{drag:{initial:k,impact:q,current:p,scrollJumpRequest:g}})},Ga=function(a,b){return"COLLECTING_INITIAL_DIMENSIONS"===a.phase?a:"DRAGGING"!==a.phase?a:a.drag?Fa({state:a,clientSelection:a.drag.current.client.selection,shouldAnimate:a.drag.current.shouldAnimate,impact:b}):(console.error("cannot update a draggable dimension in an existing drag as there is invalid drag state"),Da())},Ha=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da("IDLE"),b=arguments[1];if("CLEAN"===b.type)return Da();if("PREPARE"===b.type)return Da("PREPARING");if("REQUEST_DIMENSIONS"===b.type){if("PREPARING"!==a.phase)return console.error("trying to start a lift while not preparing for a lift"),Da();return{phase:"COLLECTING_INITIAL_DIMENSIONS",drag:null,drop:null,dimension:{request:b.payload,draggable:{},droppable:{}}}}if("PUBLISH_DRAGGABLE_DIMENSION"===b.type){var c,d=b.payload;if(!Ea(a.phase))return console.warn("dimensions rejected as no longer allowing dimension capture in phase",a.phase),a;var e=i({},a,{dimension:{request:a.dimension.request,droppable:a.dimension.droppable,draggable:i({},a.dimension.draggable,(c={},c[d.descriptor.id]=d,c))}});return Ga(e)}if("PUBLISH_DROPPABLE_DIMENSION"===b.type){var f,h=b.payload;if(!Ea(a.phase))return console.warn("dimensions rejected as no longer allowing dimension capture in phase",a.phase),a;var j=i({},a,{dimension:{request:a.dimension.request,draggable:a.dimension.draggable,droppable:i({},a.dimension.droppable,(f={},f[h.descriptor.id]=h,f))}});return Ga(j)}if("BULK_DIMENSION_PUBLISH"===b.type){var k=b.payload.draggables,l=b.payload.droppables;if(!Ea(a.phase))return console.warn("dimensions rejected as no longer allowing dimension capture in phase",a.phase),a;var m=k.reduce(function(a,b){return a[b.descriptor.id]=b,a},{}),n=l.reduce(function(a,b){return a[b.descriptor.id]=b,a},{}),o=function(){var b=a.drag;return b?b.current.hasCompletedFirstBulkPublish?b:i({},b,{current:i({},b.current,{hasCompletedFirstBulkPublish:!0})}):null}(),p=i({},a,{drag:o,dimension:{request:a.dimension.request,draggable:i({},a.dimension.draggable,m),droppable:i({},a.dimension.droppable,n)}});return Ga(p)}if("COMPLETE_LIFT"===b.type){if("COLLECTING_INITIAL_DIMENSIONS"!==a.phase)return console.error("trying complete lift without collecting dimensions"),a;var q=b.payload,r=q.id,s=q.client,t=q.viewport,u=q.autoScrollMode,v={selection:y(s.selection,t.scroll),borderBoxCenter:y(s.borderBoxCenter,t.scroll)},w=a.dimension.draggable[r];if(!w)return console.error("could not find draggable in store after lift"),Da();var x=w.descriptor,B={descriptor:x,autoScrollMode:u,client:s,page:v,viewport:t},C={client:{selection:s.selection,borderBoxCenter:s.borderBoxCenter,offset:Ca},page:{selection:v.selection,borderBoxCenter:v.borderBoxCenter,offset:Ca},viewport:t,hasCompletedFirstBulkPublish:!1,shouldAnimate:!1},D=a.dimension.droppable[x.droppableId];if(!D)return console.error("Cannot find home dimension for initial lift"),Da();var E={index:x.index,droppableId:x.droppableId},F={movement:I,direction:D.axis.direction,destination:E};return i({},a,{phase:"DRAGGING",drag:{initial:B,current:C,impact:F,scrollJumpRequest:null}})}if("UPDATE_DROPPABLE_DIMENSION_SCROLL"===b.type){var G;if("DRAGGING"!==a.phase)return console.error("cannot update a droppable dimensions scroll when not dragging"),Da();var H=a.drag;if(null==H)return console.error("invalid store state"),Da();var J=b.payload,K=J.id,L=J.offset,M=a.dimension.droppable[K];if(!M)return console.warn("cannot update scroll for droppable as it has not yet been collected"),a;var N=W(M,L),O="JUMP"===H.initial.autoScrollMode?H.impact:null,P=i({},a,{dimension:{request:a.dimension.request,draggable:a.dimension.draggable,droppable:i({},a.dimension.droppable,(G={},G[K]=N,G))}});return Ga(P,O)}if("UPDATE_DROPPABLE_DIMENSION_IS_ENABLED"===b.type){var Q;if(!g(a.dimension.droppable).length)return a;var R=b.payload,S=R.id,T=R.isEnabled,U=a.dimension.droppable[S];if(!U)return a;if(U.isEnabled===T)return console.warn("Trying to set droppable isEnabled to "+String(T)+" but it is already "+String(T)),a;var V=i({},U,{isEnabled:T}),X=i({},a,{dimension:i({},a.dimension,{droppable:i({},a.dimension.droppable,(Q={},Q[S]=V,Q))})});return Ga(X)}if("MOVE"===b.type){var Y=b.payload,Z=Y.client,$=Y.viewport,_=Y.shouldAnimate,aa=a.drag;if(!aa)return console.error("Cannot move while there is no drag state"),a;var ba=function(){return aa.current.hasCompletedFirstBulkPublish?"JUMP"===aa.initial.autoScrollMode?aa.impact:null:aa.impact}();return Fa({state:a,clientSelection:Z,viewport:$,shouldAnimate:_,impact:ba})}if("MOVE_BY_WINDOW_SCROLL"===b.type){var ca=b.payload.viewport,da=a.drag;if(!da)return console.error("cannot move with window scrolling if no current drag"),Da();if(A(ca.scroll,da.current.viewport.scroll))return a;var ea="JUMP"===da.initial.autoScrollMode,fa=ea?da.impact:null;return Fa({state:a,clientSelection:da.current.client.selection,viewport:ca,shouldAnimate:!1,impact:fa})}if("MOVE_FORWARD"===b.type||"MOVE_BACKWARD"===b.type){if("DRAGGING"!==a.phase)return console.error("cannot move while not dragging",b),Da();if(!a.drag)return console.error("cannot move if there is no drag information"),Da();var ga=a.drag,ha="MOVE_FORWARD"===b.type;if(!ga.impact.destination)return a;var ia=a.dimension.droppable[ga.impact.destination.droppableId],ja=ta({isMovingForward:ha,draggableId:ga.initial.descriptor.id,droppable:ia,draggables:a.dimension.draggable,previousPageBorderBoxCenter:ga.current.page.borderBoxCenter,previousImpact:ga.impact,viewport:ga.current.viewport});if(!ja)return a;var ka=ja.impact,la=ja.pageBorderBoxCenter,ma=z(la,ga.current.viewport.scroll);return Fa({state:a,impact:ka,clientSelection:ma,shouldAnimate:!0,scrollJumpRequest:ja.scrollJumpRequest})}if("CROSS_AXIS_MOVE_FORWARD"===b.type||"CROSS_AXIS_MOVE_BACKWARD"===b.type){if("DRAGGING"!==a.phase)return console.error("cannot move cross axis when not dragging"),Da();var na=a.drag;if(!na)return console.error("cannot move cross axis if there is no drag information"),Da();var oa=function(){return na.impact.destination?na.impact.destination.droppableId:na.initial.descriptor.droppableId}(),pa=na.current,qa=na.initial.descriptor,ra=qa.id,sa=pa.page.borderBoxCenter,ua={index:qa.index,droppableId:qa.droppableId},va=Aa({isMovingForward:"CROSS_AXIS_MOVE_FORWARD"===b.type,pageBorderBoxCenter:sa,draggableId:ra,droppableId:oa,home:ua,draggables:a.dimension.draggable,droppables:a.dimension.droppable,previousImpact:na.impact,viewport:pa.viewport});if(!va)return a;var wa=va.pageBorderBoxCenter,xa=z(wa,pa.viewport.scroll);return Fa({state:a,clientSelection:xa,impact:va.impact,shouldAnimate:!0})}if("DROP_ANIMATE"===b.type){var ya=b.payload,za=ya.newHomeOffset,Ha=ya.impact,Ia=ya.result;if("DRAGGING"!==a.phase)return console.error("cannot animate drop while not dragging",b),a;if(!a.drag)return console.error("cannot animate drop - invalid drag state"),Da();return{phase:"DROP_ANIMATING",drag:null,drop:{pending:{newHomeOffset:za,result:Ia,impact:Ha},result:null},dimension:a.dimension}}if("DROP_COMPLETE"===b.type){return{phase:"DROP_COMPLETE",drag:null,drop:{pending:null,result:b.payload},dimension:Ba}}return a},Ia="object"===("undefined"==typeof window?"undefined":k(window))&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:l.compose,Ja=function(){return l.createStore(Ha,Ia(l.applyMiddleware(m)))},Ka=function(a){return"\n  You have lifted an item in position "+(a.source.index+1)+".\n  Use the arrow keys to move, space bar to drop, and escape to cancel.\n"},La=function(a){return a.destination?a.source.droppableId===a.destination.droppableId?"You have moved the item to position "+(a.destination.index+1):"\n    You have moved the item from list "+a.source.droppableId+" in position "+(a.source.index+1)+"\n    to list "+a.destination.droppableId+" in position "+(a.destination.index+1)+"\n  ":"You are currently not dragging over a droppable area"},Ma=function(a){return"CANCEL"===a.reason?"\n      Movement cancelled.\n      The item has returned to its starting position of "+(a.source.index+1)+"\n    ":a.destination?a.source.droppableId===a.destination.droppableId?a.source.index===a.destination.index?"\n        You have dropped the item.\n        It has been dropped on its starting position of "+(a.source.index+1)+"\n      ":"\n      You have dropped the item.\n      It has moved from position "+(a.source.index+1)+" to "+(a.destination.index+1)+"\n    ":"\n    You have dropped the item.\n    It has moved from position "+(a.source.index+1)+" in list "+a.source.droppableId+"\n    to position "+(a.destination.index+1)+" in list "+a.destination.droppableId+"\n  ":"\n      The item has been dropped while not over a droppable location.\n      The item has returned to its starting position of "+(a.source.index+1)+"\n    "},Na={onDragStart:Ka,onDragUpdate:La,onDragEnd:Ma},Oa={},Pa=function(){return Boolean(window["__react-beautiful-dnd-debug-timings-hook__"])},Qa=function(a){if(Pa()){var b=performance.now();Oa[a]=b}},Ra=function(a){if(Pa()){var b=performance.now(),c=Oa[a];if(null==c)return void console.error("cannot finish timing as no previous time found");var d=b-c,e=d.toFixed(2),f=function(){return d<16?{textColor:"green",symbol:""}:d<40?{textColor:"orange",symbol:""}:{textColor:"red",symbol:""}}();console.log(f.symbol+" %cTiming %c"+e+" %cms %c"+a,"color: blue; font-weight: bold; ","color: "+f.textColor+"; font-size: 1.1em;","color: grey;","color: purple; font-weight: bold;")}},Sa=function(a,b){Qa(a),b(),Ra(a)},Ta={isDragging:!1,start:null,lastDestination:null,hasMovedFromStartLocation:!1},Ua=function(a,b){return null==a&&null==b||null!=a&&null!=b&&(a.droppableId===b.droppableId&&a.index===b.index)},Va=function(a){var b=!1,c=!1;setTimeout(function(){c=!0});var d=function(d){return b?void console.warn("Announcement already made. Not making a second announcement"):c?void console.warn("\n        Announcements cannot be made asynchronously.\n        Default message has already been announced.\n      "):(b=!0,void a(d))};return d.wasCalled=function(){return b},d},Wa=function(a){var b=Ta,c=function(a){var c=i({},b,a);b=c},d=function(a){if(!a.drag)return null;var b=a.drag.initial.descriptor,c=a.dimension.droppable[b.droppableId];if(!c)return null;var d={index:b.index,droppableId:b.droppableId};return{draggableId:b.id,type:c.descriptor.type,source:d}},e=function(b,c,d){if(!b)return void a(d(c));var e=Va(a);b(c,{announce:e}),e.wasCalled()||a(d(c))},f=function(a,f){if(!b.isDragging)return void console.error("Cannot process dragging update if drag has not started");var g=a.drag,h=d(a);if(!h||!g)return void console.error("Cannot update drag when there is invalid state");var i=g.impact.destination,j={draggableId:h.draggableId,type:h.type,source:h.source,destination:i};if(!b.hasMovedFromStartLocation){if(Ua(h.source,i))return;return c({lastDestination:i,hasMovedFromStartLocation:!0}),void e(f,j,Na.onDragUpdate)}Ua(b.lastDestination,i)||(c({lastDestination:i}),e(f,j,Na.onDragUpdate))};return{onStateChange:function(a,g,h){var i=a.onDragStart,j=a.onDragUpdate,k=a.onDragEnd,l=h.phase,m=g.phase;if("DRAGGING"===l&&"DRAGGING"===m)return void f(h,j);if(b.isDragging&&c(Ta),l!==m){if("DRAGGING"===l&&"DRAGGING"!==m){var n=d(h);return n?(c({isDragging:!0,hasMovedFromStartLocation:!1,start:n}),void Sa("hook:onDragStart",function(){return e(i,n,Na.onDragStart)})):void console.error("Unable to publish onDragStart")}if("DROP_COMPLETE"===l&&"DROP_COMPLETE"!==m){if(!h.drop||!h.drop.result)return void console.error("cannot fire onDragEnd hook without drag state",{current:h,previous:g});var o=h.drop.result;return void Sa("hook:onDragEnd",function(){return e(k,o,Na.onDragEnd)})}if("IDLE"===l&&"DRAGGING"===m){if(!g.drag)return void console.error("cannot fire onDragEnd for cancel because cannot find previous drag");var p=g.drag.initial.descriptor,q=g.dimension.droppable[p.droppableId];if(!q)return void console.error("cannot find dimension for home droppable");var r={index:p.index,droppableId:p.droppableId},s={draggableId:p.id,type:q.descriptor.type,source:r,destination:null,reason:"CANCEL"};return void Sa("hook:onDragEnd (cancel)",function(){return e(k,s,Na.onDragEnd)})}if("IDLE"===l&&"DROP_ANIMATING"===m){if(!g.drop||!g.drop.pending)return void console.error("cannot fire onDragEnd for cancel because cannot find previous pending drop");var t={draggableId:g.drop.pending.result.draggableId,type:g.drop.pending.result.type,source:g.drop.pending.result.source,destination:null,reason:"CANCEL"};e(k,t,Na.onDragEnd)}}}}},Xa=function(a){var b={droppables:{},draggables:{},isCollecting:!1,scrollOptions:null,request:null,requestType:null,frameId:null},c=function(a){var c=i({},b,a);b=c},d=function(){var c;(c=console).error.apply(c,arguments),a.cancel(),b.isCollecting&&t()},e=function(a){if(b.isCollecting){var c=b.droppables[a.droppableId];c&&c.descriptor.type===b.requestType&&d("Adding or removing a Draggable during a drag is currently not supported")}},f=function(a){b.isCollecting&&a.type===b.requestType&&d("Adding or removing a Droppable during a drag is currently not supported")},h=function(a,d){var f,g=a.id,h={descriptor:a,getDimension:d},j=i({},b.draggables,(f={},f[g]=h,f));c({draggables:j}),e(a)},j=function(a,d){var e,g=a.id,h={descriptor:a,callbacks:d},j=i({},b.droppables,(e={},e[g]=h,e));c({droppables:j}),f(a)},k=function(c,e){if(!b.droppables[c])return void d("Cannot update the scroll on Droppable "+c+" as it is not registered");b.isCollecting&&a.updateDroppableIsEnabled(c,e)},l=function(c,e){if(!b.droppables[c])return void d("Cannot update the scroll on Droppable "+c+" as it is not registered");b.isCollecting&&a.updateDroppableScroll(c,e)},m=function(a,c){var d=b.droppables[a];d&&b.isCollecting&&d.callbacks.scroll(c)},n=function(a){var f=b.draggables[a.id];if(!f)return void d("Cannot unregister Draggable with id "+a.id+" as it is not registered");if(f.descriptor===a){var g=i({},b.draggables);delete g[a.id],c({draggables:g}),e(a)}},o=function(a){var e=b.droppables[a.id];if(!e)return void d("Cannot unregister Droppable with id "+a.id+" as as it is not registered");if(e.descriptor===a){var g=i({},b.droppables);delete g[a.id],c({droppables:g}),f(a)}},p=function(){var a=b.draggables,c=b.droppables,d=b.request;if(!d)return console.error("cannot find request in state"),[];var e=d.draggableId,f=a[e].descriptor,h=c[f.droppableId].descriptor,i=g(a).map(function(b){return a[b].descriptor}).filter(function(a){return a.id!==f.id}).filter(function(a){var b=c[a.droppableId];return b?b.descriptor.type===h.type:(console.warn("Orphan Draggable found "+a.id+" which says it belongs to unknown Droppable "+a.droppableId),!1)});return[].concat(g(c).map(function(a){return c[a].descriptor}).filter(function(a){return a.id!==h.id}).filter(function(a){return c[a.id].descriptor.type===h.type}),i)},q=function(e){if(b.isCollecting)return void d("Cannot start capturing dimensions for a drag it is already dragging");if(!e)return void d("Cannot start capturing dimensions with an invalid request",e);var f=b.draggables,g=b.droppables,h=e.draggableId,i=f[h];if(!i)return void d("Cannot find Draggable with id "+h+" to start collecting dimensions");var j=g[i.descriptor.droppableId];if(!j)return void d("\n        Cannot find home Droppable [id:"+i.descriptor.droppableId+"]\n        for Draggable [id:"+e.draggableId+"]\n      ");c({isCollecting:!0,request:e,requestType:j.descriptor.type});var k=j.callbacks.getDimension(),l=i.getDimension();a.publishDroppable(k),a.publishDraggable(l),j.callbacks.watchScroll(e.scrollOptions)},r=function(a){c({frameId:a})},s=function(c){if(!b.isCollecting)return void d("Cannot collect secondary dimensions when collection is not occurring");var e=b.request;if(!e)return void d("Cannot process secondary dimensions without a request");if(!c)return void d("Cannot process secondary dimensions without a request on the state");if(c.draggableId!==e.draggableId)return void d("Cannot process secondary dimensions as local request does not match app state");var f=p(),g=requestAnimationFrame(function(){var c=f.map(function(a){return a.type?b.droppables[a.id].callbacks.getDimension():b.draggables[a.id].getDimension()}),d=requestAnimationFrame(function(){var d=c.reduce(function(a,b){return b.placeholder?a.draggables.push(b):a.droppables.push(b),a},{draggables:[],droppables:[]});a.bulkPublish(d.droppables,d.draggables),d.droppables.forEach(function(a){b.droppables[a.descriptor.id].callbacks.watchScroll(e.scrollOptions)}),r(null)});r(d)});r(g)},t=function(){g(b.droppables).forEach(function(a){return b.droppables[a].callbacks.unwatchScroll()}),b.frameId&&cancelAnimationFrame(b.frameId),c({isCollecting:!1,request:null,frameId:null})};return{registerDraggable:h,unregisterDraggable:n,registerDroppable:j,unregisterDroppable:o,updateDroppableIsEnabled:k,scrollDroppable:m,updateDroppableScroll:l,onPhaseChange:function(a){var c=a.phase;return"COLLECTING_INITIAL_DIMENSIONS"===c?void q(a.dimension.request):"DRAGGING"===c?void s(a.dimension.request):"DROP_ANIMATING"===c||"DROP_COMPLETE"===c?void(b.isCollecting&&t()):void("IDLE"===c&&b.isCollecting&&t())}}},Ya=function(){var a={stiffness:1e3,damping:60,precision:.99};return{standard:i({},a),fast:i({},a,{stiffness:2*a.stiffness})}}(),Za={outOfTheWay:"transform 0.2s cubic-bezier(0.2, 0, 0, 1)"},$a="data-react-beautiful-dnd",_a=$a+"-drag-handle",ab=function(a){var b="["+_a+'="'+a+'"]',c='[data-react-beautiful-dnd-draggable="'+a+'"]',d='[data-react-beautiful-dnd-droppable="'+a+'"]',e={base:"\n      "+b+" {\n        -webkit-touch-callout: none;\n        -webkit-tap-highlight-color: rgba(0,0,0,0);\n        touch-action: manipulation;\n      }\n    ",grabCursor:"\n      "+b+" {\n        cursor: -webkit-grab;\n        cursor: grab;\n      }\n    ",blockPointerEvents:"\n      "+b+" {\n        pointer-events: none;\n      }\n    "},f={animateMovement:"\n      "+c+" {\n        transition: "+Za.outOfTheWay+";\n      }\n    "},g={base:"\n      "+d+" {\n        overflow-anchor: none;\n      }\n    "},h={whileActiveDragging:"\n      body {\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n      }\n    "},i=[e.base,g.base];return{resting:[].concat(i,[e.grabCursor]).join(""),dragging:[].concat(i,[e.blockPointerEvents,f.animateMovement,h.whileActiveDragging]).join(""),dropAnimating:[].concat(i,[e.grabCursor,f.animateMovement]).join(""),userCancel:[].concat(i,[f.animateMovement]).join("")}},bb=0,cb=function(){bb=0},db=function(){var a=""+bb++,b=ab(a),c={el:null},d=function(a){c=a},e=h(function(a){if(!c.el)return void console.error("cannot set style of style tag if not mounted");c.el.innerHTML=a}),f=function(){if(c.el)return void console.error("Style marshal already mounted");var f=document.createElement("style");f.type="text/css",f.setAttribute($a,a);var g=document.querySelector("head");j(g,"Cannot find the head to append a style to"),g.appendChild(f),d({el:f}),e(b.resting)};return{onPhaseChange:function(a){if(!c.el)return void console.error("cannot update styles until style marshal is mounted");var d=a.phase;if("DRAGGING"===d)return void e(b.dragging);if("DROP_ANIMATING"===d){if(!a.drop||!a.drop.pending)return void console.error("Invalid state found in style-marshal");return"DROP"===a.drop.pending.result.reason?void e(b.dropAnimating):void e(b.userCancel)}e(b.resting)},styleContext:a,mount:f,unmount:function(){if(!c.el)return void console.error("Cannot unmount style marshal as it is already unmounted");var a=c.el;if(d({el:null}),!a.parentNode)return void console.error("Cannot unmount style marshal as cannot find parent");a.parentNode.removeChild(a)}}},eb=function(a,b){var c=a.phase;return"IDLE"===c||"DROP_COMPLETE"===c||"PREPARING"!==c&&"COLLECTING_INITIAL_DIMENSIONS"!==c&&"DRAGGING"!==c&&("DROP_ANIMATING"===c?a.drop&&a.drop.pending?a.drop.pending.result.draggableId!==b&&"DROP"===a.drop.pending.result.reason:(console.error("Invalid state shape for drop animating"),!1):(console.warn("unhandled phase "+c+" in canLift check"),!1))},fb=function(a){window.scrollBy(a.x,a.y)},gb=0,hb={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},ib=function(){var a="react-beautiful-dnd-announcement-"+gb++,b={el:null},c=function(a){b=a};return{announce:function(a){var c=b.el;if(!c)return void console.error("Cannot announce to unmounted node");c.textContent=a},id:a,mount:function(){if(b.el)return void console.error("Announcer already mounted");var d=document.createElement("div");d.id=a,d.setAttribute("aria-live","assertive"),d.setAttribute("role","log"),d.setAttribute("aria-atomic","true"),n(d.style,hb),j(document.body,"Cannot find the head to append a style to"),document.body.appendChild(d),c({el:d})},unmount:function(){if(!b.el)return void console.error("Will not unmount annoucer as it is already unmounted");var a=b.el;if(c({el:null}),!a.parentNode)return void console.error("Cannot unmount style marshal as cannot find parent");a.parentNode.removeChild(a)}}},jb=h(function(a){return g(a).map(function(b){return a[b]}).filter(function(a){return!!a.isEnabled&&!!a.viewport.closestScrollable})}),kb=function(a,b){return jb(b).find(function(b){return j(b.viewport.closestScrollable,"Invalid result"),M(b.viewport.closestScrollable.framePageMarginBox)(a)})},lb=function(a){var b=a.center,c=a.destination,d=a.droppables;if(c){var e=d[c.droppableId];return e.viewport.closestScrollable?e:null}return kb(b,d)},mb={x:0,y:0},nb=G(function(a){return 0===a?0:a>0?1:-1}),ob=function(){var a=function(a,b){return a<0?a:a>b?a-b:0};return function(b){var c=b.current,d=b.max,e=b.change,f=y(c,e),g={x:a(f.x,d.x),y:a(f.y,d.y)};return A(g,mb)?null:g}}(),pb=function(a){var b=a.max,c=a.current,d=a.change,e=nb(d),f=ob({max:b,current:c,change:e});return!f||(0!==e.x&&0===f.x||0!==e.y&&0===f.y)},qb=function(a,b){return pb({current:a.scroll,max:a.maxScroll,change:b})},rb=function(a,b){var c=a.viewport.closestScrollable;return!!c&&pb({current:c.scroll.current,max:c.scroll.max,change:b})},sb=function(a,b){if(!qb(a,b))return null;var c=a.maxScroll,d=a.scroll;return ob({current:d,max:c,change:b})},tb=function(a,b){if(!rb(a,b))return null;var c=a.viewport.closestScrollable;return c?ob({current:c.scroll.current,max:c.scroll.max,change:b}):null},ub={startFrom:.25,maxSpeedAt:.05,maxScrollSpeed:28,ease:function(a){return Math.pow(a,2)}},vb={x:0,y:0},wb=G(function(a){return 0===a?0:a}),xb=function(a,b){var c=a[b.size]*ub.startFrom,d=a[b.size]*ub.maxSpeedAt;return{startFrom:c,maxSpeedAt:d,accelerationPlane:c-d}},yb=function(a,b){if(a>=b.startFrom)return 0;if(a<=b.maxSpeedAt)return ub.maxScrollSpeed;var c=b.startFrom-a,d=c/b.accelerationPlane,e=ub.ease(d);return ub.maxScrollSpeed*e},zb=function(a){var b=a.container,c=a.subject,d=a.proposedScroll,e=c.height>b.height,f=c.width>b.width;return f||e?f&&e?null:{x:f?0:d.x,y:e?0:d.y}:d},Ab=function(a){var b=a.container,c=a.subject,d=a.center,e={top:d.y-b.top,right:b.right-d.x,bottom:b.bottom-d.y,left:d.x-b.left},f=function(){var a=xb(b,Q);return e.bottom<e.top?yb(e.bottom,a):-1*yb(e.top,a)}(),g=function(){var a=xb(b,R);return e.right<e.left?yb(e.right,a):-1*yb(e.left,a)}(),h=wb({x:g,y:f});if(A(h,vb))return null;var i=zb({container:b,subject:c,proposedScroll:h});return i?A(i,vb)?null:i:null},Bb=function(a,b){var c=a.viewport.closestScrollable;if(!c)return null;var d=a.descriptor.id===b.descriptor.droppableId,e=c.scroll.max,f=c.scroll.current;if(d)return{max:e,current:f};var g=D(a.axis.line,b.placeholder.client.borderBox[a.axis.size]),h=y(e,g);return{max:h,current:{
x:Math.min(f.x,h.x),y:Math.min(f.y,h.y)}}},Cb=function(a){var b=a.scrollWindow,c=a.scrollDroppable,d=o(b),e=o(c),f=function(a){var b=a.drag;if(!b)return void console.error("Invalid drag state");var c=b.current.page.borderBoxCenter,f=a.dimension.draggable[b.initial.descriptor.id],g=f.page.marginBox,h=b.current.viewport,i=Ab({container:h.subject,subject:g,center:c});if(i&&qb(h,i))return void d(i);var j=lb({center:c,destination:b.impact.destination,droppables:a.dimension.droppable});if(j){var k=j.viewport.closestScrollable;if(k){var l=Ab({container:k.framePageMarginBox,subject:g,center:c});if(l){var m=Bb(j,f);if(m){pb({max:m.max,current:m.current,change:l})&&e(j.descriptor.id,l)}}}}};return f.cancel=function(){d.cancel(),e.cancel()},f},Db=function(a){var b=a.move,c=a.scrollDroppable,d=a.scrollWindow,e=function(a,c){var d=a.drag;if(!d)return void console.error("Cannot move by offset when not dragging");var e=y(d.current.client.selection,c);b(d.initial.descriptor.id,e,d.current.viewport,!0)},f=function(a,b){if(!rb(a,b))return b;var d=tb(a,b);if(!d)return c(a.descriptor.id,b),null;var e=z(b,d);return c(a.descriptor.id,e),z(b,e)},g=function(a,b){if(!qb(a,b))return b;var c=sb(a,b);if(!c)return d(b),null;var e=z(b,c);return d(e),z(b,e)};return function(a){var b=a.drag;if(b){var c=b.scrollJumpRequest;if(c){var d=b.impact.destination;if(!d)return void console.error("Cannot perform a jump scroll when there is no destination");var h=f(a.dimension.droppable[d.droppableId],c);if(h){var i=b.current.viewport,j=g(i,h);j&&e(a,j)}}}}},Eb=function(a){var b=a.scrollDroppable,c=a.scrollWindow,d=a.move,e=Cb({scrollWindow:c,scrollDroppable:b}),f=Db({move:d,scrollWindow:c,scrollDroppable:b});return{onStateChange:function(a,b){if("DRAGGING"===b.phase){if(!b.drag)return void console.error("invalid drag state");if("FLUID"===b.drag.initial.autoScrollMode)return void e(b);if(!b.drag.scrollJumpRequest)return;return void f(b)}"DRAGGING"===a.phase&&"DRAGGING"!==b.phase&&e.cancel()}}},Fb=function(a){return"private-react-beautiful-dnd-key-do-not-use-"+a},Gb=Fb("store"),Hb=Fb("droppable-id"),Ib=Fb("dimension-marshal"),Jb=Fb("style-context"),Kb=Fb("can-lift"),Lb=function(a){var b=a.movement,c=a.draggable,d=a.draggables,e=a.destination,f=c.client.borderBox.center;if(null==e)return f;var g=b.displaced,h=b.isBeyondStartPosition,i=e.axis,j=e.descriptor.id===c.descriptor.droppableId;if(j&&!g.length)return f;var k=K(e,d),l=function(){return j?d[g[0].draggableId].client.borderBox:g.length?d[g[0].draggableId].client.borderBox:k.length?k[k.length-1].client.marginBox:e.client.contentBox}(),m=function(){return j?h?{sourceEdge:"end",destinationEdge:"end"}:{sourceEdge:"start",destinationEdge:"start"}:!g.length&&k.length?{sourceEdge:"start",destinationEdge:"end"}:{sourceEdge:"start",destinationEdge:"start"}}(),n=m.sourceEdge,o=m.destinationEdge,p=c.client.borderBox;return na({source:p,sourceEdge:n,destination:l,destinationEdge:o,destinationAxis:i})},Mb={x:0,y:0},Nb=function(a){var b=a.initial,c=a.current,d=a.droppable,e=z(b.viewport.scroll,c.viewport.scroll);return d?la(d,e):e},Ob=function(a){return{type:"REQUEST_DIMENSIONS",payload:a}},Pb=function(a,b,c,d){return{type:"COMPLETE_LIFT",payload:{id:a,client:b,viewport:c,autoScrollMode:d}}},Qb=function(a){return{type:"PUBLISH_DRAGGABLE_DIMENSION",payload:a}},Rb=function(a){return{type:"PUBLISH_DROPPABLE_DIMENSION",payload:a}},Sb=function(a,b){return{type:"BULK_DIMENSION_PUBLISH",payload:{droppables:a,draggables:b}}},Tb=function(a,b){return{type:"UPDATE_DROPPABLE_DIMENSION_SCROLL",payload:{id:a,offset:b}}},Ub=function(a,b){return{type:"UPDATE_DROPPABLE_DIMENSION_IS_ENABLED",payload:{id:a,isEnabled:b}}},Vb=function(a,b,c){return{type:"MOVE",payload:{id:a,client:b,viewport:c,shouldAnimate:arguments.length>3&&void 0!==arguments[3]&&arguments[3]}}},Wb=function(a,b){return{type:"MOVE_BY_WINDOW_SCROLL",payload:{id:a,viewport:b}}},Xb=function(a){return{type:"MOVE_BACKWARD",payload:a}},Yb=function(a){return{type:"MOVE_FORWARD",payload:a}},Zb=function(a){return{type:"CROSS_AXIS_MOVE_FORWARD",payload:a}},$b=function(a){return{type:"CROSS_AXIS_MOVE_BACKWARD",payload:a}},_b=function(){return{type:"CLEAN",payload:null}},ac=function(){return{type:"PREPARE",payload:null}},bc=function(a){return{type:"DROP_ANIMATE",payload:{newHomeOffset:a.newHomeOffset,impact:a.impact,result:a.result}}},cc=function(a){return{type:"DROP_COMPLETE",payload:a}},dc=function(){return function(a,b){var c=b();if("PREPARING"===c.phase||"COLLECTING_INITIAL_DIMENSIONS"===c.phase)return void a(_b());if("DRAGGING"!==c.phase)return console.error("not able to drop in phase: '"+c.phase+"'"),void a(_b());if(!c.drag)return console.error("not able to drop when there is invalid drag state",c),void a(_b());var d=c.drag,e=d.impact,f=d.initial,g=d.current,h=f.descriptor,i=c.dimension.draggable[f.descriptor.id],j=c.dimension.droppable[i.descriptor.droppableId],k=e.destination?c.dimension.droppable[e.destination.droppableId]:null,l={droppableId:h.droppableId,index:h.index},m={draggableId:h.id,type:j.descriptor.type,source:l,destination:e.destination,reason:"DROP"},n=Lb({movement:e.movement,draggable:i,draggables:c.dimension.draggable,destination:k}),o=z(n,i.client.borderBox.center),p=Nb({initial:f,current:g,droppable:k||j}),q=y(o,p);if(A(g.client.offset,q))return void a(cc(m));a(bc({newHomeOffset:q,impact:e,result:m}))}},ec=function(){return function(a,b){var c=b();if("DRAGGING"!==c.phase)return void a(_b());if(!c.drag)return console.error("invalid drag state",c),void a(_b());var d=c.drag,e=d.initial,f=d.current,g=e.descriptor,h=c.dimension.droppable[g.droppableId],i={index:g.index,droppableId:g.droppableId},j={draggableId:g.id,type:h.descriptor.type,source:i,destination:null,reason:"CANCEL"};if(A(f.client.offset,Mb))return void a(cc(j));var k=Nb({initial:e,current:f,droppable:h});a(bc({newHomeOffset:k,impact:J,result:j}))}},fc=function(){return function(a,b){var c=b();return"DROP_ANIMATING"!==c.phase?(console.error("cannot end drop that is no longer animating",c),void a(_b())):c.drop&&c.drop.pending?void a(cc(c.drop.pending.result)):(console.error("cannot end drop that has no pending state",c),void a(_b()))}},gc=function(a,b,c,d){return function(e,f){var g=f();"DROP_ANIMATING"===g.phase&&(g.drop&&g.drop.pending?e(cc(g.drop.pending.result)):(console.error("cannot flush drop animation if there is no pending"),e(_b()))),e(ac()),setTimeout(function(){"PREPARING"===f().phase&&(e(Ob({draggableId:a,scrollOptions:{shouldPublishImmediately:"JUMP"===d}})),setTimeout(function(){"COLLECTING_INITIAL_DIMENSIONS"===f().phase&&(e(Pb(a,b,c,d)),Ra("LIFT"))}))})}},hc=function(){cb()},ic=function(a){function b(c,d){p(this,b);var e=q(this,a.call(this,c,d));e.canLift=function(a){return eb(e.store.getState(),a)},e.store=Ja(),e.announcer=ib(),e.hookCaller=Wa(e.announcer.announce),e.styleMarshal=db();var f={cancel:function(){e.store.dispatch(_b())},publishDraggable:function(a){e.store.dispatch(Qb(a))},publishDroppable:function(a){e.store.dispatch(Rb(a))},bulkPublish:function(a,b){e.store.dispatch(Sb(a,b))},updateDroppableScroll:function(a,b){e.store.dispatch(Tb(a,b))},updateDroppableIsEnabled:function(a,b){e.store.dispatch(Ub(a,b))}};e.dimensionMarshal=Xa(f),e.autoScroller=Eb({scrollWindow:fb,scrollDroppable:e.dimensionMarshal.scrollDroppable,move:function(a,b,c,d){e.store.dispatch(Vb(a,b,c,d))}});var g=e.store.getState();return e.unsubscribe=e.store.subscribe(function(){var a=e.store.getState(),b=g,c=a.phase!==g.phase;g=a,c&&e.styleMarshal.onPhaseChange(a);var d="DRAGGING"===b.phase&&"DRAGGING"!==a.phase;d&&e.dimensionMarshal.onPhaseChange(a);var f={onDragStart:e.props.onDragStart,onDragEnd:e.props.onDragEnd,onDragUpdate:e.props.onDragUpdate};e.hookCaller.onStateChange(f,b,a),c&&!d&&e.dimensionMarshal.onPhaseChange(a),e.autoScroller.onStateChange(b,a)}),e}return r(b,a),b.prototype.getChildContext=function(){var a;return a={},a[Gb]=this.store,a[Ib]=this.dimensionMarshal,a[Jb]=this.styleMarshal.styleContext,a[Kb]=this.canLift,a},b.prototype.componentDidMount=function(){this.styleMarshal.mount(),this.announcer.mount()},b.prototype.componentWillUnmount=function(){this.unsubscribe(),this.styleMarshal.unmount(),this.announcer.unmount()},b.prototype.render=function(){return this.props.children},b}(t.Component);ic.childContextTypes=(e={},e[Gb]=u.shape({dispatch:u.func.isRequired,subscribe:u.func.isRequired,getState:u.func.isRequired}).isRequired,e[Ib]=u.object.isRequired,e[Jb]=u.string.isRequired,e[Kb]=u.func.isRequired,e);var jc,kc=function(a){return a.phase},lc=function(a){return a.drop&&a.drop.pending?a.drop.pending:null},mc=function(a){return a.drag},nc=function(a){return a.dimension.draggable},oc=v.createSelector([kc,mc,lc,nc],function(a,b,c,d){if("DRAGGING"===a){if(!b)return console.error("cannot get placeholder dimensions as there is an invalid drag state"),null;return d[b.initial.descriptor.id]}if("DROP_ANIMATING"===a){if(!c)return console.error("cannot get placeholder dimensions as there is an invalid drag state"),null;if(!c.result.destination)return null;return d[c.result.draggableId]}return null}),pc=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.some(function(a){return"auto"===a||"scroll"===a})},qc=function(a){var b=window.getComputedStyle(a);return pc(b.overflow,b.overflowY,b.overflowX)},rc=function a(b){return null==b?null:qc(b)?b:a(b.parentElement)},sc={x:0,y:0},tc=function(a){return{x:a.scrollLeft,y:a.scrollTop}},uc=function(a){function b(c,d){p(this,b);var e=q(this,a.call(this,c,d));e.closestScrollable=null,e.isWatchingScroll=!1,e.scrollOptions=null,e.publishedDescriptor=null,e.getClosestScroll=function(){return e.closestScrollable?tc(e.closestScrollable):sc},e.memoizedUpdateScroll=h(function(a,b){if(!e.publishedDescriptor)return void console.error("Cannot update scroll on unpublished droppable");var c={x:a,y:b};e.context[Ib].updateDroppableScroll(e.publishedDescriptor.id,c)}),e.updateScroll=function(){var a=e.getClosestScroll();e.memoizedUpdateScroll(a.x,a.y)},e.scheduleScrollUpdate=o(e.updateScroll),e.onClosestScroll=function(){return e.scrollOptions?e.scrollOptions.shouldPublishImmediately?void e.updateScroll():void e.scheduleScrollUpdate():void console.error("Cannot find scroll options while scrolling")},e.scroll=function(a){return null==e.closestScrollable?void console.error("Cannot scroll a droppable with no closest scrollable"):e.isWatchingScroll?(e.closestScrollable.scrollTop+=a.y,void(e.closestScrollable.scrollLeft+=a.x)):void console.error("Updating Droppable scroll while not watching for updates")},e.watchScroll=function(a){if(!e.props.getDroppableRef())return void console.error("cannot watch droppable scroll if not in the dom");null!=e.closestScrollable&&(e.isWatchingScroll||(e.isWatchingScroll=!0,e.scrollOptions=a,e.closestScrollable.addEventListener("scroll",e.onClosestScroll,{passive:!0})))},e.unwatchScroll=function(){if(e.isWatchingScroll){if(e.isWatchingScroll=!1,e.scrollOptions=null,e.scheduleScrollUpdate.cancel(),!e.closestScrollable)return void console.error("cannot unbind event listener if element is null");e.closestScrollable.removeEventListener("scroll",e.onClosestScroll)}},e.getMemoizedDescriptor=h(function(a,b){return{id:a,type:b}}),e.publish=function(){var a=e.getMemoizedDescriptor(e.props.droppableId,e.props.type);if(a!==e.publishedDescriptor){e.publishedDescriptor&&e.unpublish();e.context[Ib].registerDroppable(a,e.callbacks),e.publishedDescriptor=a}},e.unpublish=function(){if(!e.publishedDescriptor)return void console.error("Cannot unpublish descriptor when none is published");e.context[Ib].unregisterDroppable(e.publishedDescriptor),e.publishedDescriptor=null},e.getDimension=function(){var a=e.props,b=a.direction,c=a.ignoreContainerClipping,d=a.isDropDisabled,g=a.getDroppableRef,h=g(),i=e.publishedDescriptor;j(h,"DimensionPublisher cannot calculate a dimension when not attached to the DOM"),j(!e.isWatchingScroll,"Attempting to recapture Droppable dimension while already watching scroll on previous capture"),j(i,"Cannot get dimension for unpublished droppable");var k=rc(h);e.closestScrollable=k;var l=function(){var a=f.getBox(h);if(!k)return a;if(h!==k)return a;var b=a.paddingBox.top-k.scrollTop,c=a.paddingBox.left-k.scrollLeft,d=b+k.scrollHeight,e=c+k.scrollWidth,g={top:b,right:e,bottom:d,left:c},i={top:g.top-a.border.top,right:g.right+a.border.right,bottom:g.bottom+a.border.bottom,left:g.left-a.border.left};return f.createBox({borderBox:i,margin:a.margin,border:a.border,padding:a.padding})}(),m=f.withScroll(l),n=function(){if(!k)return null;var a=f.getBox(k);return{client:a,page:f.withScroll(a),scrollHeight:k.scrollHeight,scrollWidth:k.scrollWidth,scroll:tc(k),shouldClipSubject:!c}}();return V({descriptor:i,isEnabled:!d,direction:b,client:l,page:m,closest:n})};var g={getDimension:e.getDimension,watchScroll:e.watchScroll,unwatchScroll:e.unwatchScroll,scroll:e.scroll};return e.callbacks=g,e}return r(b,a),b.prototype.componentDidMount=function(){this.publish()},b.prototype.componentDidUpdate=function(a){if(this.publish(),this.props.isDropDisabled!==a.isDropDisabled){this.context[Ib].updateDroppableIsEnabled(this.props.droppableId,!this.props.isDropDisabled)}},b.prototype.componentWillUnmount=function(){this.isWatchingScroll&&(console.warn("unmounting droppable while it was watching scroll"),this.unwatchScroll()),this.unpublish()},b.prototype.render=function(){return this.props.children},b}(s.Component);uc.contextTypes=(jc={},jc[Ib]=u.object.isRequired,jc);var vc,wc,xc=function(a){function b(){return p(this,b),q(this,a.apply(this,arguments))}return r(b,a),b.prototype.render=function(){var a=this.props.placeholder,b=a.client,c=a.display,d=a.tagName,e={display:c,width:b.borderBox.width,height:b.borderBox.height,boxSizing:"border-box",marginTop:b.margin.top,marginLeft:b.margin.left,marginBottom:b.margin.bottom,marginRight:b.margin.right,flexShrink:"0",flexGrow:"0",pointerEvents:"none"};return t.createElement(d,{style:e})},b}(s.PureComponent),yc=function(a){function b(c,d){p(this,b);var e=q(this,a.call(this,c,d));return e.ref=null,e.setRef=function(a){null!==a&&a!==e.ref&&(e.ref=a)},e.getDroppableRef=function(){return e.ref},e.styleContext=d[Jb],e}return r(b,a),b.prototype.getChildContext=function(){var a;return a={},a[Hb]=this.props.droppableId,a},b.prototype.componentDidMount=function(){this.ref||console.error("\n        Droppable has not been provided with a ref.\n        Please use the DroppableProvided > innerRef function\n      ")},b.prototype.getPlaceholder=function(){return this.props.placeholder?t.createElement(xc,{placeholder:this.props.placeholder}):null},b.prototype.render=function(){var a=this.props,b=a.children,c=a.direction,d=a.droppableId,e=a.ignoreContainerClipping,f=a.isDraggingOver,g=a.isDropDisabled,h=a.draggingOverWith,i=a.type,j={innerRef:this.setRef,placeholder:this.getPlaceholder(),droppableProps:{"data-react-beautiful-dnd-droppable":this.styleContext}},k={isDraggingOver:f,draggingOverWith:h};return t.createElement(uc,{droppableId:d,type:i,direction:c,ignoreContainerClipping:e,isDropDisabled:g,getDroppableRef:this.getDroppableRef},b(j,k))},b}(s.Component);yc.contextTypes=(vc={},vc[Jb]=u.string.isRequired,vc),yc.childContextTypes=(wc={},wc[Hb]=u.string.isRequired,wc);var zc=function(){var a=function(a,b){return b.droppableId},b=function(a,b){return b.isDropDisabled||!1},c=h(function(a,b){return!!b&&b.droppableId===a}),d=h(function(a,b,c){return c&&b?a===c.descriptor.droppableId?null:a!==b.droppableId?null:c.placeholder:null}),e=h(function(a,b,c){return{isDraggingOver:a,draggingOverWith:b,placeholder:c}});return v.createSelector([kc,mc,oc,lc,a,b],function(a,b,f,g,h,i){if(i)return e(!1,null,null);if("DRAGGING"===a){if(!b)return console.error("cannot determine dragging over as there is not drag"),e(!1,null,null);var j=c(h,b.impact.destination),k=j?b.initial.descriptor.id:null,l=d(h,b.impact.destination,f);return e(j,k,l)}if("DROP_ANIMATING"===a){if(!g)return console.error("cannot determine dragging over as there is no pending result"),e(!1,null,null);var m=c(h,g.impact.destination),n=m?g.result.draggableId:null,o=d(h,g.result.destination,f);return e(m,n,o)}return e(!1,null,null)})},Ac=function(){var a=zc();return function(b,c){return a(b,c)}},Bc=w.connect(Ac,null,null,{storeKey:Gb})(yc);Bc.defaultProps={type:"DEFAULT",isDropDisabled:!1,direction:"vertical",ignoreContainerClipping:!1};var Cc,Dc=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Ec=function(a){function b(){var c,d,e;p(this,b);for(var g=arguments.length,i=Array(g),k=0;k<g;k++)i[k]=arguments[k];return c=d=q(this,a.call.apply(a,[this].concat(i))),d.publishedDescriptor=null,d.getMemoizedDescriptor=h(function(a,b,c){return{id:a,droppableId:b,index:c}}),d.publish=function(){var a=d.getMemoizedDescriptor(d.props.draggableId,d.props.droppableId,d.props.index);if(a!==d.publishedDescriptor){d.publishedDescriptor&&d.unpublish();d.context[Ib].registerDraggable(a,d.getDimension),d.publishedDescriptor=a}},d.unpublish=function(){if(!d.publishedDescriptor)return void console.error("cannot unpublish descriptor when none is published");d.context[Ib].unregisterDraggable(d.publishedDescriptor),d.publishedDescriptor=null},d.getDimension=function(){var a=d.props.getDraggableRef(),b=d.publishedDescriptor;j(a,"DraggableDimensionPublisher cannot calculate a dimension when not attached to the DOM"),j(b,"Cannot get dimension for unpublished draggable");var c=window.getComputedStyle(a),e=f.calculateBox(a.getBoundingClientRect(),c),g=f.withScroll(e,Dc());return{descriptor:b,placeholder:{client:e,tagName:a.tagName.toLowerCase(),display:c.display},client:e,page:g}},e=c,q(d,e)}return r(b,a),b.prototype.componentDidMount=function(){this.publish()},b.prototype.componentDidUpdate=function(){this.publish()},b.prototype.componentWillUnmount=function(){this.unpublish()},b.prototype.render=function(){return this.props.children},b}(s.Component);Ec.contextTypes=(Cc={},Cc[Ib]=u.object.isRequired,Cc);var Fc={x:0,y:0},Gc={transform:null},Hc=function(a){return a.x===Fc.x&&a.y===Fc.y},Ic=function(a,b,c){if(a)return Gc;var d={x:b,y:c};return Hc(d)?Gc:{transform:"translate("+d.x+"px, "+d.y+"px)"}},Jc=function(a){function b(){var c,d,e;p(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=q(this,a.call.apply(a,[this].concat(g))),d.onRest=function(){var a=d.props.onMoveEnd;a&&setTimeout(function(){return a()})},d.getFinal=function(){var a=d.props.destination,b=d.props.speed;if("INSTANT"===b)return a;var c="FAST"===b?Ya.fast:Ya.standard;return{x:x.spring(a.x,c),y:x.spring(a.y,c)}},e=c,q(d,e)}return r(b,a),b.prototype.render=function(){var a=this,b=this.getFinal(),c=Hc(b);return t.createElement(x.Motion,{defaultStyle:Fc,style:b,onRest:this.onRest},function(b){return a.props.children(Ic(c,b.x,b.y))})},b}(s.Component);Jc.defaultProps={destination:Fc};var Kc,Lc,Mc,Nc=function(a){return a?a.ownerDocument.defaultView:window},Oc=function(a){return a.hasAttribute(_a)?a:a.querySelector("[data-react-beautiful-dnd-drag-handle]")||null},Pc=null,Qc=function(){var a=!1,b=function(){a||(a=!0,window.addEventListener("focus",d,{capture:!0}))},c=function(){a&&(a=!1,window.removeEventListener("focus",d,{capture:!0}))},d=function(){c(),Pc=null},e=function(){return b()};return e.cancel=function(){return c()},e}(),Rc=function(a){Pc=a,Qc()},Sc=function(a,b){if(Pc&&a===Pc){Pc=null,Qc.cancel();var c=Oc(b);if(!c)return void console.warn("Could not find drag handle in the DOM to focus on it");c.focus()}},Tc={retain:Rc,tryRestoreFocus:Sc},Uc={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0},Vc=function a(b,c){if(null==c)return!1;if(Boolean(Uc[c.tagName.toLowerCase()]))return!0;var d=c.getAttribute("contenteditable");return"true"===d||""===d||c!==b&&a(b,c.parentElement)},Wc=function(a,b){if(b.canDragInteractiveElements)return!0;var c=a.target,d=a.currentTarget;return!(c instanceof Element&&d instanceof Element)||!Vc(d,c)},Xc=function(a){var b=h(function(b,c){var d={x:b,y:c};a.onMove(d)}),c=o(function(a){return b(a.x,a.y)}),d=o(a.onMoveForward),e=o(a.onMoveBackward),f=o(a.onCrossAxisMoveForward),g=o(a.onCrossAxisMoveBackward),i=o(a.onWindowScroll);return{move:c,moveForward:d,moveBackward:e,crossAxisMoveForward:f,crossAxisMoveBackward:g,windowScrollMove:i,cancel:function(){c.cancel(),d.cancel(),e.cancel(),f.cancel(),g.cancel(),i.cancel()}}},Yc=function(a,b){return Math.abs(b.x-a.x)>=5||Math.abs(b.y-a.y)>=5},Zc=(Kc={},Kc[13]=!0,Kc[9]=!0,Kc),$c=function(a){Zc[a.keyCode]&&a.preventDefault()},_c=function(a,b,c){b.forEach(function(b){var d=i({},c,b.options);a.addEventListener(b.eventName,b.fn,d)})},ad=function(a,b,c){b.forEach(function(b){var d=i({},c,b.options);a.removeEventListener(b.eventName,b.fn,d)})},bd=function(a){var b=!1,c=function(){b||(b=!0,_c(a(),e,{capture:!0}))},d=function(){b&&(b=!1,ad(a(),e,{capture:!0}))},e=[{eventName:"click",fn:function(a){a.preventDefault(),d()}},{eventName:"mousedown",fn:d},{eventName:"touchstart",fn:d}];return{preventNext:function(){b&&d(),c()},abort:d}},cd=function(){var a=!1;return{handle:function(){if(a)return void console.error("Cannot handle mouse down as it is already handled");a=!0},isHandled:function(){return a},reset:function(){a=!1}}},dd=function(){var a="visibilitychange";return"undefined"==typeof document?a:[a,"ms"+a,"webkit"+a,"moz"+a,"o"+a].find(function(a){return"on"+a in document})||a}(),ed=function(){},fd=cd(),gd=function(a){var b=a.callbacks,c=a.getWindow,d=a.canStartCapturing,e={isDragging:!1,pending:null},f=function(a){e=a},g=function(){return e.isDragging},h=function(){return Boolean(e.pending||e.isDragging)},i=Xc(b),j=bd(c),k=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ed;f({pending:null,isDragging:!0}),a()},l=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ed,b=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i.cancel(),t(),fd.reset(),b&&j.preventNext(),f({isDragging:!1,pending:null}),a()},m=function(a){f({pending:a,isDragging:!1}),s()},n=function(){l(ed,!1)},o=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ed;if(e.pending)return void n();l(a)},p=function(){o(),j.abort()},q=function(){o(b.onCancel)},r=[{eventName:"mousemove",fn:function(a){var c=a.button,d=a.clientX,f=a.clientY;if(0===c){var g={x:d,y:f};return e.isDragging?(a.preventDefault(),void i.move(g)):e.pending?void(Yc(e.pending,g)&&(a.preventDefault(),k(function(){return b.onLift({client:g,autoScrollMode:"FLUID"})}))):void console.error("invalid state")}}},{eventName:"mouseup",fn:function(a){if(e.pending)return void n();a.preventDefault(),l(b.onDrop)}},{eventName:"mousedown",fn:function(a){e.isDragging&&a.preventDefault(),l(b.onCancel)}},{eventName:"keydown",fn:function(a){return e.isDragging?27===a.keyCode?(a.preventDefault(),void q()):void $c(a):void q()}},{eventName:"resize",fn:q},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){if(e.pending)return void n();i.windowScrollMove()}},{eventName:"webkitmouseforcechanged",fn:function(a){if(null==a.webkitForce||null==MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN)return void console.error("handling a mouse force changed event when it is not supported");var b=MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN;a.webkitForce>=b&&q()}},{eventName:dd,fn:q}],s=function(){var a=c();_c(a,r,{capture:!0})},t=function(){var a=c();ad(a,r,{capture:!0})};return{onMouseDown:function(a){if(!fd.isHandled()&&d(a)){if(h())return console.error("should not be able to perform a mouse down while a drag or pending drag is occurring"),void q();if(0===a.button&&!(a.ctrlKey||a.metaKey||a.shiftKey||a.altKey)){fd.handle(),a.preventDefault();var b={x:a.clientX,y:a.clientY};m(b)}}},kill:o,isCapturing:h,isDragging:g,unmount:p}},hd=function(a){return f.getRect(a.getBoundingClientRect()).center},id=(Lc={},Lc[34]=!0,Lc[33]=!0,Lc[36]=!0,Lc[35]=!0,Lc),jd=function(){},kd=function(a){var b=a.callbacks,c=a.getWindow,d=a.getDraggableRef,e=a.canStartCapturing,f={isDragging:!1},g=function(a){f=a},h=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jd;g({isDragging:!0}),p(),a()},i=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jd;m.cancel(),q(),g({isDragging:!1}),a()},j=function(){return i()},k=function(){i(b.onCancel)},l=function(){return f.isDragging},m=Xc(b),n=function(a,c){var f=c.direction;if(!l()){if(a.defaultPrevented)return;if(!e(a))return;if(32!==a.keyCode)return;var g=d();if(!g)return void console.error("cannot start a keyboard drag without a draggable ref");var j=hd(g);return a.preventDefault(),void h(function(){return b.onLift({client:j,autoScrollMode:"JUMP"})})}if(27===a.keyCode)return a.preventDefault(),void k();if(32===a.keyCode)return a.preventDefault(),void i(b.onDrop);if(!f)return console.error("Cannot handle keyboard movement event if direction is not provided"),a.preventDefault(),void k();var n=function(a){if("vertical"===f)return void a.vertical();a.horizontal()};return 40===a.keyCode?(a.preventDefault(),void n({vertical:m.moveForward,horizontal:m.crossAxisMoveForward})):38===a.keyCode?(a.preventDefault(),void n({vertical:m.moveBackward,horizontal:m.crossAxisMoveBackward})):39===a.keyCode?(a.preventDefault(),void n({vertical:m.crossAxisMoveForward,horizontal:m.moveForward})):(37===a.keyCode&&(a.preventDefault(),n({vertical:m.crossAxisMoveBackward,horizontal:m.moveBackward})),id[a.keyCode]?void a.preventDefault():void $c(a))},o=[{eventName:"mousedown",fn:k},{eventName:"mouseup",fn:k},{eventName:"click",fn:k},{eventName:"touchstart",fn:k},{eventName:"resize",fn:k},{eventName:"wheel",fn:k},{eventName:"scroll",options:{capture:!1},fn:b.onWindowScroll},{eventName:dd,fn:k}],p=function(){_c(c(),o,{capture:!0})},q=function(){ad(c(),o,{capture:!0})};return{onKeyDown:n,kill:j,isDragging:l,isCapturing:l,unmount:j}},ld=cd(),md=function(){},nd=function(){var a={preventTouchMove:md,releaseTouchMove:md};if("undefined"==typeof window)return a;if(!("ontouchstart"in window))return a;var b=!1;return window.addEventListener("touchmove",function(a){b&&(a.defaultPrevented||a.preventDefault())},{passive:!1,capture:!1}),{preventTouchMove:function(){b=!0},releaseTouchMove:function(){b=!1}}}(),od={isDragging:!1,pending:null,hasMoved:!1,longPressTimerId:null},pd=function(a){var b=a.callbacks,c=a.getWindow,d=a.canStartCapturing,e=od,f=function(a){e=i({},e,a)},g=function(){return e.isDragging},h=function(){return Boolean(e.pending||e.isDragging||e.longPressTimerId)},j=Xc(b),k=bd(c),l=function(){var a=e.pending;if(!a)return console.error("cannot start a touch drag without a pending position"),void p();f({isDragging:!0,hasMoved:!1,pending:null,longPressTimerId:null}),b.onLift({client:a,autoScrollMode:"FLUID"})},m=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:md;j.cancel(),ld.reset(),nd.releaseTouchMove(),u(),k.preventNext(),f(od),a()},n=function(a){var b=a.touches[0],c=b.clientX,d=b.clientY,e={x:c,y:d},g=setTimeout(l,150);f({longPressTimerId:g,pending:e,isDragging:!1,hasMoved:!1}),t()},o=function(){e.longPressTimerId&&clearTimeout(e.longPressTimerId),j.cancel(),ld.reset(),nd.releaseTouchMove(),u(),f(od)},p=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:md;if(e.pending)return void o();m(a)},q=function(){p(),k.abort()},r=function(){p(b.onCancel)},s=[{eventName:"touchmove",options:{passive:!1},fn:function(a){if(!e.isDragging)return void o();e.hasMoved||f({hasMoved:!0});var b=a.touches[0],c=b.clientX,d=b.clientY,g={x:c,y:d};a.preventDefault(),j.move(g)}},{eventName:"touchend",fn:function(a){if(!e.isDragging)return void o();a.preventDefault(),m(b.onDrop)}},{eventName:"touchcancel",fn:function(a){if(!e.isDragging)return void o();a.preventDefault(),m(b.onCancel)}},{eventName:"touchstart",fn:r},{eventName:"orientationchange",fn:r},{eventName:"resize",fn:r},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){if(e.pending)return void o();j.windowScrollMove()}},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(!e.isDragging)return void r();27===a.keyCode&&a.preventDefault(),r()}},{eventName:"touchforcechange",fn:function(a){if(e.hasMoved)return void a.preventDefault();a.touches[0].force>=.15&&r()}},{eventName:dd,fn:r}],t=function(){_c(c(),s,{capture:!0})},u=function(){ad(c(),s,{capture:!0})};return{onTouchStart:function(a){if(!ld.isHandled()&&d(a)){if(h())return console.error("should not be able to perform a touch start while a drag or pending drag is occurring"),void r();ld.handle(),nd.preventTouchMove(),n(a)}},kill:p,isCapturing:h,isDragging:g,unmount:q}},qd=function(a){a.preventDefault()},rd=function(a){function b(c,d){p(this,b);var e=q(this,a.call(this,c,d));e.isFocused=!1,e.onFocus=function(){e.isFocused=!0},e.onBlur=function(){e.isFocused=!1},e.onKeyDown=function(a){e.mouseSensor.isCapturing()||e.keyboardSensor.onKeyDown(a,e.props)},e.onMouseDown=function(a){e.keyboardSensor.isCapturing()||e.mouseSensor.isCapturing()||e.mouseSensor.onMouseDown(a)},e.onTouchStart=function(a){if(e.mouseSensor.isCapturing()||e.keyboardSensor.isCapturing())return void console.error("mouse or keyboard already listening when attempting to touch drag");e.touchSensor.onTouchStart(a)},e.canStartCapturing=function(a){return!e.isAnySensorCapturing()&&(!!e.canLift(e.props.draggableId)&&Wc(a,e.props))},e.isAnySensorCapturing=function(){return e.sensors.some(function(a){return a.isCapturing()})},e.getProvided=h(function(a){return a?{onMouseDown:e.onMouseDown,onKeyDown:e.onKeyDown,onTouchStart:e.onTouchStart,onFocus:e.onFocus,onBlur:e.onBlur,tabIndex:0,"data-react-beautiful-dnd-drag-handle":e.styleContext,"aria-roledescription":"Draggable item. Press space bar to lift",draggable:!1,onDragStart:qd}:null});var f=function(){return Nc(e.props.getDraggableRef())},g={callbacks:e.props.callbacks,getDraggableRef:e.props.getDraggableRef,getWindow:f,canStartCapturing:e.canStartCapturing};return e.mouseSensor=gd(g),e.keyboardSensor=kd(g),e.touchSensor=pd(g),e.sensors=[e.mouseSensor,e.keyboardSensor,e.touchSensor],e.styleContext=d[Jb],e.canLift=d[Kb],e}return r(b,a),b.prototype.componentDidMount=function(){var a=this.props.getDraggableRef();if(this.lastDraggableRef=a,!a)return void console.error("Cannot get draggable ref from drag handle");if(this.props.isEnabled){var b=Oc(a);j(b,"DragHandle could not find drag handle element"),Tc.tryRestoreFocus(this.props.draggableId,b)}},b.prototype.componentDidUpdate=function(a){var b=this,c=this.props.getDraggableRef();if(c!==this.lastDraggableRef){if(this.lastDraggableRef=c,!c||!this.isFocused)return;if(!this.props.isEnabled)return;var d=Oc(c);j(d,"DragHandle could not find drag handle element"),d.focus()}if(this.isAnySensorCapturing()){if(a.isDragging&&!this.props.isDragging)return void this.sensors.forEach(function(a){a.isCapturing()&&a.kill()});this.props.isEnabled||this.sensors.forEach(function(a){if(a.isCapturing()){var c=a.isDragging();a.kill(),c&&b.props.callbacks.onCancel()}})}},b.prototype.componentWillUnmount=function(){var a=this;this.sensors.forEach(function(b){var c=b.isDragging();b.unmount(),c&&a.props.callbacks.onCancel()}),function(){return!!a.props.isEnabled&&(!!a.isFocused&&(a.props.isDragging||a.props.isDropAnimating))}()&&Tc.retain(this.props.draggableId)},b.prototype.render=function(){var a=this.props,b=a.children,c=a.isEnabled;return b(this.getProvided(c))},b}(s.Component);rd.contextTypes=(Mc={},Mc[Jb]=u.string.isRequired,Mc[Kb]=u.func.isRequired,Mc);var sd,td=function(){var a=Dc(),b=a.y,c=a.x,d=document.documentElement;j(d,"Could not find document.documentElement");var e=d.clientWidth,g=d.clientHeight,h=c+e,i=b+g,k=f.getRect({top:b,left:c,right:h,bottom:i});return{subject:k,maxScroll:S({scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth,width:k.width,height:k.height}),scroll:a}},ud={dragging:5e3,dropAnimating:4500},vd=function(a){function b(c,d){p(this,b);var e=q(this,a.call(this,c,d));e.ref=null,e.onMoveEnd=function(){
e.props.isDropAnimating&&e.props.dropAnimationFinished()},e.onLift=function(a){Qa("LIFT"),e.throwIfCannotDrag();var b=a.client,c=a.autoScrollMode,d=e.props,f=d.lift,g=d.draggableId,h=e.ref;j(h,"Cannot lift at this time as there is no ref"),f(g,{selection:b,borderBoxCenter:hd(h)},td(),c)},e.onMove=function(a){e.throwIfCannotDrag();var b=e.props,c=b.draggableId,d=b.dimension,f=b.move;d&&f(c,a,td())},e.onMoveForward=function(){e.throwIfCannotDrag(),e.props.moveForward(e.props.draggableId)},e.onMoveBackward=function(){e.throwIfCannotDrag(),e.props.moveBackward(e.props.draggableId)},e.onCrossAxisMoveForward=function(){e.throwIfCannotDrag(),e.props.crossAxisMoveForward(e.props.draggableId)},e.onCrossAxisMoveBackward=function(){e.throwIfCannotDrag(),e.props.crossAxisMoveBackward(e.props.draggableId)},e.onWindowScroll=function(){e.throwIfCannotDrag(),e.props.moveByWindowScroll(e.props.draggableId,td())},e.onDrop=function(){e.throwIfCannotDrag(),e.props.drop()},e.onCancel=function(){e.props.cancel()},e.setRef=function(a){null!==a&&a!==e.ref&&(e.ref=a)},e.getDraggableRef=function(){return e.ref},e.getDraggingStyle=h(function(a,b,c){var d=a.client.borderBox,e=d.width,f=d.height,g=d.top,h=d.left;return{position:"fixed",boxSizing:"border-box",zIndex:b?ud.dropAnimating:ud.dragging,width:e,height:f,top:g,left:h,margin:0,pointerEvents:"none",transition:"none",transform:c.transform?""+c.transform:null}}),e.getNotDraggingStyle=h(function(a,b){return{transform:a.transform,transition:b?null:"none"}}),e.getProvided=h(function(a,b,c,d,f,g){var h=a||b,i=function(){return h?(j(d,"draggable dimension required for dragging"),e.getDraggingStyle(d,b,g)):e.getNotDraggingStyle(g,c)}();return{innerRef:e.setRef,draggableProps:{"data-react-beautiful-dnd-draggable":e.styleContext,style:i},dragHandleProps:f}}),e.getSnapshot=h(function(a,b,c){return{isDragging:a||b,draggingOver:c}}),e.getSpeed=h(function(a,b,c){return c?"STANDARD":a&&b?"FAST":"INSTANT"}),e.renderChildren=function(a,b){var c=e.props,d=c.isDragging,f=c.isDropAnimating,g=c.dimension,h=c.draggingOver,i=c.shouldAnimateDisplacement,j=c.children,k=j(e.getProvided(d,f,i,g,b,a),e.getSnapshot(d,f,h)),l=d||f,m=function(){return l?g?t.createElement(xc,{placeholder:g.placeholder}):(console.error("Draggable: Dimension is required for dragging"),null):null}();return t.createElement(s.Fragment,null,k,m)};var f={onLift:e.onLift,onMove:e.onMove,onDrop:e.onDrop,onCancel:e.onCancel,onMoveBackward:e.onMoveBackward,onMoveForward:e.onMoveForward,onCrossAxisMoveForward:e.onCrossAxisMoveForward,onCrossAxisMoveBackward:e.onCrossAxisMoveBackward,onWindowScroll:e.onWindowScroll};return e.callbacks=f,e.styleContext=d[Jb],e}return r(b,a),b.prototype.componentDidMount=function(){this.ref||console.error("\n        Draggable has not been provided with a ref.\n        Please use the DraggableProvided > innerRef function\n      ")},b.prototype.componentWillUnmount=function(){this.ref=null},b.prototype.throwIfCannotDrag=function(){j(this.ref,"\n      Draggable: cannot drag as no DOM node has been provided\n      Please ensure you provide a DOM node using the DraggableProvided > innerRef function\n    "),j(!this.props.isDragDisabled,"Draggable: cannot drag as dragging is not enabled")},b.prototype.render=function(){var a=this,b=this.props,c=b.draggableId,d=b.index,e=b.offset,f=b.isDragging,g=b.isDropAnimating,h=b.isDragDisabled,i=b.direction,j=b.shouldAnimateDragMovement,k=b.disableInteractiveElementBlocking,l=this.context[Hb],m=this.getSpeed(f,j,g);return t.createElement(Ec,{key:c,draggableId:c,droppableId:l,index:d,getDraggableRef:this.getDraggableRef},t.createElement(Jc,{speed:m,destination:e,onMoveEnd:this.onMoveEnd},function(b){return t.createElement(rd,{draggableId:c,isDragging:f,isDropAnimating:g,direction:i,isEnabled:!h,callbacks:a.callbacks,getDraggableRef:a.getDraggableRef,canDragInteractiveElements:k},function(c){return a.renderChildren(b,c)})}))},b}(s.Component);vd.contextTypes=(sd={},sd[Hb]=u.string.isRequired,sd[Jb]=u.string.isRequired,sd);var wd={x:0,y:0},xd={isDropAnimating:!1,isDragging:!1,offset:wd,shouldAnimateDragMovement:!1,shouldAnimateDisplacement:!0,dimension:null,direction:null,draggingOver:null},yd=function(){var a=h(function(a,b){return{x:a,y:b}}),b=h(function(a,b){return{isDropAnimating:!1,isDragging:!1,offset:a,shouldAnimateDisplacement:b,shouldAnimateDragMovement:!1,dimension:null,direction:null,draggingOver:null}}),c=h(function(a,b,c,d,e){return{isDragging:!0,isDropAnimating:!1,shouldAnimateDisplacement:!1,offset:a,shouldAnimateDragMovement:b,dimension:c,direction:d,draggingOver:e}}),d=function(b,d){if("DRAGGING"!==b.phase&&"DROP_ANIMATING"!==b.phase)return null;if("DRAGGING"===b.phase){var e=b.drag;if(!e)return console.error("invalid drag state found in selector"),null;if(e.initial.descriptor.id!==d.draggableId)return null;var f=e.current.client.offset,g=b.dimension.draggable[d.draggableId],h=function(){return e.impact.direction?e.impact.direction:b.dimension.droppable[e.initial.descriptor.droppableId].axis.direction}(),i=e.current.shouldAnimate,j=e.impact.destination?e.impact.destination.droppableId:null;return c(a(f.x,f.y),i,g,h,j)}var k=b.drop&&b.drop.pending;if(!k)return console.error("cannot provide props for dropping item when there is invalid state"),null;if(k.result.draggableId!==d.draggableId)return null;var l=k.result.destination?k.result.destination.droppableId:null,m=k.impact.direction?k.impact.direction:null;return{isDragging:!1,isDropAnimating:!0,offset:k.newHomeOffset,dimension:b.dimension.draggable[d.draggableId],draggingOver:l,direction:m,shouldAnimateDragMovement:!1,shouldAnimateDisplacement:!1}},e=function(c,d){var e=_(d.displaced),f=e[c];if(!f)return null;if(!f.isVisible)return null;var g=d.isBeyondStartPosition?B(d.amount):d.amount;return b(a(g.x,g.y),f.shouldAnimate)},f=function(a,b){return"DRAGGING"!==a.phase&&"DROP_ANIMATING"!==a.phase?null:"DRAGGING"===a.phase?a.drag?a.drag.initial.descriptor.id===b.draggableId?null:e(b.draggableId,a.drag.impact.movement):(console.error("cannot correctly move item out of the way when there is invalid state"),null):a.drop&&a.drop.pending?a.drop.pending.result.draggableId===b.draggableId?null:e(b.draggableId,a.drop.pending.impact.movement):(console.error("cannot provide props for dropping item when there is invalid state"),null)};return v.createSelector([d,f],function(a,b){return a||(b||xd)})},zd=function(){var a=yd();return function(b,c){return a(b,c)}},Ad={lift:gc,move:Vb,moveForward:Yb,moveBackward:Xb,crossAxisMoveForward:Zb,crossAxisMoveBackward:$b,moveByWindowScroll:Wb,drop:dc,dropAnimationFinished:fc,cancel:ec},Bd=w.connect(zd,Ad,null,{storeKey:Gb})(vd);Bd.defaultProps={isDragDisabled:!1,disableInteractiveElementBlocking:!1},c.DragDropContext=ic,c.Droppable=Bc,c.Draggable=Bd,c.resetServerContext=hc}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/core-js/object/assign":4,"babel-runtime/core-js/object/keys":6,"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/extends":11,"babel-runtime/helpers/inherits":12,"babel-runtime/helpers/possibleConstructorReturn":13,"babel-runtime/helpers/typeof":14,"css-box-model":94,"memoize-one":119,"prop-types":130,"raf-schd":132,"react-motion":142,"react-redux":157,redux:175,"redux-thunk":174,reselect:176,"tiny-invariant":180}],136:[function(a,b,c){(function(d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=a("./mapToZero"),k=e(j),l=a("./stripStyle"),m=e(l),n=a("./stepper"),o=e(n),p=a("performance-now"),q=e(p),r=a("raf"),s=e(r),t=a("./shouldStopAnimation"),u=e(t),v="undefined"!=typeof window?window.React:void 0!==d?d.React:null,w=e(v),x=a("prop-types"),y=e(x),z=1e3/60,A=function(a){function b(c){var d=this;f(this,b),a.call(this,c),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(a){var b=!1,c=d.state,e=c.currentStyle,f=c.currentVelocity,g=c.lastIdealStyle,i=c.lastIdealVelocity;for(var j in a)if(Object.prototype.hasOwnProperty.call(a,j)){var k=a[j];"number"==typeof k&&(b||(b=!0,e=h({},e),f=h({},f),g=h({},g),i=h({},i)),e[j]=k,f[j]=0,g[j]=k,i[j]=0)}b&&d.setState({currentStyle:e,currentVelocity:f,lastIdealStyle:g,lastIdealVelocity:i})},this.startAnimationIfNecessary=function(){d.animationID=s.default(function(a){var b=d.props.style;if(u.default(d.state.currentStyle,b,d.state.currentVelocity))return d.wasAnimating&&d.props.onRest&&d.props.onRest(),d.animationID=null,d.wasAnimating=!1,void(d.accumulatedTime=0);d.wasAnimating=!0;var c=a||q.default(),e=c-d.prevTime;if(d.prevTime=c,d.accumulatedTime=d.accumulatedTime+e,d.accumulatedTime>10*z&&(d.accumulatedTime=0),0===d.accumulatedTime)return d.animationID=null,void d.startAnimationIfNecessary();var f=(d.accumulatedTime-Math.floor(d.accumulatedTime/z)*z)/z,g=Math.floor(d.accumulatedTime/z),h={},i={},j={},k={};for(var l in b)if(Object.prototype.hasOwnProperty.call(b,l)){var m=b[l];if("number"==typeof m)j[l]=m,k[l]=0,h[l]=m,i[l]=0;else{for(var n=d.state.lastIdealStyle[l],p=d.state.lastIdealVelocity[l],r=0;r<g;r++){var s=o.default(z/1e3,n,p,m.val,m.stiffness,m.damping,m.precision);n=s[0],p=s[1]}var t=o.default(z/1e3,n,p,m.val,m.stiffness,m.damping,m.precision),v=t[0],w=t[1];j[l]=n+(v-n)*f,k[l]=p+(w-p)*f,h[l]=n,i[l]=p}}d.animationID=null,d.accumulatedTime-=g*z,d.setState({currentStyle:j,currentVelocity:k,lastIdealStyle:h,lastIdealVelocity:i}),d.unreadPropStyle=null,d.startAnimationIfNecessary()})},this.state=this.defaultState()}return g(b,a),i(b,null,[{key:"propTypes",value:{defaultStyle:y.default.objectOf(y.default.number),style:y.default.objectOf(y.default.oneOfType([y.default.number,y.default.object])).isRequired,children:y.default.func.isRequired,onRest:y.default.func},enumerable:!0}]),b.prototype.defaultState=function(){var a=this.props,b=a.defaultStyle,c=a.style,d=b||m.default(c),e=k.default(d);return{currentStyle:d,currentVelocity:e,lastIdealStyle:d,lastIdealVelocity:e}},b.prototype.componentDidMount=function(){this.prevTime=q.default(),this.startAnimationIfNecessary()},b.prototype.componentWillReceiveProps=function(a){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=a.style,null==this.animationID&&(this.prevTime=q.default(),this.startAnimationIfNecessary())},b.prototype.componentWillUnmount=function(){null!=this.animationID&&(s.default.cancel(this.animationID),this.animationID=null)},b.prototype.render=function(){var a=this.props.children(this.state.currentStyle);return a&&w.default.Children.only(a)},b}(w.default.Component);c.default=A,b.exports=c.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./mapToZero":139,"./shouldStopAnimation":144,"./stepper":146,"./stripStyle":147,"performance-now":125,"prop-types":130,raf:133}],137:[function(a,b,c){(function(d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a,b,c){for(var d=0;d<a.length;d++)if(!v.default(a[d],b[d],c[d]))return!1;return!0}c.__esModule=!0;var i=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=a("./mapToZero"),l=e(k),m=a("./stripStyle"),n=e(m),o=a("./stepper"),p=e(o),q=a("performance-now"),r=e(q),s=a("raf"),t=e(s),u=a("./shouldStopAnimation"),v=e(u),w="undefined"!=typeof window?window.React:void 0!==d?d.React:null,x=e(w),y=a("prop-types"),z=e(y),A=1e3/60,B=function(a){function b(c){var d=this;f(this,b),a.call(this,c),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(a){for(var b=d.state,c=b.currentStyles,e=b.currentVelocities,f=b.lastIdealStyles,g=b.lastIdealVelocities,h=!1,j=0;j<a.length;j++){var k=a[j],l=!1;for(var m in k)if(Object.prototype.hasOwnProperty.call(k,m)){var n=k[m];"number"==typeof n&&(l||(l=!0,h=!0,c[j]=i({},c[j]),e[j]=i({},e[j]),f[j]=i({},f[j]),g[j]=i({},g[j])),c[j][m]=n,e[j][m]=0,f[j][m]=n,g[j][m]=0)}}h&&d.setState({currentStyles:c,currentVelocities:e,lastIdealStyles:f,lastIdealVelocities:g})},this.startAnimationIfNecessary=function(){d.animationID=t.default(function(a){var b=d.props.styles(d.state.lastIdealStyles);if(h(d.state.currentStyles,b,d.state.currentVelocities))return d.animationID=null,void(d.accumulatedTime=0);var c=a||r.default(),e=c-d.prevTime;if(d.prevTime=c,d.accumulatedTime=d.accumulatedTime+e,d.accumulatedTime>10*A&&(d.accumulatedTime=0),0===d.accumulatedTime)return d.animationID=null,void d.startAnimationIfNecessary();for(var f=(d.accumulatedTime-Math.floor(d.accumulatedTime/A)*A)/A,g=Math.floor(d.accumulatedTime/A),i=[],j=[],k=[],l=[],m=0;m<b.length;m++){var n=b[m],o={},q={},s={},t={};for(var u in n)if(Object.prototype.hasOwnProperty.call(n,u)){var v=n[u];if("number"==typeof v)o[u]=v,q[u]=0,s[u]=v,t[u]=0;else{for(var w=d.state.lastIdealStyles[m][u],x=d.state.lastIdealVelocities[m][u],y=0;y<g;y++){var z=p.default(A/1e3,w,x,v.val,v.stiffness,v.damping,v.precision);w=z[0],x=z[1]}var B=p.default(A/1e3,w,x,v.val,v.stiffness,v.damping,v.precision),C=B[0],D=B[1];o[u]=w+(C-w)*f,q[u]=x+(D-x)*f,s[u]=w,t[u]=x}}k[m]=o,l[m]=q,i[m]=s,j[m]=t}d.animationID=null,d.accumulatedTime-=g*A,d.setState({currentStyles:k,currentVelocities:l,lastIdealStyles:i,lastIdealVelocities:j}),d.unreadPropStyles=null,d.startAnimationIfNecessary()})},this.state=this.defaultState()}return g(b,a),j(b,null,[{key:"propTypes",value:{defaultStyles:z.default.arrayOf(z.default.objectOf(z.default.number)),styles:z.default.func.isRequired,children:z.default.func.isRequired},enumerable:!0}]),b.prototype.defaultState=function(){var a=this.props,b=a.defaultStyles,c=a.styles,d=b||c().map(n.default),e=d.map(function(a){return l.default(a)});return{currentStyles:d,currentVelocities:e,lastIdealStyles:d,lastIdealVelocities:e}},b.prototype.componentDidMount=function(){this.prevTime=r.default(),this.startAnimationIfNecessary()},b.prototype.componentWillReceiveProps=function(a){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=a.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=r.default(),this.startAnimationIfNecessary())},b.prototype.componentWillUnmount=function(){null!=this.animationID&&(t.default.cancel(this.animationID),this.animationID=null)},b.prototype.render=function(){var a=this.props.children(this.state.currentStyles);return a&&x.default.Children.only(a)},b}(x.default.Component);c.default=B,b.exports=c.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./mapToZero":139,"./shouldStopAnimation":144,"./stepper":146,"./stripStyle":147,"performance-now":125,"prop-types":130,raf:133}],138:[function(a,b,c){(function(d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a,b,c){var d=b;return null==d?a.map(function(a,b){return{key:a.key,data:a.data,style:c[b]}}):a.map(function(a,b){for(var e=0;e<d.length;e++)if(d[e].key===a.key)return{key:d[e].key,data:d[e].data,style:c[b]};return{key:a.key,data:a.data,style:c[b]}})}function i(a,b,c,d){if(d.length!==b.length)return!1;for(var e=0;e<d.length;e++)if(d[e].key!==b[e].key)return!1;for(var e=0;e<d.length;e++)if(!z.default(a[e],b[e].style,c[e]))return!1;return!0}function j(a,b,c,d,e,f,g,h,i){for(var j=t.default(d,e,function(a,d){var e=b(d);return null==e?(c({key:d.key,data:d.data}),null):z.default(f[a],e,g[a])?(c({key:d.key,data:d.data}),null):{key:d.key,data:d.data,style:e}}),k=[],l=[],m=[],o=[],p=0;p<j.length;p++){for(var q=j[p],r=null,s=0;s<d.length;s++)if(d[s].key===q.key){r=s;break}if(null==r){var u=a(q);k[p]=u,m[p]=u;var v=n.default(q.style);l[p]=v,o[p]=v}else k[p]=f[r],m[p]=h[r],l[p]=g[r],o[p]=i[r]}return[j,k,l,m,o]}c.__esModule=!0;var k=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},l=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),m=a("./mapToZero"),n=e(m),o=a("./stripStyle"),p=e(o),q=a("./stepper"),r=e(q),s=a("./mergeDiff"),t=e(s),u=a("performance-now"),v=e(u),w=a("raf"),x=e(w),y=a("./shouldStopAnimation"),z=e(y),A="undefined"!=typeof window?window.React:void 0!==d?d.React:null,B=e(A),C=a("prop-types"),D=e(C),E=1e3/60,F=function(a){function b(c){var d=this;f(this,b),a.call(this,c),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(a){for(var b=j(d.props.willEnter,d.props.willLeave,d.props.didLeave,d.state.mergedPropsStyles,a,d.state.currentStyles,d.state.currentVelocities,d.state.lastIdealStyles,d.state.lastIdealVelocities),c=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=0;i<a.length;i++){var l=a[i].style,m=!1;for(var n in l)if(Object.prototype.hasOwnProperty.call(l,n)){var o=l[n];"number"==typeof o&&(m||(m=!0,e[i]=k({},e[i]),f[i]=k({},f[i]),g[i]=k({},g[i]),h[i]=k({},h[i]),c[i]={key:c[i].key,data:c[i].data,style:k({},c[i].style)}),e[i][n]=o,f[i][n]=0,g[i][n]=o,h[i][n]=0,c[i].style[n]=o)}}d.setState({currentStyles:e,currentVelocities:f,mergedPropsStyles:c,lastIdealStyles:g,lastIdealVelocities:h})},this.startAnimationIfNecessary=function(){d.unmounting||(d.animationID=x.default(function(a){if(!d.unmounting){var b=d.props.styles,c="function"==typeof b?b(h(d.state.mergedPropsStyles,d.unreadPropStyles,d.state.lastIdealStyles)):b;if(i(d.state.currentStyles,c,d.state.currentVelocities,d.state.mergedPropsStyles))return d.animationID=null,void(d.accumulatedTime=0);var e=a||v.default(),f=e-d.prevTime;if(d.prevTime=e,d.accumulatedTime=d.accumulatedTime+f,d.accumulatedTime>10*E&&(d.accumulatedTime=0),0===d.accumulatedTime)return d.animationID=null,void d.startAnimationIfNecessary();for(var g=(d.accumulatedTime-Math.floor(d.accumulatedTime/E)*E)/E,k=Math.floor(d.accumulatedTime/E),l=j(d.props.willEnter,d.props.willLeave,d.props.didLeave,d.state.mergedPropsStyles,c,d.state.currentStyles,d.state.currentVelocities,d.state.lastIdealStyles,d.state.lastIdealVelocities),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4],s=0;s<m.length;s++){var t=m[s].style,u={},w={},x={},y={};for(var z in t)if(Object.prototype.hasOwnProperty.call(t,z)){var A=t[z];if("number"==typeof A)u[z]=A,w[z]=0,x[z]=A,y[z]=0;else{for(var B=p[s][z],C=q[s][z],D=0;D<k;D++){var F=r.default(E/1e3,B,C,A.val,A.stiffness,A.damping,A.precision);B=F[0],C=F[1]}var G=r.default(E/1e3,B,C,A.val,A.stiffness,A.damping,A.precision),H=G[0],I=G[1];u[z]=B+(H-B)*g,w[z]=C+(I-C)*g,x[z]=B,y[z]=C}}p[s]=x,q[s]=y,n[s]=u,o[s]=w}d.animationID=null,d.accumulatedTime-=k*E,d.setState({currentStyles:n,currentVelocities:o,lastIdealStyles:p,lastIdealVelocities:q,mergedPropsStyles:m}),d.unreadPropStyles=null,d.startAnimationIfNecessary()}}))},this.state=this.defaultState()}return g(b,a),l(b,null,[{key:"propTypes",value:{defaultStyles:D.default.arrayOf(D.default.shape({key:D.default.string.isRequired,data:D.default.any,style:D.default.objectOf(D.default.number).isRequired})),styles:D.default.oneOfType([D.default.func,D.default.arrayOf(D.default.shape({key:D.default.string.isRequired,data:D.default.any,style:D.default.objectOf(D.default.oneOfType([D.default.number,D.default.object])).isRequired}))]).isRequired,children:D.default.func.isRequired,willEnter:D.default.func,willLeave:D.default.func,didLeave:D.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(a){return p.default(a.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),b.prototype.defaultState=function(){var a=this.props,b=a.defaultStyles,c=a.styles,d=a.willEnter,e=a.willLeave,f=a.didLeave,g="function"==typeof c?c(b):c,h=void 0;h=null==b?g:b.map(function(a){for(var b=0;b<g.length;b++)if(g[b].key===a.key)return g[b];return a});var i=null==b?g.map(function(a){return p.default(a.style)}):b.map(function(a){return p.default(a.style)}),k=null==b?g.map(function(a){return n.default(a.style)}):b.map(function(a){return n.default(a.style)}),l=j(d,e,f,h,g,i,k,i,k),m=l[0];return{currentStyles:l[1],currentVelocities:l[2],lastIdealStyles:l[3],lastIdealVelocities:l[4],mergedPropsStyles:m}},b.prototype.componentDidMount=function(){this.prevTime=v.default(),this.startAnimationIfNecessary()},b.prototype.componentWillReceiveProps=function(a){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var b=a.styles;this.unreadPropStyles="function"==typeof b?b(h(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):b,null==this.animationID&&(this.prevTime=v.default(),this.startAnimationIfNecessary())},b.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(x.default.cancel(this.animationID),this.animationID=null)},b.prototype.render=function(){var a=h(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),b=this.props.children(a);return b&&B.default.Children.only(b)},b}(B.default.Component);c.default=F,b.exports=c.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./mapToZero":139,"./mergeDiff":140,"./shouldStopAnimation":144,"./stepper":146,"./stripStyle":147,"performance-now":125,"prop-types":130,raf:133}],139:[function(a,b,c){"use strict";function d(a){var b={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=0);return b}c.__esModule=!0,c.default=d,b.exports=c.default},{}],140:[function(a,b,c){"use strict";function d(a,b,c){for(var d={},e=0;e<a.length;e++)d[a[e].key]=e;for(var f={},e=0;e<b.length;e++)f[b[e].key]=e;for(var g=[],e=0;e<b.length;e++)g[e]=b[e];for(var e=0;e<a.length;e++)if(!Object.prototype.hasOwnProperty.call(f,a[e].key)){var h=c(e,a[e]);null!=h&&g.push(h)}return g.sort(function(a,c){var e=f[a.key],g=f[c.key],h=d[a.key],i=d[c.key];if(null!=e&&null!=g)return f[a.key]-f[c.key];if(null!=h&&null!=i)return d[a.key]-d[c.key];if(null!=e){for(var j=0;j<b.length;j++){var k=b[j].key;if(Object.prototype.hasOwnProperty.call(d,k)){if(e<f[k]&&i>d[k])return-1;if(e>f[k]&&i<d[k])return 1}}return 1}for(var j=0;j<b.length;j++){var k=b[j].key;if(Object.prototype.hasOwnProperty.call(d,k)){if(g<f[k]&&h>d[k])return 1;if(g>f[k]&&h<d[k])return-1}}return-1})}c.__esModule=!0,c.default=d,b.exports=c.default},{}],141:[function(a,b,c){"use strict";c.__esModule=!0,c.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},b.exports=c.default},{}],142:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a.default:a}c.__esModule=!0;var e=a("./Motion");c.Motion=d(e);var f=a("./StaggeredMotion");c.StaggeredMotion=d(f);var g=a("./TransitionMotion");c.TransitionMotion=d(g);var h=a("./spring");c.spring=d(h);var i=a("./presets");c.presets=d(i);var j=a("./stripStyle");c.stripStyle=d(j);var k=a("./reorderKeys");c.reorderKeys=d(k)},{"./Motion":136,"./StaggeredMotion":137,"./TransitionMotion":138,"./presets":141,"./reorderKeys":143,"./spring":145,"./stripStyle":147}],143:[function(a,b,c){(function(a){"use strict";function d(){"development"===a.env.NODE_ENV&&(e||(e=!0,console.error("`reorderKeys` has been removed, since it is no longer needed for TransitionMotion's new styles array API.")))}c.__esModule=!0,c.default=d;var e=!1;b.exports=c.default}).call(this,a("_process"))},{_process:126}],144:[function(a,b,c){"use strict";function d(a,b,c){for(var d in b)if(Object.prototype.hasOwnProperty.call(b,d)){if(0!==c[d])return!1;var e="number"==typeof b[d]?b[d]:b[d].val;if(a[d]!==e)return!1}return!0}c.__esModule=!0,c.default=d,b.exports=c.default},{}],145:[function(a,b,c){"use strict";function d(a,b){return e({},h,b,{val:a})}c.__esModule=!0;var e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};c.default=d;var f=a("./presets"),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=e({},g.default.noWobble,{precision:.01});b.exports=c.default},{"./presets":141}],146:[function(a,b,c){"use strict";function d(a,b,c,d,f,g,h){var i=-f*(b-d),j=-g*c,k=i+j,l=c+k*a,m=b+l*a;return Math.abs(l)<h&&Math.abs(m-d)<h?(e[0]=d,e[1]=0,e):(e[0]=m,e[1]=l,e)}c.__esModule=!0,c.default=d;var e=[0,0];b.exports=c.default},{}],147:[function(a,b,c){"use strict";function d(a){var b={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]="number"==typeof a[c]?a[c]:a[c].val);return b}c.__esModule=!0,c.default=d,b.exports=c.default},{}],148:[function(a,b,c){(function(b,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function i(){q||(q=!0,(0,p.default)("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions."))}function j(){var a,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",d=arguments[1],e=d||c+"Subscription",j=function(a){function b(d,e){f(this,b);var h=g(this,a.call(this,d,e));return h[c]=d.store,h}return h(b,a),b.prototype.getChildContext=function(){var a;return a={},a[c]=this[c],a[e]=null,a},b.prototype.render=function(){return k.Children.only(this.props.children)},b}(k.Component);return"production"!==b.env.NODE_ENV&&(j.prototype.componentWillReceiveProps=function(a){this[c]!==a.store&&i()}),j.propTypes={store:n.storeShape.isRequired,children:m.default.element.isRequired},j.childContextTypes=(a={},a[c]=n.storeShape.isRequired,a[e]=n.subscriptionShape,a),j}c.__esModule=!0,c.createProvider=j;var k="undefined"!=typeof window?window.React:void 0!==d?d.React:null,l=a("prop-types"),m=e(l),n=a("../utils/PropTypes"),o=a("../utils/warning"),p=e(o),q=!1;c.default=j()}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/PropTypes":158,"../utils/warning":162,_process:126,"prop-types":130}],149:[function(a,b,c){(function(b,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function i(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function j(){}function k(a,b){var c={run:function(d){try{var e=a(b.getState(),d);(e!==c.props||c.error)&&(c.shouldComponentUpdate=!0,c.props=e,c.error=null)}catch(a){c.shouldComponentUpdate=!0,c.error=a}}};return c}function l(a){var c,d,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=e.getDisplayName,n=void 0===l?function(a){return"ConnectAdvanced("+a+")"}:l,p=e.methodName,s=void 0===p?"connectAdvanced":p,x=e.renderCountProp,y=void 0===x?void 0:x,z=e.shouldHandleStateChanges,A=void 0===z||z,B=e.storeKey,C=void 0===B?"store":B,D=e.withRef,E=void 0!==D&&D,F=i(e,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),G=C+"Subscription",H=v++,I=(c={},c[C]=u.storeShape,c[G]=u.subscriptionShape,c),J=(d={},d[G]=u.subscriptionShape,d);return function(c){(0,q.default)("function"==typeof c,"You must pass a component to the function returned by "+s+". Instead received "+JSON.stringify(c));var d=c.displayName||c.name||"Component",e=n(d),i=m({},F,{getDisplayName:n,methodName:s,renderCountProp:y,shouldHandleStateChanges:A,storeKey:C,withRef:E,displayName:e,wrappedComponentName:d,WrappedComponent:c}),l=function(b){function d(a,c){f(this,d);var h=g(this,b.call(this,a,c));return h.version=H,h.state={},h.renderCount=0,h.store=a[C]||c[C],h.propsMode=Boolean(a[C]),h.setWrappedInstance=h.setWrappedInstance.bind(h),(0,q.default)(h.store,'Could not find "'+C+'" in either the context or props of "'+e+'". Either wrap the root component in a <Provider>, or explicitly pass "'+C+'" as a prop to "'+e+'".'),h.initSelector(),h.initSubscription(),h}return h(d,b),d.prototype.getChildContext=function(){var a,b=this.propsMode?null:this.subscription;return a={},a[G]=b||this.context[G],a},d.prototype.componentDidMount=function(){A&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},d.prototype.componentWillReceiveProps=function(a){this.selector.run(a)},d.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},d.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=j,this.store=null,this.selector.run=j,this.selector.shouldComponentUpdate=!1},d.prototype.getWrappedInstance=function(){return(0,
q.default)(E,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+s+"() call."),this.wrappedInstance},d.prototype.setWrappedInstance=function(a){this.wrappedInstance=a},d.prototype.initSelector=function(){var b=a(this.store.dispatch,i);this.selector=k(b,this.store),this.selector.run(this.props)},d.prototype.initSubscription=function(){if(A){var a=(this.propsMode?this.props:this.context)[G];this.subscription=new t.default(this.store,a,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},d.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(w)):this.notifyNestedSubs()},d.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},d.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},d.prototype.addExtraProps=function(a){if(!(E||y||this.propsMode&&this.subscription))return a;var b=m({},a);return E&&(b.ref=this.setWrappedInstance),y&&(b[y]=this.renderCount++),this.propsMode&&this.subscription&&(b[G]=this.subscription),b},d.prototype.render=function(){var a=this.selector;if(a.shouldComponentUpdate=!1,a.error)throw a.error;return(0,r.createElement)(c,this.addExtraProps(a.props))},d}(r.Component);return l.WrappedComponent=c,l.displayName=e,l.childContextTypes=J,l.contextTypes=I,l.propTypes=I,"production"!==b.env.NODE_ENV&&(l.prototype.componentWillUpdate=function(){var a=this;if(this.version!==H){this.version=H,this.initSelector();var b=[];this.subscription&&(b=this.subscription.listeners.get(),this.subscription.tryUnsubscribe()),this.initSubscription(),A&&(this.subscription.trySubscribe(),b.forEach(function(b){return a.subscription.listeners.subscribe(b)}))}}),(0,o.default)(l,c)}}c.__esModule=!0;var m=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};c.default=l;var n=a("hoist-non-react-statics"),o=e(n),p=a("invariant"),q=e(p),r="undefined"!=typeof window?window.React:void 0!==d?d.React:null,s=a("../utils/Subscription"),t=e(s),u=a("../utils/PropTypes"),v=0,w={}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/PropTypes":158,"../utils/Subscription":159,_process:126,"hoist-non-react-statics":163,invariant:98}],150:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function f(a,b,c){for(var d=b.length-1;d>=0;d--){var e=b[d](a);if(e)return e}return function(b,d){throw new Error("Invalid value of type "+typeof a+" for "+c+" argument when connecting component "+d.wrappedComponentName+".")}}function g(a,b){return a===b}function h(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.connectHOC,c=void 0===b?k.default:b,d=a.mapStateToPropsFactories,h=void 0===d?q.default:d,j=a.mapDispatchToPropsFactories,l=void 0===j?o.default:j,n=a.mergePropsFactories,p=void 0===n?s.default:n,r=a.selectorFactory,t=void 0===r?u.default:r;return function(a,b,d){var j=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},k=j.pure,n=void 0===k||k,o=j.areStatesEqual,q=void 0===o?g:o,r=j.areOwnPropsEqual,s=void 0===r?m.default:r,u=j.areStatePropsEqual,v=void 0===u?m.default:u,w=j.areMergedPropsEqual,x=void 0===w?m.default:w,y=e(j,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),z=f(a,h,"mapStateToProps"),A=f(b,l,"mapDispatchToProps"),B=f(d,p,"mergeProps");return c(t,i({methodName:"connect",getDisplayName:function(a){return"Connect("+a+")"},shouldHandleStateChanges:Boolean(a),initMapStateToProps:z,initMapDispatchToProps:A,initMergeProps:B,pure:n,areStatesEqual:q,areOwnPropsEqual:s,areStatePropsEqual:v,areMergedPropsEqual:x},y))}}c.__esModule=!0;var i=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};c.createConnect=h;var j=a("../components/connectAdvanced"),k=d(j),l=a("../utils/shallowEqual"),m=d(l),n=a("./mapDispatchToProps"),o=d(n),p=a("./mapStateToProps"),q=d(p),r=a("./mergeProps"),s=d(r),t=a("./selectorFactory"),u=d(t);c.default=h()},{"../components/connectAdvanced":149,"../utils/shallowEqual":160,"./mapDispatchToProps":151,"./mapStateToProps":152,"./mergeProps":153,"./selectorFactory":154}],151:[function(a,b,c){"use strict";function d(a){return"function"==typeof a?(0,h.wrapMapToPropsFunc)(a,"mapDispatchToProps"):void 0}function e(a){return a?void 0:(0,h.wrapMapToPropsConstant)(function(a){return{dispatch:a}})}function f(a){return a&&"object"==typeof a?(0,h.wrapMapToPropsConstant)(function(b){return(0,g.bindActionCreators)(a,b)}):void 0}c.__esModule=!0,c.whenMapDispatchToPropsIsFunction=d,c.whenMapDispatchToPropsIsMissing=e,c.whenMapDispatchToPropsIsObject=f;var g=a("redux"),h=a("./wrapMapToProps");c.default=[d,e,f]},{"./wrapMapToProps":156,redux:175}],152:[function(a,b,c){"use strict";function d(a){return"function"==typeof a?(0,f.wrapMapToPropsFunc)(a,"mapStateToProps"):void 0}function e(a){return a?void 0:(0,f.wrapMapToPropsConstant)(function(){return{}})}c.__esModule=!0,c.whenMapStateToPropsIsFunction=d,c.whenMapStateToPropsIsMissing=e;var f=a("./wrapMapToProps");c.default=[d,e]},{"./wrapMapToProps":156}],153:[function(a,b,c){(function(b){"use strict";function d(a,b,c){return h({},c,a,b)}function e(a){return function(c,d){var e=d.displayName,f=d.pure,g=d.areMergedPropsEqual,h=!1,i=void 0;return function(c,d,k){var l=a(c,d,k);return h?f&&g(l,i)||(i=l):(h=!0,i=l,"production"!==b.env.NODE_ENV&&(0,j.default)(i,e,"mergeProps")),i}}}function f(a){return"function"==typeof a?e(a):void 0}function g(a){return a?void 0:function(){return d}}c.__esModule=!0;var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};c.defaultMergeProps=d,c.wrapMergePropsFunc=e,c.whenMergePropsIsFunction=f,c.whenMergePropsIsOmitted=g;var i=a("../utils/verifyPlainObject"),j=function(a){return a&&a.__esModule?a:{default:a}}(i);c.default=[f,g]}).call(this,a("_process"))},{"../utils/verifyPlainObject":161,_process:126}],154:[function(a,b,c){(function(b){"use strict";function d(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function e(a,b,c,d){return function(e,f){return c(a(e,f),b(d,f),f)}}function f(a,b,c,d,e){function f(e,f){return o=e,p=f,q=a(o,p),r=b(d,p),s=c(q,r,p),n=!0,s}function g(){return q=a(o,p),b.dependsOnOwnProps&&(r=b(d,p)),s=c(q,r,p)}function h(){return a.dependsOnOwnProps&&(q=a(o,p)),b.dependsOnOwnProps&&(r=b(d,p)),s=c(q,r,p)}function i(){var b=a(o,p),d=!m(b,q);return q=b,d&&(s=c(q,r,p)),s}function j(a,b){var c=!l(b,p),d=!k(a,o);return o=a,p=b,c&&d?g():c?h():d?i():s}var k=e.areStatesEqual,l=e.areOwnPropsEqual,m=e.areStatePropsEqual,n=!1,o=void 0,p=void 0,q=void 0,r=void 0,s=void 0;return function(a,b){return n?j(a,b):f(a,b)}}function g(a,c){var g=c.initMapStateToProps,h=c.initMapDispatchToProps,j=c.initMergeProps,k=d(c,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),l=g(a,k),m=h(a,k),n=j(a,k);return"production"!==b.env.NODE_ENV&&(0,i.default)(l,m,n,k.displayName),(k.pure?f:e)(l,m,n,a,k)}c.__esModule=!0,c.impureFinalPropsSelectorFactory=e,c.pureFinalPropsSelectorFactory=f,c.default=g;var h=a("./verifySubselectors"),i=function(a){return a&&a.__esModule?a:{default:a}}(h)}).call(this,a("_process"))},{"./verifySubselectors":155,_process:126}],155:[function(a,b,c){"use strict";function d(a,b,c){if(!a)throw new Error("Unexpected value for "+b+" in "+c+".");"mapStateToProps"!==b&&"mapDispatchToProps"!==b||a.hasOwnProperty("dependsOnOwnProps")||(0,g.default)("The selector for "+b+" of "+c+" did not specify a value for dependsOnOwnProps.")}function e(a,b,c,e){d(a,"mapStateToProps",e),d(b,"mapDispatchToProps",e),d(c,"mergeProps",e)}c.__esModule=!0,c.default=e;var f=a("../utils/warning"),g=function(a){return a&&a.__esModule?a:{default:a}}(f)},{"../utils/warning":162}],156:[function(a,b,c){(function(b){"use strict";function d(a){return function(b,c){function d(){return e}var e=a(b,c);return d.dependsOnOwnProps=!1,d}}function e(a){return null!==a.dependsOnOwnProps&&void 0!==a.dependsOnOwnProps?Boolean(a.dependsOnOwnProps):1!==a.length}function f(a,c){return function(d,f){var g=f.displayName,i=function(a,b){return i.dependsOnOwnProps?i.mapToProps(a,b):i.mapToProps(a)};return i.dependsOnOwnProps=!0,i.mapToProps=function(d,f){i.mapToProps=a,i.dependsOnOwnProps=e(a);var j=i(d,f);return"function"==typeof j&&(i.mapToProps=j,i.dependsOnOwnProps=e(j),j=i(d,f)),"production"!==b.env.NODE_ENV&&(0,h.default)(j,g,c),j},i}}c.__esModule=!0,c.wrapMapToPropsConstant=d,c.getDependsOnOwnProps=e,c.wrapMapToPropsFunc=f;var g=a("../utils/verifyPlainObject"),h=function(a){return a&&a.__esModule?a:{default:a}}(g)}).call(this,a("_process"))},{"../utils/verifyPlainObject":161,_process:126}],157:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0,c.connect=c.connectAdvanced=c.createProvider=c.Provider=void 0;var e=a("./components/Provider"),f=d(e),g=a("./components/connectAdvanced"),h=d(g),i=a("./connect/connect"),j=d(i);c.Provider=f.default,c.createProvider=e.createProvider,c.connectAdvanced=h.default,c.connect=j.default},{"./components/Provider":148,"./components/connectAdvanced":149,"./connect/connect":150}],158:[function(a,b,c){"use strict";c.__esModule=!0,c.storeShape=c.subscriptionShape=void 0;var d=a("prop-types"),e=function(a){return a&&a.__esModule?a:{default:a}}(d);c.subscriptionShape=e.default.shape({trySubscribe:e.default.func.isRequired,tryUnsubscribe:e.default.func.isRequired,notifyNestedSubs:e.default.func.isRequired,isSubscribed:e.default.func.isRequired}),c.storeShape=e.default.shape({subscribe:e.default.func.isRequired,dispatch:e.default.func.isRequired,getState:e.default.func.isRequired})},{"prop-types":130}],159:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(){var a=[],b=[];return{clear:function(){b=f,a=f},notify:function(){for(var c=a=b,d=0;d<c.length;d++)c[d]()},get:function(){return b},subscribe:function(c){var d=!0;return b===a&&(b=a.slice()),b.push(c),function(){d&&a!==f&&(d=!1,b===a&&(b=a.slice()),b.splice(b.indexOf(c),1))}}}}c.__esModule=!0;var f=null,g={notify:function(){}},h=function(){function a(b,c,e){d(this,a),this.store=b,this.parentSub=c,this.onStateChange=e,this.unsubscribe=null,this.listeners=g}return a.prototype.addNestedSub=function(a){return this.trySubscribe(),this.listeners.subscribe(a)},a.prototype.notifyNestedSubs=function(){this.listeners.notify()},a.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},a.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=e())},a.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=g)},a}();c.default=h},{}],160:[function(a,b,c){"use strict";function d(a,b){return a===b?0!==a||0!==b||1/a==1/b:a!==a&&b!==b}function e(a,b){if(d(a,b))return!0;if("object"!=typeof a||null===a||"object"!=typeof b||null===b)return!1;var c=Object.keys(a),e=Object.keys(b);if(c.length!==e.length)return!1;for(var g=0;g<c.length;g++)if(!f.call(b,c[g])||!d(a[c[g]],b[c[g]]))return!1;return!0}c.__esModule=!0,c.default=e;var f=Object.prototype.hasOwnProperty},{}],161:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){(0,g.default)(a)||(0,i.default)(c+"() in "+b+" must return a plain object. Instead received "+a+".")}c.__esModule=!0,c.default=e;var f=a("lodash/isPlainObject"),g=d(f),h=a("./warning"),i=d(h)},{"./warning":162,"lodash/isPlainObject":173}],162:[function(a,b,c){"use strict";function d(a){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(a);try{throw new Error(a)}catch(a){}}c.__esModule=!0,c.default=d},{}],163:[function(a,b,c){!function(a,d){"object"==typeof c&&void 0!==b?b.exports=d():"function"==typeof define&&define.amd?define(d):a.hoistNonReactStatics=d()}(this,function(){"use strict";var a={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},b={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},c=Object.defineProperty,d=Object.getOwnPropertyNames,e=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,h=g&&g(Object);return function i(j,k,l){if("string"!=typeof k){if(h){var m=g(k);m&&m!==h&&i(j,m,l)}var n=d(k);e&&(n=n.concat(e(k)));for(var o=0;o<n.length;++o){var p=n[o];if(!(a[p]||b[p]||l&&l[p])){var q=f(k,p);try{c(j,p,q)}catch(a){}}}return j}return j}})},{}],164:[function(a,b,c){var d=a("./_root"),e=d.Symbol;b.exports=e},{"./_root":171}],165:[function(a,b,c){function d(a){return null==a?void 0===a?i:h:j&&j in Object(a)?f(a):g(a)}var e=a("./_Symbol"),f=a("./_getRawTag"),g=a("./_objectToString"),h="[object Null]",i="[object Undefined]",j=e?e.toStringTag:void 0;b.exports=d},{"./_Symbol":164,"./_getRawTag":168,"./_objectToString":169}],166:[function(a,b,c){(function(a){var c="object"==typeof a&&a&&a.Object===Object&&a;b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],167:[function(a,b,c){var d=a("./_overArg"),e=d(Object.getPrototypeOf,Object);b.exports=e},{"./_overArg":170}],168:[function(a,b,c){function d(a){var b=g.call(a,i),c=a[i];try{a[i]=void 0;var d=!0}catch(a){}var e=h.call(a);return d&&(b?a[i]=c:delete a[i]),e}var e=a("./_Symbol"),f=Object.prototype,g=f.hasOwnProperty,h=f.toString,i=e?e.toStringTag:void 0;b.exports=d},{"./_Symbol":164}],169:[function(a,b,c){function d(a){return f.call(a)}var e=Object.prototype,f=e.toString;b.exports=d},{}],170:[function(a,b,c){function d(a,b){return function(c){return a(b(c))}}b.exports=d},{}],171:[function(a,b,c){var d=a("./_freeGlobal"),e="object"==typeof self&&self&&self.Object===Object&&self,f=d||e||Function("return this")();b.exports=f},{"./_freeGlobal":166}],172:[function(a,b,c){function d(a){return null!=a&&"object"==typeof a}b.exports=d},{}],173:[function(a,b,c){function d(a){if(!g(a)||e(a)!=h)return!1;var b=f(a);if(null===b)return!0;var c=l.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&k.call(c)==m}var e=a("./_baseGetTag"),f=a("./_getPrototype"),g=a("./isObjectLike"),h="[object Object]",i=Function.prototype,j=Object.prototype,k=i.toString,l=j.hasOwnProperty,m=k.call(Object);b.exports=d},{"./_baseGetTag":165,"./_getPrototype":167,"./isObjectLike":172}],174:[function(a,b,c){"use strict";function d(a){return function(b){var c=b.dispatch,d=b.getState;return function(b){return function(e){return"function"==typeof e?e(c,d,a):b(e)}}}}c.__esModule=!0;var e=d();e.withExtraArgument=d,c.default=e},{}],175:[function(a,b,c){(function(b){"use strict";function d(a){if("object"!==(void 0===a?"undefined":r(a))||null===a)return!1;for(var b=a;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}function e(a,b,c){function f(){s===o&&(s=o.slice())}function g(){if(t)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return n}function h(a){if("function"!=typeof a)throw new Error("Expected the listener to be a function.");if(t)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var b=!0;return f(),s.push(a),function(){if(b){if(t)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");b=!1,f();var c=s.indexOf(a);s.splice(c,1)}}}function i(a){if(!d(a))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===a.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(t)throw new Error("Reducers may not dispatch actions.");try{t=!0,n=m(n,a)}finally{t=!1}for(var b=o=s,c=0;c<b.length;c++){(0,b[c])()}return a}function j(a){if("function"!=typeof a)throw new Error("Expected the nextReducer to be a function.");m=a,i({type:q.REPLACE})}function k(){var a,b=h;return a={subscribe:function(a){function c(){a.next&&a.next(g())}if("object"!==(void 0===a?"undefined":r(a))||null===a)throw new TypeError("Expected the observer to be an object.");return c(),{unsubscribe:b(c)}}},a[p]=function(){return this},a}var l;if("function"==typeof b&&void 0===c&&(c=b,b=void 0),void 0!==c){if("function"!=typeof c)throw new Error("Expected the enhancer to be a function.");return c(e)(a,b)}if("function"!=typeof a)throw new Error("Expected the reducer to be a function.");var m=a,n=b,o=[],s=o,t=!1;return i({type:q.INIT}),l={dispatch:i,subscribe:h,getState:g,replaceReducer:j},l[p]=k,l}function f(a){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(a);try{throw new Error(a)}catch(a){}}function g(a,b){var c=b&&b.type;return"Given "+(c&&'action "'+String(c)+'"'||"an action")+', reducer "'+a+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function h(a,b,c,e){var f=Object.keys(b),g=c&&c.type===q.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===f.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!d(a))return"The "+g+' has unexpected type of "'+{}.toString.call(a).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following keys: "'+f.join('", "')+'"';var h=Object.keys(a).filter(function(a){return!b.hasOwnProperty(a)&&!e[a]});return h.forEach(function(a){e[a]=!0}),c&&c.type===q.REPLACE?void 0:h.length>0?"Unexpected "+(h.length>1?"keys":"key")+' "'+h.join('", "')+'" found in '+g+'. Expected to find one of the known reducer keys instead: "'+f.join('", "')+'". Unexpected keys will be ignored.':void 0}function i(a){Object.keys(a).forEach(function(b){var c=a[b];if(void 0===c(void 0,{type:q.INIT}))throw new Error('Reducer "'+b+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===c(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+b+"\" returned undefined when probed with a random type. Don't try to handle "+q.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function j(a){for(var c=Object.keys(a),d={},e=0;e<c.length;e++){var j=c[e];"production"!==b.env.NODE_ENV&&void 0===a[j]&&f('No reducer provided for key "'+j+'"'),"function"==typeof a[j]&&(d[j]=a[j])}var k=Object.keys(d),l=void 0;"production"!==b.env.NODE_ENV&&(l={});var m=void 0;try{i(d)}catch(a){m=a}return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments[1];if(m)throw m;if("production"!==b.env.NODE_ENV){var e=h(a,d,c,l);e&&f(e)}for(var i=!1,j={},n=0;n<k.length;n++){var o=k[n],p=d[o],q=a[o],r=p(q,c);if(void 0===r){var s=g(o,c);throw new Error(s)}j[o]=r,i=i||r!==q}return i?j:a}}function k(a,b){return function(){return b(a.apply(this,arguments))}}function l(a,b){if("function"==typeof a)return k(a,b);if("object"!==(void 0===a?"undefined":r(a))||null===a)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===a?"null":void 0===a?"undefined":r(a))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var c=Object.keys(a),d={},e=0;e<c.length;e++){var f=c[e],g=a[f];"function"==typeof g&&(d[f]=k(g,b))}return d}function m(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return 0===b.length?function(a){return a}:1===b.length?b[0]:b.reduce(function(a,b){return function(){return a(b.apply(void 0,arguments))}})}function n(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a){return function(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=a.apply(void 0,d),g=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},h={getState:f.getState,dispatch:function(){return g.apply(void 0,arguments)}},i=b.map(function(a){return a(h)});return g=m.apply(void 0,i)(f.dispatch),s({},f,{dispatch:g})}}}function o(){}Object.defineProperty(c,"__esModule",{value:!0});var p=function(a){return a&&"object"==typeof a&&"default"in a?a.default:a}(a("symbol-observable")),q={INIT:"@@redux/INIT"+Math.random().toString(36).substring(7).split("").join("."),REPLACE:"@@redux/REPLACE"+Math.random().toString(36).substring(7).split("").join(".")},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},s=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};"production"!==b.env.NODE_ENV&&"string"==typeof o.name&&"isCrushed"!==o.name&&f("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build."),c.createStore=e,c.combineReducers=j,c.bindActionCreators=l,c.applyMiddleware=n,c.compose=m,c.__DO_NOT_USE__ActionTypes=q}).call(this,a("_process"))},{_process:126,"symbol-observable":177}],176:[function(a,b,c){"use strict";function d(a,b){return a===b}function e(a,b,c){if(null===b||null===c||b.length!==c.length)return!1;for(var d=b.length,e=0;e<d;e++)if(!a(b[e],c[e]))return!1;return!0}function f(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,c=null,f=null;return function(){return e(b,c,arguments)||(f=a.apply(null,arguments)),c=arguments,f}}function g(a){var b=Array.isArray(a[0])?a[0]:a;if(!b.every(function(a){return"function"==typeof a})){var c=b.map(function(a){return typeof a}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+c+"]")}return b}function h(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return function(){for(var b=arguments.length,d=Array(b),e=0;e<b;e++)d[e]=arguments[e];var h=0,i=d.pop(),j=g(d),k=a.apply(void 0,[function(){return h++,i.apply(null,arguments)}].concat(c)),l=f(function(){for(var a=[],b=j.length,c=0;c<b;c++)a.push(j[c].apply(null,arguments));return k.apply(null,a)});return l.resultFunc=i,l.recomputations=function(){return h},l.resetRecomputations=function(){return h=0},l}}function i(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j;if("object"!=typeof a)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof a);var c=Object.keys(a);return b(c.map(function(b){return a[b]}),function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];return b.reduce(function(a,b,d){return a[c[d]]=b,a},{})})}c.__esModule=!0,c.defaultMemoize=f,c.createSelectorCreator=h,c.createStructuredSelector=i;var j=c.createSelector=h(f)},{}],177:[function(a,b,c){(function(d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var e,f=a("./ponyfill.js"),g=function(a){return a&&a.__esModule?a:{default:a}}(f);e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==d?d:void 0!==b?b:Function("return this")();var h=(0,g.default)(e);c.default=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ponyfill.js":178}],178:[function(a,b,c){"use strict";function d(a){var b,c=a.Symbol;return"function"==typeof c?c.observable?b=c.observable:(b=c("observable"),c.observable=b):b="@@observable",b}Object.defineProperty(c,"__esModule",{value:!0}),c.default=d},{}],179:[function(a,b,c){(function(b,d){function e(a,b){this._id=a,this._clearFn=b}var f=a("process/browser.js").nextTick,g=Function.prototype.apply,h=Array.prototype.slice,i={},j=0;c.setTimeout=function(){return new e(g.call(setTimeout,window,arguments),clearTimeout)},c.setInterval=function(){return new e(g.call(setInterval,window,arguments),clearInterval)},c.clearTimeout=c.clearInterval=function(a){a.close()},e.prototype.unref=e.prototype.ref=function(){},e.prototype.close=function(){this._clearFn.call(window,this._id)},c.enroll=function(a,b){clearTimeout(a._idleTimeoutId),a._idleTimeout=b},c.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},c._unrefActive=c.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;b>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},b))},c.setImmediate="function"==typeof b?b:function(a){var b=j++,d=!(arguments.length<2)&&h.call(arguments,1);return i[b]=!0,f(function(){i[b]&&(d?a.apply(null,d):a.call(null),c.clearImmediate(b))}),b},c.clearImmediate="function"==typeof d?d:function(a){delete i[a]}}).call(this,a("timers").setImmediate,a("timers").clearImmediate)},{"process/browser.js":126,timers:179}],180:[function(a,b,c){(function(a){"use strict";var c="production"===a.env.NODE_ENV,d=function(a,b){if(!a){if(c)throw new Error("Invariant failed");throw new Error("Invariant failed: "+(b||""))}};b.exports=d}).call(this,a("_process"))},{_process:126}],181:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("@mapbox/geojsonhint"),f=d(e),g=a("leaflet-geosearch"),h=a("./toolbarActions/FitBoundsAction"),i=d(h),j=a("./toolbarActions/ZoomLocationAction"),k=d(j),l=a("./defaults"),m=d(l),n=a("leaflet");a("leaflet-toolbar"),a("leaflet-loading"),a("leaflet.fullscreen"),a("leaflet-providers");var o={FitBoundsAction:i.default,ZoomLocationAction:k.default},p={getBaseLayer:function(){if(!this.baseLayer){var a=this.config.controls.layersControl;void 0!==a&&a.length?this.baseLayer=n.tileLayer.provider(a[0]):this.baseLayer=n.tileLayer.provider("OpenTopoMap")}return this.baseLayer},getFeatureGroup:function(){return this.featureGroup||(this.featureGroup=new n.FeatureGroup,this.featureGroup.addTo(this.map)),this.featureGroup},getSearchControl:function(){return this.searchControl||(this.searchControl=new g.GeoSearchControl({provider:new g.OpenStreetMapProvider,style:"bar",showMarker:!1,showPopup:!1,autoClose:!0})),this.searchControl},getFullscreenControl:function(){return this.fullscreenControl||(this.fullscreenControl=new n.Control.FullScreen({position:"topleft",forceSeparateButton:!0})),this.fullscreenControl},getLoadingControl:function(){return this.loadingControl||(this.loadingControl=n.Control.loading({separate:!0,position:"bottomright"}),this.map.addControl(this.loadingControl)),this.loadingControl},getLayersControl:function(){var a=this,b=void 0,c=this.config.controls;return this.layersControl||(this.layersControlGroup=new n.layerGroup,this.layersControl=new n.control.layers({},{})),b=_.pluck(a.layersControl._layers,"name"),_.map(c.layersControl,function(c){if(-1===_.indexOf(b,c)){var d=n.tileLayer.provider(c);d.name=c,a.layersControl.addBaseLayer(d,c),a.layersControlGroup.addLayer(d)}}),b=_.pluck(a.layersControl._layers,"name"),_.map(b,function(b){if(-1===_.indexOf(c.layersControl,b)){var d=_.findWhere(a.layersControlGroup.getLayers(),{name:b});a.layersControl.removeLayer(d),a.map.removeLayer(d),a.layersControlGroup.removeLayer(d)}}),this.layersControl},getViewZoomControl:function(){var a=this.config.controls;if(this.viewZoomControl&&(void 0!==a.viewZoomControl&&void 0!==this.viewZoomControl.actions&&a.viewZoomControl.length===this.viewZoomControl.actions.length||(this.map.removeControl(this.viewZoomControl),delete this.viewZoomControl)),!this.viewZoomControl){var b=[];void 0!==a.viewZoomControl&&_.map(a.viewZoomControl,function(a){b.push(o[a])}),this.viewZoomControl=new n.Toolbar2.Control({actions:b})}return this.viewZoomControl},updateControls:function(){if(this.map){var a=this.map,b=this.getFeatureGroup(),c=this.config.controls;c.searchControl?a.addControl(this.getSearchControl()):this.searchControl&&a.removeControl(this.searchControl),c.fullscreenControl?a.addControl(this.getFullscreenControl()):this.fullscreenControl&&a.removeControl(this.fullscreenControl),c.loadingControl?a.addControl(this.getLoadingControl()):this.loadingControl&&a.removeControl(this.loadingControl),void 0!==c.layersControl&&c.layersControl.length>1?a.addControl(this.getLayersControl()):(a.removeControl(this.getLayersControl()),1===c.layersControl.length&&(a.eachLayer(function(b){b instanceof n.TileLayer&&b.name!==c.layersControl[0]&&a.removeLayer(b)}),this.baseLayer=n.tileLayer.provider(c.layersControl[0]),a.addLayer(this.baseLayer))),void 0!==c.viewZoomControl&&c.viewZoomControl.length?this.getViewZoomControl().addTo(a,b):a.removeControl(this.getViewZoomControl())}},updateMapFeatures:function(){var a=this,b=this.getFeatureGroup(),c=this.collection||this.state.featureCollection;c.each(function(c){var d=_.pluck(b.getLayers(),"postId");if(-1===_.indexOf(d,c.get("id"))){var e=c.get("geom_feature_geo_json");if(!e)return;if("string"==typeof e)return;if(!_.isUndefined(e.properties)&&_.isArray(e.properties)&&(e.properties=e.properties.reduce(function(a,b,c){return a[c]=b,a},{})),_.filter(f.default.hint(e),function(a){return!!_.isUndefined(a.level)||"message"!==a.level&&void 0}).length>0)return;n.geoJSON(e,{onEachFeature:function(d,e){e.postId=c.get("id"),b.addLayer(e),a.featureAddPopup(e),a.featureAddIcon(e,c)}})}});var d=_.pluck(b.getLayers(),"postId");_.filter(d,function(a){if(-1===_.indexOf(_.pluck(c.models,"id"),a)){var d=_.findWhere(b.getLayers(),{postId:a});b.removeLayer(d)}}),_.isEmpty(b.getBounds())||this.map.fitBounds(b.getBounds(),m.default.leaflet.fitBounds)},featureAddIcon:function(a,b){var c=b.get("geom_feature_icon");void 0!==a.setIcon&&!_.isUndefined(c.iconUrl)&&c.iconUrl.length&&a.setIcon(n.icon(c))}};c.default=p},{"./defaults":183,"./toolbarActions/FitBoundsAction":188,"./toolbarActions/ZoomLocationAction":190,"@mapbox/geojsonhint":1,leaflet:117,"leaflet-geosearch":104,"leaflet-loading":113,"leaflet-providers":114,"leaflet-toolbar":115,"leaflet.fullscreen":116}],
182:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("../models/FeatureModel"),e=function(a){return a&&a.__esModule?a:{default:a}}(d),f=wp.api.collections.Posts.extend({url:wpApiSettings.root+wpApiSettings.versionString+"geom_features",model:e.default});c.default=f},{"../models/FeatureModel":184}],183:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={controls:{searchControl:!0,fullscreenControl:!0,loadingControl:!0,layersControl:["OpenStreetMap.Mapnik","OpenTopoMap"],viewZoomControl:["FitBoundsAction","ZoomLocationAction"]},leaflet:{fitBounds:{maxZoom:12,animate:!0,duration:.5}}};c.default=d},{}],184:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("backbone.cocktail"),e=function(a){return a&&a.__esModule?a:{default:a}}(d);a("backbone-deep-model/distribution/deep-model");var f=wp.api.models.Post.extend({initialize:function(){wp.api.models.Post.prototype.initialize.apply(this,arguments)},urlRoot:function(){var a=wpApiSettings.root+wpApiSettings.versionString+"geom_features";return this.get("id")&&(a+="/"+this.get("id")),a},url:function(){var a=wpApiSettings.root+wpApiSettings.versionString+"geom_features";return this.get("id")&&(a+="/"+this.get("id")),a},save:function(a,b){return this.beforeSave(a,b),wp.api.models.Post.prototype.save.call(this,a,b)},beforeSave:function(a,b){_.omit(this.changedAttributes(),[]),this._prepareItem()},_prepareItem:function(){var a=this;"auto-draft"===this.get("status")&&this.set("status","draft",{silent:!0}),this.get("title")&&this.get("title").rendered&&this.set("title",this.get("title").rendered,{silent:!0}),_.each(this.fieldsToSerialize,function(b){a.set(b,JSON.stringify(a.toJSON()[b]),{silent:!0})})},_save:function(a,b){return this.save()},fieldsToSerialize:["geom_feature_icon","geom_feature_geo_json"],fieldsWithRendered:["title"],defaults:{type:"geom_feature",title:"",status:"publish",geom_feature_geo_json:{},geom_feature_icon:{iconUrl:"",iconAttachment:"",iconRetinaUrl:"",iconSize:{x:25,y:41},iconAnchor:{x:12,y:41},shadowUrl:"",shadowAttachment:"",shadowRetinaUrl:"",shadowSize:{x:41,y:41},shadowAnchor:{x:12,y:41},popupAnchor:{x:1,y:-34}}},sync:function(a,b,c){var d,e=this;c=c||{},_.isNull(b.get("date_gmt"))&&b.unset("date_gmt"),_.isEmpty(b.get("slug"))&&b.unset("slug"),_.isFunction(b.nonce)&&!_.isEmpty(b.nonce())&&(d=c.beforeSend,c.beforeSend=function(a){if(a.setRequestHeader("X-WP-Nonce",b.nonce()),d)return d.apply(this,arguments)},c.complete=function(a){var c=a.getResponseHeader("X-WP-Nonce");c&&_.isFunction(b.nonce)&&b.nonce()!==c&&b.endpointModel.set("nonce",c)}),this.requireForceForDelete&&"delete"===a&&(b.url=b.url()+"?force=true");var f=c.success;c.success=function(a,b,c){if(_.each(e.fieldsToSerialize,function(b){"string"==typeof a[b]&&0===a[b].length&&delete a[b]}),_.each(e.fieldsWithRendered,function(b){a[b]=a[b].rendered||a[b]}),"function"==typeof f)return f.apply(this,arguments)};var g=c.fail;return c.fail=function(a){if(_.each(this.fieldsToSerialize,function(a){"string"==typeof e.toJSON()[a]&&e.set(a,JSON.parse(e.toJSON()[a]),{silent:!0})}),"function"==typeof g)return g.apply(this,arguments)},Backbone.sync(a,b,c)}});e.default.mixin(f,Backbone.DeepModel.prototype),c.default=f},{"backbone-deep-model/distribution/deep-model":15,"backbone.cocktail":16}],185:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("leaflet"),e=function(a){return a&&a.__esModule?a:{default:a}}(d);a("leaflet-toolbar");var f=e.default.Toolbar2.Action.extend({options:{toolbarIcon:{className:"geom-icon-cancel geom-icon geom-icon-small",tooltip:"Cancel"}},initialize:function(a,b,c){this._map=a,e.default.Toolbar2.Action.prototype.initialize.call(this,a,c)},enable:function(a){a&&a.preventDefault(),this._map.removeLayer(this.toolbar)}});c.default=f},{leaflet:117,"leaflet-toolbar":115}],186:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("leaflet"),e=function(a){return a&&a.__esModule?a:{default:a}}(d);a("leaflet-toolbar");var f=e.default.Toolbar2.Action.extend({options:{toolbarIcon:{className:"leaflet-draw-edit-edit",tooltip:"Edit Shape"}},initialize:function(a,b,c){this._map=a,this._shape=b,this._shape.options.editing=this._shape.options.editing||{},e.default.Toolbar2.Action.prototype.initialize.call(this,a,c)},enable:function(a){a&&a.preventDefault();var b=this._map,c=this._shape;c.editing.enable(),b.removeLayer(this.toolbar),b.on("click",function(){this.save(),c.editing.disable()},this)},save:function(){var a=this._map,b=this._shape;b.edited&&a.fire(e.default.Draw.Event.EDITED,{layer:b}),b.edited=!1}});c.default=f},{leaflet:117,"leaflet-toolbar":115}],187:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e="undefined"!=typeof window?window._:void 0!==b?b._:null,f=(d(e),"undefined"!=typeof window?window.jQuery:void 0!==b?b.jQuery:null),g=d(f),h="undefined"!=typeof window?window.Backbone:void 0!==b?b.Backbone:null,i=d(h),j="undefined"!=typeof window?window.Backform:void 0!==b?b.Backform:null,k=d(j),l=a("leaflet"),m=d(l),n=a("../models/FeatureModel"),o=d(n);i.default.$=g.default,a("leaflet-toolbar");var p=m.default.Toolbar2.Action.extend({options:{toolbarIcon:{className:"leaflet-draw-edit-edit",tooltip:"Edit title"}},initialize:function(a,b,c){this._map=a,this._shape=b,m.default.Toolbar2.Action.prototype.initialize.call(this,a,c)},getFieldPrefix:function(){return"geom-feature-attributes"},getFeatureModel:function(){var a=this;return this.featureModel||(this.featureModel=new o.default({id:this._shape.postId}),this.featureModel.fetch().done(function(){console.log("done"),a.getPopupContentView().render()})),this.featureModel},getPopupContentView:function(){var a=this;return this.popupContentView||(this.popupContentView=new k.default.Form({model:this.getFeatureModel(),fields:[{name:"title",label:"Title",control:k.default.InputControl},{control:"button",label:"Save to server"}],events:{submit:function(b){return b.preventDefault(),this.model.save().then(function(b,c,d){a.save()},function(a,b,c){console.log("textStatus errorThrown",b,c)}),!1}}})),this.popupContentView},getPopupContent:function(){return this.getPopupContentView().render().el},getPopup:function(){return this.popup||(this.popup=m.default.popup().setContent(this.getPopupContent()),this.popup.on("remove popupclose",function(a){this.close()}.bind(this))),this.popup},enable:function(a){a&&a.preventDefault(),this._map.removeLayer(this.toolbar),this._shape.bindPopup(this.getPopup()).openPopup()},close:function(){var a=this;this._shape.unbindPopup(),setTimeout(function(){a.popupContentView&&(a.popupContentView.remove(),a.popupContentView=void 0)},250)},save:function(){this._map.fire("draw:edited:attributes",{layer:this._shape})}});c.default=p}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../models/FeatureModel":184,leaflet:117,"leaflet-toolbar":115}],188:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("leaflet"),f=d(e),g=a("../defaults"),h=d(g);a("leaflet-toolbar");var i=f.default.Toolbar2.Action.extend({options:{toolbarIcon:{className:"geom-icon-boundingbox geom-icon geom-icon-medium",tooltip:"Fit map to features"}},initialize:function(a,b,c){this._map=a,this._featureGroup=b,f.default.Toolbar2.Action.prototype.initialize.call(this,a,c)},enable:function(a){a&&a.preventDefault(),this._featureGroup.getLayers().length&&this._map.fitBounds(this._featureGroup.getBounds(),h.default.leaflet.fitBounds)}});c.default=i},{"../defaults":183,leaflet:117,"leaflet-toolbar":115}],189:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("leaflet"),e=function(a){return a&&a.__esModule?a:{default:a}}(d);a("leaflet-toolbar");var f=e.default.Toolbar2.Action.extend({options:{toolbarIcon:{className:"leaflet-draw-edit-remove",tooltip:"Remove"}},initialize:function(a,b,c){this._map=a,this._shape=b,e.default.Toolbar2.Action.prototype.initialize.call(this,a,c)},addHooks:function(){var a=this._map,b=this._shape;a.removeLayer(this.toolbar),a.fire("draw:removed",{layer:b})}});c.default=f},{leaflet:117,"leaflet-toolbar":115}],190:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("leaflet"),e=function(a){return a&&a.__esModule?a:{default:a}}(d);a("leaflet-toolbar");var f=e.default.Toolbar2.Action.extend({options:{toolbarIcon:{className:"geom-icon-center geom-icon geom-icon-medium",tooltip:"Zoom to current location"}},initialize:function(a,b){this._map=a,e.default.Toolbar2.Action.prototype.initialize.call(this,a,b)},enable:function(a){a&&a.preventDefault(),this._map.locate({setView:!0,maxZoom:12})}});c.default=f},{leaflet:117,"leaflet-toolbar":115}],191:[function(a,b,c){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{default:a}}var d="undefined"!=typeof window?window._:void 0!==b?b._:null,e=c(d),f=a("./geom_block_map/defaults"),g=c(f),h=a("./geom_block_map_editor/components/GeomMap.jsx"),i=c(h),j=wp.i18n.__;(0,wp.blocks.registerBlockType)("geom/map",{title:j("Geo Masala Map"),icon:"location-alt",category:"widgets",attributes:{featureIds:{type:"array"},controls:{type:"string",default:JSON.stringify(g.default.controls)}},edit:function(a){var b=a.attributes,c=(a.className,a.setAttributes),d=b.featureIds,f=b.controls,g=JSON.parse(void 0===f?"{}":f);return void 0===d&&c({featureIds:[]}),React.createElement(i.default,{featureIds:d,controls:g,onChangeFeatures:function(a){c({featureIds:e.default.pluck(a.models,"id")})},onChangeControls:function(a){c({controls:JSON.stringify(a)})}})},save:function(a){var b=a.attributes;return a.className,console.log("save attributes",b),null}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./geom_block_map/defaults":183,"./geom_block_map_editor/components/GeomMap.jsx":195}],192:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("classnames"),i=function(a){return a&&a.__esModule?a:{default:a}}(h),j=wp.components,k=j.PanelBody,l=j.Button,m=j.Dashicon,n=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,k),g(b,[{key:"onAddNewFeature",value:function(a){a&&a.preventDefault(),this.props.onAddNewFeature()}},{key:"render",value:function(){var a=this.props,b=a.title,c=a.children,d=a.opened,e=a.className,f=void 0===d?this.state.opened:d,g="arrow-"+(f?"up":"down"),h=(0,i.default)("components-panel__body  geom-components-custom-panel",e,{"is-opened":f});return React.createElement("div",{className:h},!!b&&[React.createElement("h2",{className:"components-panel__body-title"},React.createElement(l,{className:"components-panel__body-toggle",onClick:this.toggle,"aria-expanded":f},React.createElement("span",null,b)),React.createElement(l,{className:"geom-components-custom-panel-button geom-add-feature",onClick:this.onAddNewFeature.bind(this)},React.createElement(m,{icon:"plus",className:"components-panel__plus"})),React.createElement(l,{className:"components-panel__body-toggle",onClick:this.toggle,"aria-expanded":f},React.createElement(m,{icon:g,className:"components-panel__arrow"})))],f&&c)}}]),b}();c.default=n},{classnames:18}],193:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return function(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}(a,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),j=a("react-beautiful-dnd"),k=wp.components.PanelBody,l=function(a,b,c){if(a instanceof Backbone.Collection){var d=a.models[b];return a.remove(d),a.add(d,{at:c}),a}var e=Array.from(a),f=e.splice(b,1),g=i(f,1)[0];return e.splice(c,0,g),e},m=function(a,b){return h({userSelect:"none",background:"#eee"},b)},n=function(a){return{border:a?"solid 2px #333":"none"}},o=function(a,b,c,d){if(a instanceof Backbone.Collection&&b instanceof Backbone.Collection){var e=a.models[c.index];a.remove(e),b.add(e,{at:d.index});var f={};return f[c.droppableId]=a,f[d.droppableId]=b,f}var g=Array.from(a),h=Array.from(b),j=g.splice(c.index,1),k=i(j,1)[0];h.splice(d.index,0,k);var l={};return l[c.droppableId]=g,l[d.droppableId]=h,l},p=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,React.Component),g(b,[{key:"shouldComponentUpdate",value:function(a){return"function"==typeof this.props.items.map}},{key:"render",value:function(){return"function"==typeof this.props.items.map?this.props.items.map(function(a,b){return React.createElement(j.Draggable,{key:a.get("id"),draggableId:a.get("id"),index:b},function(b,c){return React.createElement("div",h({ref:b.innerRef},b.draggableProps,b.dragHandleProps,{style:m(c.isDragging,b.draggableProps.style)}),a.get("id")," ",_.isUndefined(a.get("title").rendered)?a.get("title"):a.get("title").rendered)})}):React.createElement("div",null,"something went wrong")}}]),b}(),q={droppable:"featureCollection",droppable2:"availableFeatureCollection"},r=function(a){function b(a){d(this,b);var c=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.getList=function(a){return c.state[q[a]]},c.onDragEnd=function(a){var b=a.source,d=a.destination;if(a.draggableId,d){if(b.droppableId===d.droppableId){var e=l(c.getList(b.droppableId),b.index,d.index),f={items:e};"droppable"===b.droppableId&&(f={featureCollection:e}),c.setState(f)}else{var g=o(c.getList(b.droppableId),c.getList(d.droppableId),b,d);c.setState({availableFeatureCollection:g.droppable2,featureCollection:g.droppable})}c.props.onChangeFeatures(c.state.featureCollection)}},c.state={availableFeatureCollection:a.availableFeatureCollection,featureCollection:a.featureCollection},c}return f(b,React.Component),g(b,[{key:"render",value:function(){var a=this.state,b=a.availableFeatureCollection,c=a.featureCollection;return[React.createElement(j.DragDropContext,{onDragEnd:this.onDragEnd},React.createElement(j.Droppable,{droppableId:"droppable"},function(a,b){return React.createElement(k,{title:"Selected Features",className:"geom-panel geom-components-features-list-container-panel selected"},React.createElement("div",{className:"geom-features-list-container selected",ref:a.innerRef,style:n(b.isDraggingOver)},React.createElement(p,{items:c}),a.placeholder))}),React.createElement(j.Droppable,{droppableId:"droppable2"},function(a,c){return React.createElement(k,{title:"Available Features",className:"geom-panel geom-components-features-list-container-panel available"},React.createElement("div",{className:"geom-features-list-container available",ref:a.innerRef,style:n(c.isDraggingOver)},React.createElement(p,{items:b}),a.placeholder))})),React.createElement("div",{className:"geom-clearfix"})]}}]),b}();c.default=r},{"react-beautiful-dnd":135}],194:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./FeatureList.jsx"),j=d(i),k=a("./CustomPanelBody.jsx"),l=d(k),m=a("../../geom_block_map/collections/FeatureCollection"),n=d(m),o=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=c;return c.props=a,c.state={error:null,isLoadedItems:!1,availableFeatureCollection:new n.default},c.props.featureCollection.on("update",function(a,b){d.fetchItems()}),c.props.featureCollection.on("sync",function(a,b){d.setState({})}),c}return g(b,React.Component),h(b,[{key:"componentDidMount",value:function(){this.fetchItems()}},{key:"componentDidUpdate",value:function(a,b,c){this.state.isLoadedItems||this.fetchItems()}},{key:"fetchItems",value:function(){var a=this;this.props.isLoaded&&this.state.availableFeatureCollection.fetch({data:{exclude:_.pluck(this.props.featureCollection.models,"id")},success:function(b,c,d){a.setState({isLoadedItems:!0})},error:function(b,c,d){a.setState({error:c})}})}},{key:"onChangeFeatures",value:function(a){this.props.onChangeFeatures(a)}},{key:"onAddNewFeature",value:function(a){a&&a.preventDefault(),this.props.onAddNewFeature()}},{key:"render",value:function(){var a=this.state,b=a.error,c=a.isLoadedItems,d=a.availableFeatureCollection,e=this.props,f=e.title,g=e.className,h=e.isLoaded,i=e.featureCollection;return b?React.createElement(l.default,{title:f,className:g,initialOpen:!1},React.createElement("div",null,"Error: ",b.message)):c&&h?React.createElement(l.default,{title:f,className:g,initialOpen:!1,onAddNewFeature:this.onAddNewFeature.bind(this)},React.createElement(j.default,{availableFeatureCollection:d,featureCollection:i,onChangeFeatures:this.onChangeFeatures.bind(this)})):React.createElement(l.default,{title:f,className:g,initialOpen:!1},React.createElement("div",null,"Loading..."))}}]),b}();c.default=o},{"../../geom_block_map/collections/FeatureCollection":182,"./CustomPanelBody.jsx":192,"./FeatureList.jsx":193}],195:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("../../geom_block_map/models/FeatureModel"),j=d(i),k=a("../../geom_block_map/collections/FeatureCollection"),l=d(k),m=a("./Map.jsx"),n=d(m),o=a("./FeatureListPanel.jsx"),p=d(o),q=wp.i18n.__,r=wp.components,s=r.PanelBody,t=r.SelectControl,u=r.ToggleControl,v=[{value:"OpenStreetMap.Mapnik",label:"OpenStreetMap.Mapnik"},{value:"OpenStreetMap.BlackAndWhite",label:"OpenStreetMap.BlackAndWhite"},{value:"OpenTopoMap",label:"OpenTopoMap"},{value:"HikeBike.HikeBike",label:"HikeBike.HikeBike"},{value:"Esri.WorldStreetMap",label:"Esri.WorldStreetMap"},{value:"Esri.WorldTopoMap",label:"Esri.WorldTopoMap"},{value:"Esri.WorldImagery",label:"Esri.WorldImagery"},{value:"Esri.WorldTerrain",label:"Esri.WorldTerrain"},{value:"Esri.WorldShadedRelief",label:"Esri.WorldShadedRelief"},{value:"Esri.OceanBasemap",label:"Esri.OceanBasemap"},{value:"Esri.NatGeoWorldMap",label:"Esri.NatGeoWorldMap"},{value:"Esri.WorldGrayCanvas",label:"Esri.WorldGrayCanvas"},{value:"Stamen.Toner",label:"Stamen.Toner"},{value:"Stamen.Watercolor",label:"Stamen.Watercolor"},{value:"Stamen.Terrain",label:"Stamen.Terrain"}],w=[{value:"FitBoundsAction",label:"Fit Map to Features"},{value:"ZoomLocationAction",label:"Zoom to current Location"}],x=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.state={featureIds:a.featureIds,featureCollection:new l.default,isLoaded:!1,controls:a.controls},c}return g(b,React.Component),h(b,[{key:"componentDidMount",value:function(){var a=this;_.isEmpty(this.state.featureIds)?this.setState({isLoaded:!0}):this.state.featureCollection.fetch({data:{include:this.state.featureIds},success:function(b,c,d){a.setState({featureCollection:b,isLoaded:!0})},error:function(a,b,c){console.log("error",b)}})}},{key:"onDrawCreated",value:function(a){var b=this,c=new j.default;c.set({geom_feature_geo_json:a.toGeoJSON()}),c.save().then(function(a,d,e){b.state.featureCollection.add(c),b.setState({featureCollection:b.state.featureCollection})},function(a,b,c){console.log("textStatus errorThrown",b,c)})}},{key:"onDrawRemoved",value:function(a){this.state.featureCollection.remove(a.layer.postId),this.setState({featureCollection:this.state.featureCollection}),console.log("onDrawRemoved featureCollection",this.state.featureCollection)}},{key:"onDrawDeleted",value:function(a){console.log("onDrawDeleted",a)}},{key:"onDrawEdited",value:function(a){var b=this.state.featureCollection.findWhere({id:a.layer.postId});b.set({geom_feature_geo_json:a.layer.toGeoJSON()}),b.save().then(function(a,b,c){},function(a,b,c){console.log("textStatus errorThrown",b,c)})}},{key:"onDrawEditedAttributes",value:function(a){var b=this;console.log("onDrawEditedAttributes",a),this.state.featureCollection.findWhere({id:a.layer.postId});var c=this.state.featureCollection.pluck("id");this.state.featureCollection.fetch({data:{include:c},success:function(a,d,e){b.state.featureCollection.models=_(b.state.featureCollection.models).sortBy(function(a){return _.indexOf(c,a.get("id"))})},error:function(a,b,c){console.log("error",b)}})}},{key:"onAddNewFeature",value:function(){console.log("onAddNewFeature")}},{key:"onChangeFeatures",value:function(a){this.props.onChangeFeatures(a)}},{key:"onChangeControlsSearchBar",value:function(a){this.state.controls.searchControl=a,this.setState({controls:this.state.controls}),this.props.onChangeControls(this.state.controls)}},{key:"onChangeControlsFullscreen",value:function(a){this.state.controls.fullscreenControl=a,this.setState({controls:this.state.controls}),this.props.onChangeControls(this.state.controls)}},{key:"onChangeControlsLayers",value:function(a){a=a.length?a:["OpenTopoMap"],this.state.controls.layersControl=a,this.setState({controls:this.state.controls}),this.props.onChangeControls(this.state.controls)}},{key:"onChangeControlsZoomView",value:function(a){this.state.controls.viewZoomControl=a,this.setState({controls:this.state.controls}),this.props.onChangeControls(this.state.controls)}},{key:"onChangeControlsLoading",value:function(a){this.state.controls.loadingControl=a,this.setState({controls:this.state.controls}),this.props.onChangeControls(this.state.controls)}},{key:"render",value:function(){return[React.createElement(n.default,{featureCollection:this.state.featureCollection,onDrawCreated:this.onDrawCreated.bind(this),onDrawDeleted:this.onDrawDeleted.bind(this),onDrawRemoved:this.onDrawRemoved.bind(this),onDrawEdited:this.onDrawEdited.bind(this),onDrawEditedAttributes:this.onDrawEditedAttributes.bind(this),isLoaded:this.state.isLoaded,controls:this.state.controls}),React.createElement(s,{title:"Map Settings",className:"geom-panel geom-components-settings-panel",initialOpen:!0},React.createElement(p.default,{title:"Features",className:"geom-panel geom-components-settings-panel-features",initialOpen:!1,onChangeFeatures:this.onChangeFeatures.bind(this),onAddNewFeature:this.onAddNewFeature.bind(this),featureCollection:this.state.featureCollection,isLoaded:this.state.isLoaded}),React.createElement(s,{title:"Controls",className:"geom-panel geom-components-settings-panel-controls",initialOpen:!1},React.createElement(u,{label:"Search bar",onChange:this.onChangeControlsSearchBar.bind(this),checked:this.state.controls.searchControl}),React.createElement(u,{label:"Fullscreen",onChange:this.onChangeControlsFullscreen.bind(this),checked:this.state.controls.fullscreenControl}),React.createElement(u,{label:"Loading Control",onChange:this.onChangeControlsLoading.bind(this),checked:this.state.controls.loadingControl}),React.createElement(t,{multiple:!0,label:q("Base Layers"),className:"geom-components-settings-panel-controls-layers",value:this.state.controls.layersControl,options:v,onChange:this.onChangeControlsLayers.bind(this)}),React.createElement(t,{multiple:!0,label:q("View Zoom Controls"),className:"geom-components-settings-panel-controls-view-zoom",value:this.state.controls.viewZoomControl,options:w,onChange:this.onChangeControlsZoomView.bind(this)})))]}}]),b}();c.default=x},{"../../geom_block_map/collections/FeatureCollection":182,"../../geom_block_map/models/FeatureModel":184,"./FeatureListPanel.jsx":194,"./Map.jsx":196}],196:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("../../geom_block_map/MapMixin"),j=d(i),k=a("../../geom_block_map/toolbarActions/EditDrawAction"),l=d(k),m=a("../../geom_block_map/toolbarActions/EditTitleAction"),n=d(m),o=a("../../geom_block_map/toolbarActions/RemoveModelAction"),p=d(o),q=a("../../geom_block_map/toolbarActions/CancelAction"),r=d(q),s=a("leaflet");a("leaflet-toolbar"),a("leaflet-draw"),a("leaflet-draw-toolbar/dist/leaflet.draw-toolbar");var t=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.props=a,c.state={featureCollection:a.featureCollection},c.config={controls:a.controls},c}return g(b,React.Component),h(b,[{key:"onDrawCreated",value:function(a){this.props.onDrawCreated(a)}},{key:"onDrawRemoved",value:function(a){this.props.onDrawRemoved(a)}},{key:"onDrawDeleted",value:function(a){this.props.onDrawDeleted(a)}},{key:"onDrawEdited",value:function(a){this.props.onDrawEdited(a)}},{key:"onDrawEditedAttributes",value:function(a){this.props.onDrawEditedAttributes(a)}},{key:"componentDidMount",value:function(){setTimeout(this.initMap.bind(this),0)}},{key:"componentDidUpdate",value:function(a,b,c){this.config={controls:this.props.controls},this.initMap(),this.props.isLoaded&&this.updateMapFeatures(),this.updateControls()}},{key:"initMap",value:function(){this.refs.map&&!this.map&&(this.map=s.map(this.refs.map,{center:[51.505,-.09],zoom:13}),this.getBaseLayer().addTo(this.map),this.addDrawToolbar())}},{key:"addDrawToolbar",value:function(){this.drawToolbar||(this.drawToolbar=new s.Toolbar2.DrawToolbar({position:"topleft"}),this.mapSetupDrawHandlers(),this.drawToolbar.addTo(this.map))}},{key:"mapSetupDrawHandlers",value:function(){var a=this,b=this.map;return b.on("draw:created",function(b){a.onDrawCreated(b.layer)}),b.on("draw:deleted",function(b){a.onDrawDeleted(b.layers)}),b.on("draw:removed",function(b){a.onDrawRemoved(b)}),b.on("draw:edited",function(b){a.onDrawEdited(b)}),b.on("draw:edited:attributes",function(b){a.onDrawEditedAttributes(b)}),this}},{key:"featureAddPopup",value:function(a){var b=this;a.on("click",function(c){new s.Toolbar2.EditToolbar.Popup(c.latlng,{actions:b.getPopupActions()}).addTo(b.map,a)})}},{key:"getPopupActions",value:function(){return[l.default,n.default,p.default,r.default]}},{key:"render",value:function(){return React.createElement("div",{className:"geom-map",ref:"map",style:{height:"400px",width:"100%"}})}}]),b}();_.extend(t.prototype,j.default),c.default=t},{"../../geom_block_map/MapMixin":181,"../../geom_block_map/toolbarActions/CancelAction":185,"../../geom_block_map/toolbarActions/EditDrawAction":186,"../../geom_block_map/toolbarActions/EditTitleAction":187,"../../geom_block_map/toolbarActions/RemoveModelAction":189,leaflet:117,"leaflet-draw":101,"leaflet-draw-toolbar/dist/leaflet.draw-toolbar":100,"leaflet-toolbar":115}]},{},[191]);